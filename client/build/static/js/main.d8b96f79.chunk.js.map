{"version":3,"sources":["images/markers/dot_marker_blue_16.png","images/markers/dot_marker_orange_16.png","images/markers/dot_marker_green_16.png","images/markers/dot_marker_gray_16.png","images/markers/dot_marker_blue_32.png","images/markers/dot_marker_orange_32.png","images/markers/dot_marker_green_32.png","images/markers/dot_marker_gray_32.png","images/app/trolleybus.svg","images/app/bus.svg","utils/vehicleProps.js","images/app/tram.svg","i18n.js","context/auth-context.jsx","utils/queryRequest.js","components/dashboard/views/assign.jsx","components/dashboard/utils/dataTable.jsx","components/dashboard/views/assignments.jsx","components/dashboard/ads/history.jsx","components/dashboard/views/ads.jsx","components/dashboard/clients/clientTool.jsx","components/dashboard/views/clients.jsx","components/dashboard/views/sales.jsx","components/dashboard/views/settings.jsx","components/dashboard/campaigns/fleetDetails.jsx","components/dashboard/utils/smallInfoCard.jsx","utils/formatDate.js","components/dashboard/map/marker.jsx","components/dashboard/map/liveMap.jsx","components/dashboard/campaignDetails/cards.jsx","components/dashboard/views/campaignDetails.jsx","components/dashboard/campaigns/CampaignTool.styles.js","components/dashboard/campaigns/campaignTool.jsx","components/dashboard/views/campaigns.jsx","utils/roles.js","components/dashboard/views/mails.jsx","components/dashboard/users/userTool.jsx","components/dashboard/views/users.jsx","components/dashboard/views/operators.jsx","components/dashboard/teams/teamsTool.jsx","components/dashboard/views/teams.jsx","components/dashboard/teams/addInstallerTool.jsx","components/dashboard/teams/selectedInstallerTool.jsx","components/dashboard/views/team.jsx","components/dashboard/utils/listFeed.jsx","utils/activityTypes.js","components/dashboard/fleets/installationNotificationFeed.jsx","components/dashboard/views/fleetDetails.jsx","components/dashboard/views/fleet.jsx","components/dashboard/general/activeCampaigns.jsx","components/dashboard/general/totalCampaigns.jsx","components/dashboard/general/latestCampaigns.jsx","components/dashboard/general/incomePerMonth.jsx","components/dashboard/general/salesNotificationFeed.jsx","components/dashboard/general/campaignNotificationFeed.jsx","components/dashboard/general/generalLiveMap.jsx","components/dashboard/roleBased/generalAdmin.jsx","components/dashboard/roleBased/generalLead.jsx","components/dashboard/routes.js","components/dashboard/views/genaral.jsx","components/dashboard/all/navbar.jsx","components/dashboard/all/toolbar.jsx","components/dashboard/all/title.jsx","pages/dashboard.jsx","components/installation/components/uploadImage.jsx","components/installation/components/navs.jsx","components/installation/views/campaignsList.jsx","components/installation/components/vehicleCards.jsx","components/installation/views/history.jsx","components/installation/views/vehicleList.jsx","components/installation/utils.js","components/installation/views/placementView.jsx","components/installation/views/vehicleView.jsx","components/installation/views/byCampaign.jsx","components/installation/views/byFleet.jsx","components/installation/views/placementViewFleet.jsx","pages/installation.jsx","utils/languageSelector.jsx","pages/login/loginPage.styles.js","pages/login/login.jsx","utils/withAuth.jsx","history.js","pages/passwordRecovery.jsx","pages/newPassword.jsx","components/client/details.jsx","components/client/login.jsx","index.js","images/logo.svg"],"names":["module","exports","types","1","name","img","require","2","3","vehType","id","parseInt","split","slice","vehID","vehTypeStr","t","type","Object","keys","includes","toString","vehTypeObject","measure","lat1","lon1","lat2","lon2","dLat","Math","PI","dLon","a","sin","cos","atan2","sqrt","supportedLangs","short","i18n","use","detector","Backend","reactI18nextModule","init","whitelist","map","lng","fallbackLng","backend","loadPath","ns","defaultNS","keySeparator","interpolation","escapeValue","formatSeparator","react","wait","missingKeyHandler","key","fallbackValue","console","log","validLangs","React","createContext","token","tokenExpiration","_id","role","login","logout","query","signal","sessionStorage","getItem","localStorage","fetch","method","body","JSON","stringify","headers","Authorization","res","json","errors","Error","data","update","team","placement","count","refresh","number","remove","queryRequest","installOrderCreate","installOrderRemove","Column","translate","assigned","useState","String","value","setValue","Form","onSubmit","e","preventDefault","InputGroup","FormControl","onChange","num","target","test","undefined","style","maxWidth","Append","Button","variant","className","Team","state","campaign","teams","loaded","controller","AbortController","loadFullData","props","match","params","teamsObj","placements","teamsInstallOrder","installOrders","order","setState","this","abort","Row","Col","Card","Header","Body","Table","responsive","striped","bordered","hover","size","t_id","company","p","now","o","reduce","b","place","Component","$","DataTable","arrayToObject","array","keyField","obj","item","Promise","all","columns","col","load","$table","el","ajax","url","beforeSend","request","setRequestHeader","rowCallback","language","lengthMenu","zeroRecords","info","infoEmpty","infoFiltered","search","loadingRecords","processing","thousands","paginate","first","last","next","previous","setRefresh","reload","width","ref","thead","redirect","visible","searchable","render","_","more","priority","defaultContent","date","Date","getDate","padStart","getMonth","getFullYear","classList","add","onclick","push","to","xs","History","options","chart","stacked","xaxis","total","series","length","serial","created_at","toISOString","y","tempDate","x","values","sm","md","xl","height","Ads","places","ClientTool","client","person","email","phone","handleDelete","evt","Swal","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","clientHardDelete","showConfirmButton","timer","doRefresh","selected","loadClientData","Fragment","handleSubmit","Group","Label","Control","handleNameChange","required","handlePersonChange","handleEmailChange","handlePhoneChange","block","context","onClick","contextType","AuthContext","ClientsTable","Clients","handleRefresh","f","handleSelection","Sales","orderable","Settings","FleetDetails","content","vehicle","toUpperCase","city","installs","install","Spinner","animation","refreshData","vehicleInstalls","uniqueInstalls","inst","SmallInfoCard","link","colorDescription","main","description","color","ListItem","click","backgroundColor","border","Accordion","Toggle","as","eventKey","href","cursor","Collapse","formatDate","startDate","endDate","Empty","VehicleLink","list","line","vehicleNumber","Marker","campaigns","handleClick","campaignVehicles","doHighLight","vehObj","loadCampaigns","vehicleCampaigns","handleAccordionClick","cb","doUnHighLight","maxHeight","LiveMap","intervalID","vehicles","removeHighLight","forEach","vehicle_id","setIcon","dotIconSpecial","origIcon","getData","moveVehicle","createVehicle","doSelection","latitude","longitude","haveAds","listed","dotIconActive","dotIcon","dotIconUnlisted","pointer","L","marker","riseOnHover","zIndexOffset","addTo","getPopup","popup","document","createElement","ReactDOM","details","bindPopup","openPopup","on","ev","veh","smooth","refreshRate","getLatLng","equals","distanceTo","slideTo","duration","keepAtCenter","setLatLng","latLng","hiLight","unHiLight","isPopupOpen","closePopup","center","zoom","continuousWorld","tileLayer","detectRetina","maxZoom","maxNativeZoom","minZoom","iconUrl","blue","iconSize","iconAnchor","popupAnchor","green","orange","gray","setInterval","setTimeout","clearInterval","minHeight","borderRadius","TimeSpan","marginTop","ProgressBar","Cities","cities","SaleBy","creator","Budget","budget","Live","mapData","InstallPlacementStat","filter","i","installed","InstallProgress","renderTableData","fleet","ads","removed","operator","operatorId","ActivityTable","CampaignDetails","progress","index","lightbox","selection","openLightBox","pictures","countList","Set","getTime","mainSrc","path","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","timeLeftPercent","join","totalFleets","getMapData","Badge","display","flexDirection","alignItems","images","padding","Image","src","thumbnail","FullView","styled","div","TitleContainer","registerLocale","et","Place","lg","label","Prepend","doButtonPress","doChange","CampaignTool","cities_selected","start_date","end_date","contactEmail","clients","empty","loadCampaignData","find","citySelection","initialLoad","campaignHardDelete","handleShare","def","input","inputValue","inputAttributes","autocapitalize","showLoaderOnConfirm","preConfirm","campaignShare","showValidationMessage","allowOutsideClick","isLoading","havePlace","placesSave","campaignUpdate","campaignCreate","handleCityChange","handleClientChange","handleStart","handleEnd","handleBudgetChange","handlePriorityChange","checked","handlePlaceButtonPress","sum","handlePlaceCountChange","handlePlaceGetCount","onSelect","dateFormat","isMulti","switch","htmlFor","data-on-label","data-off-label","CampaignsTable","Campaigns","roles","badgeColors","0","5","11","roleTranslate","rolenr","getBadgeColor","MailingCheckbox","margin","Mails","createdCell","td","dataCell","dataRow","createCell","change","handleCheckboxClick","userMailing","position","UserTool","user","k","edit","loadAllCities","componentWillReceiveProps","loadUserData","roleSave","userHardDelete","handleRoleChange","Users","CityAccordion","operatorsAll","op","OperatorAccordion","OperatorToggle","decOnClick","useAccordionToggle","setCompany","setEdit","column","disabled","v","totalAds","Operators","loadCityOperators","handleOperatorChange","TeamsTool","teamHardDelete","loadTeamData","placeholder","Teams","doSelect","handleInstallerChange","loadInstallers","installersValid","u","installerCreate","installerRemove","ListFeedItem","realDate","dateToString","dangerouslySetInnerHTML","__html","message","loadMore","component","loading","activities","feed","limit","ListFeed","doLoadMore","onScroll","scrollHeight","clientHeight","scrollTop","scrolling","NEW","EDIT","NAME","CLIENT","BUDGET","CITIES","START_DATE","END_DATE","NOTIFICATION","PRE_START","START","PRE_END","END","INSTALLED","REMOVED","SHARE","DELETE","COUNT","CLEAR","InstallationNotificationFeed","activityTypes","campaignsOnTheFleet","numberPlate","alt","Fleet","ActiveCampaigns","campaignsActive","camp","TotalCampaigns","budgets","LatestCampaigns","IncomePerMonth","campaignsTil","thisMonth","revThis","revLast","cmp","SalesNotificationFeed","CampaignNotificationFeed","GeneralLiveMap","operator_selected","city_selected","operatorVehicles","cityVehicles","tempCity","tempOperator","operators","openCityDefault","indexOf","zIndex","useContext","appRoutes","general","nav","users","Campaign","sales","Vehicles","Vehicle","assignments","Assignments","assign","Assign","mails","settings","isAllowed","route","RoleLink","children","replace","NavbarItem","logo","entries","r","translation","n","badge","initialColors","getInitials","fullName","l","nameTrim","trim","canvas","appendChild","getContext","fillStyle","fillRect","font","initials","fillText","toDataURL","removeChild","Toolbar","lang_toggle","user_toggle","togglescreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","toLowerCase","data-toggle","minWidth","changeLanguage","handleLogout","doNavbarDisplay","imgUrl","TitleFunction","Inner","handleNavBar","getElementById","toggle","Title","removeImg","pictureDelete","Img","me","openLB","splited","user_id","Images","loadImages","campaignPictures","openLightbox","Modal","centered","scrollable","onHide","handleClose","keyboard","show","borderBottom","Footer","borderTop","uploadImage","campaign_id","file","fd","FormData","append","timerProgressBar","onBeforeOpen","showLoading","close","status","SearchAndTriggerNav","mt","trigger","Navbar","fixed","Container","off","marginBottom","CampaignNav","uploadBtn","start","end","pl","lineHeight","hidden","files","HomeNav","justifyContent","NavDropdown","Item","CampaignItem","statusSize","placesLeftPercent","CampaignList","searchTimeout","loadInCampaigns","campaignsForInstallers","handleSearchChange","clearTimeout","handleSearchSubmit","VehicleByPlacement","VehicleByHistory","activityType","ActivityTypes","object","fontSize","VehicleByCampaign","doVehicleSelect","installsLoadIn","history","handleSwitchTrigger","VehicleList","inUse","handleLoadIn","handleSearch","loadAll","loadCampaign","campaignVehiclesForInstallers","vehiclesForInstallers","goBack","compressInstallsInVehicle","handleAdRemoving","placement_id","removeAdd","removeAd","UninstallCard","doRemove","displayCampaign","OtherCampaignUninstallCard","successful","error","badRequest","PlacementView","alert","showOthers","handlePlacementsLoad","handleInstall","installAd","doCampReload","doPlacementLoad","doVehicleReload","handleInstallCountChange","handleFullRefresh","marginLeft","marginRight","Alert","Heading","borderColor","PlacementItem","Placements","placem","VehicleView","selectedPlacement","handlePlacementLoad","doVehicleLoad","ByCampaign","selectedCampaign","selectedVehicle","handleCampaignLoading","placementsForInstaller","handleVehicleSelect","handleVehicleLoading","FleetList","loadVehicles","activeVehicles","PlacementUninstallCard","doRemoving","PlacementViewFleet","handleVehicleLoad","catch","getInstallerId","setInstaller","installerMe","intaller","ByFleet","CampaignsList","exact","defaultValue","HideIcon","span","LoginInput","InputWrapper","AlertDismiss","onClose","hide","dismissible","Login","password","remember","logging","expired","invalid","connection","handlePasswordToggle","prevState","handleUserChange","handlePassChange","handleRemeber","autoComplete","username","minLength","faEyeSlash","faEye","rolesToDashboard","LoggingIn","Auth","tokenValidate","validated","setItem","removeItem","token_data","jwt_decode","userId","userName","userRole","exp","Provider","Installation","Dashboard","RootRedirect","createBrowserHistory","RecoveryForm","doSubmit","doEmailChange","Information","PasswordRecovery","submit","pass1","doPassword1Change","pass2","doPassword2Change","pattern","InvalidToken","NewPassword","password1","password2","tokenError","success","resetPassword","validateToken","recoveryValidate","handlePassword1Change","handlePassword2Change","Details","View","paddingTop","ClientLogin","campaignLogin","MainRouting"],"mappings":"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","file":"static/js/main.d8b96f79.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAHuSURBVDhPY0AHZ8+etf/06dPsjx8/3vv69et/EAay7wPxbKCcA1QZJpg6dSr7mzdvlv/79+8/LgCSA6kBqYVqY2AEESCB6Ojok/z8/Pog/oHTdxg2HX7A8OjlZwaG/wwMchK8DH62CgwOpiogaQagay4uW7bMPCsr6yfYAJCpwsLCEb9+/WEonbiH4djV9wyMjGApOAA6gMFKW4ihK9+ZgZ2NheHdu3crgHoiGUF+NjQ0PADSUNy3i+Hw5XdQLdiBra4QQ2+RG9jA8+fPOzCpqqrGgDSfuvSA4eClt1BluMHBi2/BakF6QHqZgCY5gyQ2HXnAwITmbGyAiYkRrBYEgHpdmFhYWBRBnMevvoIFiQEwtUC9CkxgFhAwA00mFiCrZfrz5w/YPYqSPGABYoCiFC+YBukFuWAPiBPuqg701D8QEz8Aqgl3UYNyGPYw3blzZykoStQUxBmC7WWh4rgBSA1ILUgPSC8sIYESRThIsHfxUYbV+x8BEyA8eMCAkeEfQ6iDHENxnDU4Ct++fbtSREQkghkkKS8vv1ldXd2Xg4NDwkpfjsHTQhro1N8MfFwsDLJiXAxWumIMTakWDJ426mDNoKS8YsUK761bt/4Fmw4C06ZNA2WmFURkphUgtVBtmACUZaHZ+T7h7MzAAADkjSMLDltY0QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAGPSURBVDhPjZPPSgJRFMbPHYdaFijUsizbz7Y/JNQLBEEGPUKLgnqKhFa6cR0ZtGnVxoVotQhkegDLwBYJKmrMRse5ne92RwbNmh/cuWfO+b7LHeYcGqdSqWz3er1ct9t9cxxHYnFc45XjWlLLJslkMrPNZvPa8zw5DdSggVbbfkCi0+m8aJ0cfBTloHwi+/d7aiFGzgfabDarDhF44NRoNJqiYZ/cpzOixqNfCiCJFjbIXE8TRWao3W7n2XMo8M2WZRWFEOQ+nBJ9lrVhCotbZG5eEl+EbNtOGolE4gjmYeOZzSWt+gPWQAsPvAaftIO8rN3xc/zavyG0lj1S7hqmaS6rN6eutlBoLXuXDBUxHkV09D9BreG67rsK5uIqEQZfCy9uUMCLWD3AFoqAtmBUq9Ur/JLI/BqJ+L7OTwcaaOGB128kNAUfK8m1L4hebznroRTAILHCZuucY0GtVusmFoulVAmtzMMyauXhV10O7LTsl47VQoycT7CVRyCBm4QYpvyEOQhGVo9z7f9xJvoGl9RK2nAZgogAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAGISURBVDhPjZM/S8NQFMVfnvUPutjiB6hDRBSELq4WdFFRcFAcOikIxaXgoH6Qdik4VdpNVNSliLiHOGQRQtMlW4NJIFQk5PnOM6nVEM0vXPJy7zk3Kb2X/EZRlBXXdeuO43Q8z2MIfjZ41HmtGMriVKvV8V6v1wyCgCWBGjTQhrYvkLBt+yXUseu3e7Zt7LP512UROCMXAW2tVvtugq4o9IN3tmnsMapl2YiW+xFUmxY1aIBlWU14JfzmQqHwJEkS2emWyK33IJomsTW1Tq7yDcJ7EFVVi1SW5RLMj+4zufHuQlky0EALD7yUd1pF4cJuEIlQIfoLaKAF3LtGM5nMLB70j45IpiHScm9+8MpRfqVlWEt93+/isDAxJxJpiLTw4gvaeDjOHeGWiiFtm+q6fom/ZGlykZSzh2E+mXL2QGjhgVck+SC1eIIF/KqYZ2xMm4kNEnIV81RoADzCDDDKfFkGo6z3DXZinrONzq4InJGLiI0yQAJdUyxTK2YeBisbrrPx/zoT8glMe3fWyqhIqgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAGVSURBVDhPjZO9TsJgFIZPC2HDSNoFU0IUouBmZAMl4sA16AV4UY4McgkkECGoCQM1TEgcEEkRGfizkBASfux7QgmCSp+kzfl536/92vPROuVyOdLtdhPD4VAbjUZzXIg7nU4CvYVsk1QqtdNut+9ms9n8L9CDBtqFjQTcUAiHw/dOpzOEvF7XqFqtUa/XR0ou1y75fPvk9Xo4HwwGaqFQuIzH4zovgFUlSbqaTCaUzz9Ro9Fk4TqKskfRaITsdjsZW0rKsnwtYF/BYPBREATKZh9I0xoL+e94PArFYudk7IgqlcqZ6Ha7b2D+aH5uNQNooIUHXtHhcFygUXt7Z4EVTC28os1mU5D0+19ctIKphVfkyEAQluFWVrXidDrljUuSiwtWMLXwiuPxOIfE7z/gD7MNaKAF8IqtVusWv0SWJQoEDrnxH9BACw+8PwYJRfW5RJWXVxasgicHj48odHrCsTlI3MQo67peNEyMMcJzVS3NM5kcX4hRMzFGuZhOp5fngUHBeJOklcO0YV4Fo42ja+04E30DoEc977NtoxoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH5AMEBTI2rcIdsAAABQRJREFUWMO1V11oU2cYfs53TpPUo02zpm6wrKWdpgpTZ8OwXuynTJrtJsqgndALvdEtKQiCjFEGS2ctg+HVlhirF1JGwYatAcERJ1XZYBVx6SqoJ+1O/AmKq/mp+enx5Jzz7WbRnCar1sbn8vm+7/35zvt+530YLIGxsTH09PQAAMLhcIvVanXwPO/ieX4bx3F2k8kEAJAkCYqizORyuclsNnsmkUhcdTqdIgCEQiHs2rULy0YgEAAAeL3ezaIoRmRZzquqSp8FVVWpLMt5URQjXq93CwAcO3bs+R0PDQ0BAA4fPtwoCMJxWZbpi0KWZSoIwvEjR440ltp+Jnw+ny2ZTKZolZBMJlM+n89WyRdTmnl/fz8mJia62tvbfzGbzaTSgT/+FBCJPsTtB1lk8wUAwJraGjS9thpb7VZsb2+rmNT8/LwWiUQ+7uzsPFf0pQugmHlvb+/txc4ppfjtynX0+3/HAjWDJQwAWpaLqlHUMmkMed7Du+9sBMMwZUGMjo42ezyeuO4GAoEA5ubmGvv6+qIWi6W+9FAqlcKB787h2m0ZBoOhguPyS5VlGW81G/D9F05Y6nXmkE6n0z6fz97Q0DDndrvBFFtNEITjdrt9f+nmew+S6P4yhAKzGqDa8tqIITDQHE5/uxOvv/qKbikajZ5oa2vbHwwGwQaDQXi93s0ul+sky7JPNmWzGew89DNkugrMM7OuBAqF1mB84hp6PlwHg8H4ZKWurs7Bcdy4x+N5wACAKIqRlpaWt0u/+f6Bn/DXHW35mVe4iS1NLIa//kRXE7FYbKq1tXUrCYfDLTabTVe60dg9XJnJrdw5AFANV6JZRGP3dLTNZmsLh8MtxGq1OliWrS1dPHT0LGoMJlQLNUYTDh09q+NYlq21Wq0OwvO8i5CnXTcbu4v4I/4Fv/v/9QVFPMNjNnb3CUcIAc/zLsLz/LbSzdOzD8GyBNUGSwimZxM6juf5DsJxnL2UvHU/A7LoAakGCMPg1v1HOo7juPWk+EstIicpeFlYbNtkMoGUXxXz0gKoZJtIkqQj6tcYXloAi21LkgSiKMpMKbnOZoZGadWda5Rinc2s4xRFmSH5fH6ylOzY9AakfKbqATxeyKJjU5O+JnK5SZLJZM5omlbyTpvxkaMeqlY956oGdLWbUVdX9/RGNA3ZbPYMSSQSV1VVXSg9MHDABQ5S1QLgIOGbAy59UKq6kEgkrhKn0ynG4/Go7oGoNWJ3pw0FdeXOCyqwu9MGvtao4+PxeNTpdIoEAEZGRvYUCgXdhoN7d8DRrK2oIDVK4WjWcHDvDn1QhQJGRkb2AABTnNsFQRi22+379FWqom9wDJN/A0Zuee/DY4Vi+5vAD1/1gONY3ZogCCc3bNiwLxQKPR3JEolEo9vtnrFYLObFxoZPX8KP5+/gkcTCwLFLjGUMZEVFnVFF744mfLb7/bIdqVRq3u/32xsaGv5xu90Vh9I7ZrO5LN3HsoKTwUsIjF9HzSorCGFQ/GVQCmgahZx/iM93bsS+Tz+A0cBVmozp6OhoU+lQWiZILl682JVOp7Wl5vzpGyIdPz9FT4Uu01Ohy3T81yk6fSO2pDZIp9PahQsXup5LoPj9flsymUxXUZik/X6/bbnSbK0gCMMrlWY3b948MTg4uHZZ0qxUUA4MDGwWRXHqBcTp1POI0yV7KxgMoru7uyjPW61Wa/t/8ryD47j11ZDn/wJiWtpgN/kHzAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH5AMEBTAJKZJSDwAABJ1JREFUWMO1V01MG0cYfTu7gGFVHMKaA7JamSiGQ5qkBUHUHipVCr5ZuYCQOOTSEBlOVMqlJ0ckXHuy+QnKgYMPWKJIHCr3AFRKI9QGgVIqsZBslMap1Dpr1sV27PXOTg8Otdc2/+YdP++8ed8383m+x+EQzM3Nob+/HwAQiURckiR1iqLoFUWxRxAEt81mAwBkMhkYhrGTSqVWk8nkoqqqax6PRwGAhYUF3Lp1CyfG5OQkAMDv919VFGVd1/U0pZQdBUop03U9rSjKut/vvwYAExMTx994fHwcADA2NuaQZXlK13V2Wui6zmRZnnr48KGjmPtIBAIBZzwe32VVQjwe3w0EAs5jZb60tNSraVrFWpuMMePtE5Z9PsGMp/dYeukuSy/dZcbTe/nY2yfMPECEpml0eXm5t7QSXGnmg4ODr+12O7HKY8hEfwH323fgjT2A4ytnwSgo/xFY9zhszi9L6ZFIJMxQKPTJ8PBw1CJgcnISsVjMMTIyst3U1HSheBFNx0CffgsSfw4QoYy0ggrANMAufgryxffgGxyWXzVN0wKBgLu5uTnm8/nA7beaLMtTbrd7qPhjM/UXzJ/6AJrFqcDXgfSGQcRWS3h7e/tRe3v7UDgcBh8Oh+H3+696vd4Zni+Ulmb/BfvRC5jZY2R9UDEMMGUerK0fRKj7P9zY2NgpCMIPw8PDf3MAoCjKusvlul5cxuzSEPj4OqoB8+I11H49Y0nk1atXG21tbZ+RSCTicjqd7cULsuoL8O9+RbVA3j1DVn1hiTmdzvZIJOIikiR18jxfb1mwOvrhwlVLgQBuddR6PXi+XpKkTiKKopeQQtdR7QW41JvTn3tFcCCpN6BaoQqEEIii6CWiKPZY2u7d7wf3+Zk08HnuIoiieIMIguC2lCb1GuDIOQggee4iCIJwmew/qfswMnGcF0q5bTYbylKlpP7cBFTiJplMxhKoqWs8NwGl3JlMBsQwjB2LogtugNHq785onrv4SAxjh6TT6VXLv1ZLz7kJMFssDYdUKrVK9vb2Fk3TLJTJ1gjaerO6IhgFbb2JGlvhCEzTRDKZXCSqqq5RSt9bWrF7DIzUVm9/Ugu+e8x6ISl9r6rqGvF4PEo0Gt229GdtA9ilAcDMVeElyoFdGoBQ22AJR6PRbY/HoxAAmJ2dvZ3LWTervT4KSF0AY2dInQFSV56rCLlcDrOzs7cBgNuf22VZnna73Xcs600D9OchIPYMOOmRmDrg6AL/1TS4kodNluWZjo6OOwsLC4WRTFVVh8/n22lqarKXDFjIbU4BOyGQnAaQmiNLbtZcAHd5AMIVX9mTtru7mwgGg+7m5uZ/fD5fxaH0T7vdXv4U0iwymzMQtiYATsi/FxxXKDUzAWYg1+FD/ZVvAL6ujCKRSLBQKPRx8VBaNpavrKz0appmHuh8GGN67A9GX86z9OZjlt58zOjL+XzsEG+gaZpZaSyviGAw6IzH41oVjYkWDAadJ7VmLbIsT5/Vmm1tbT168OBBy4msWbGhvH///lVFUTZOYU43jmNOD527wuEw+vr69u15myRJn3+w5zcEQbhcDXv+H1Kc+KaA2vifAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH5AMEBS0dzCTqbgAABLpJREFUWMO1V01MFGcYfubbAQam2B13sG26LbWty8VgUhP1QGIvdQ9t8K+amqjcTDYe7K2JbcISRI02vdhdVC7CrXIxNZosB+FIqwbrbiKzqxst0LTF2R3C7jLM39sDXZyBBRTXJ5nL837f977P+81knpfDKrh+/ToOHz4MAEgkEptlWd4uimK7KIo7eZ4PCYIAANB1HZZlZYrF4mihULipqur9cDicBYAbN25g3759eGVcvnwZABCNRluz2eyYYRgl27ZpLdi2TYZhlLLZ7Fg0Gt0GAL29vS+f+OzZswCA7u7uJkVRrhiGQeuFYRikKMqVnp6eJvfZayIWiwVzuVyeqoRcLpePxWLBl1J+586dPZqmVe61Q3R7Zog6p87T1087KJw+SOH0Qfr6aQd1Tp2n2zNDRE7lIjRNs4eHh/es2olYLBaslNwhh27lhsj/sJmQ3EAsJZEvtdHzsJRESG4g/8NmupUbIqdCJZqm2fF43NMJrvzCTU9PN508eTItSZLfveAf/Tn2TnyD3/TfwRgPbmHLiiAQHDKxo24Hfv3gF7wjyJ64pmlaLBYLBQKB6UgkAq78qSmKciUUCp1wL35q/Imtj3dBp3msBwJXh9Sno/io9kMPn06n+1paWk4MDg4uyIlGo62nT5/+o6amZnHRrFHEu4+3QCd9TdWrdUPgBPz9SQaNdeIib5omzp07t62zs/MhA4Djx4/3u5MTCHufHcE8za87+cL9cpinebRPHAGBFvmamhocO3asHwBYIpHYHAwGW9wbU7OPMDw/jGphRB9GavaRhwsGgy2JRGIzk2V5u8/nq3cH908cBcfxVSuA43jsnzjq4Xw+X70sy9uZKIrtjLHFQLL0CE+cDBhY1QpgYHjiZJAsvegCYwyiKLYzURR3uhePFu5VVb27C6OFex5OFMVdjOf5kJvMmNVV7+5Cxsx4OJ7nt7DyL7UM1crjTWHp2YIgLJcqkvjGCqh0NtN13UNsqHvrjRWw9Gxd18Esy/JcTKuwFTbsqie3YaNV2OrhLMvKsFKpNOomvxA/B2yr+vIdc+FsF4rF4iibnZ296TjOIinV+nFAPAAbVhXVWzjQcBBS7YsfreM4KBQKN5mqqvdt255zb7jW3ItaEqpWQC3V4Vqz1xfatj2nqup9Fg6Hs5OTk2l3sJEXccofgU3G66snA6ekCBp57xcwOTmZDofDWQYAAwMDHaZpehZcCEbR1tAGB876rx0O2hracOH9Lg9vmiYGBgY6UPbtAKAoytVlrtYxaXfmK0KyYZkFW+tBUqTdj78kwzGXWbPx8fG+cu5FS6aqalMkEslIkvT2UiXdf/2In/I/QyMVPq52zZb7uQC+3RhB53vfLYvn8/mZeDweCgQC/0YikYqmtKKvnbPn6IdnPYRkPSHZSFzKTywlEUtJxKX8hGQjIVlP3z/roTl7biVn7Cw1pcts+cjIyJ6Viihb87szY9T3vJ8uTl2ii1OXqO95P92dGVvRkpeTr2nLy4jH48FcLqdVcTDRVlS+ymi2SVGUq687mo2Pj/edOXNm0yuNZu6BsqurqzWbzT5Yx3D64GWG01Ut7+DgIA4dOlQezz+WZfmz/8fzXTzPb6nGeP4fNK2j/eABaRYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAQnSURBVFhHtZddTxtHFIYPu8YmNYi4xnwFx0BkqJI0wEVLKVKRFWrftspN1SpSpUr8AH4B/6IS4qpF6VWVCwqoLrSGqCDKBViitHwIWOwmARxC7DWJHbA77/Tg+gNSqJdHWjFzxvOeZebMmbMldA4GBgaooaHhekdHx6dVVVUei8XSZjKZrpvNZgXjyWQydXR0tJ1IJIJ7e3uBxcXFh+FwWMO8ohkbG/twc3PzB13XX6fPCX6LOaOjo93/+yWGhoaqVldXvxH/1THrXhjMFRrfQotlz8f4+Pj7u7u7GusUDbSgyfI5FMTA1NSUV+z19xUVFeVsyiC06OnTXfHs0PODA9L1Q2kvt75FNttVqq2tEU81lZQUhlYsFtMXFhbu9fT0+Nkkyfkl3rK7u3sy33kqlaK1tQ1aWloWTnW2nk55uZVu375FbnczKYqM0Qxirj4zM3PX5/P9xiZS+a/cc4/HM2Gz2RxskogXp4nJAK2triPa2Xo2yeRrCof/osePn1BdXS1ZLGYeIRKnxlxZWelraWkZHhkZkcuXWQEEnNvtvs9dyfODF/STf5JevnzFlotx5UoZfey9S7arlWz5B+FruLW1VfqSa4Sj5nK5vkD7hHj8sCjnAHOhAa1sGhsbP4dPtFWc097e3q/tdnurHBUg2H7+5REdiBUoFpGg6Nn+Pt240ZQJTlVVS0pLS2vFdj9QkOEcDodPjjDadoh2RKQbxY44OdDMBj7hW0F6tVqtJrZLfl/6g1vGka8Jn/CtILezTRKNxigSecY944AmtLOBbwUXC/clSDSXRb42fCu41bgviUaj3DKefG34Vk6u1BPyj4yRxA9zteE7N1cKFDWTHA1HUQq1FRQT3JbgYrks8rXhW0Elw32J3f42t4wnXxu+FZRR3JdUVzuQqbhnHNCEdjbwraCG476krMxCTmcD94wDmtDOBr4VFJDxePyIbZI7d24V3OXFAC1oZgOfwWDwoYLqVbzJj2yXoLq5efMd7hUPtKCZDXyGQiFNDQQC5PV6NXEdf4lbiseppqZapk8UJMVQX19HXV2dYhX+Lb4Q/XNzc1/19fWF5DrPz8//qmnaAznKqKpCHs9HdO1aPVsuDuZCA1rZbG1tfQefaMtwxyq0tbU9cjqdn4lbKlO+YO+amlxoiNWIUDqV5pE3o5pUofcudX3wXoFzobPt9/vv9ff355ZkQBSlnaIonTitItb1OC0v/0kbm1uUeJVgay7icqHm5ka55yhO80FROjs72yu2fI5NhaAsFyV0TBb0p3B8fJyORPbT6+sb6cXgknzQhg1jZwHN6elpL7t5M2KJOkWUbvPcohFaGjRZ/nwMDg46VlZWhov9NIOGKPlzU+BFEHFxqR+nOUF4FhARJ8TV3t7+yRmf52lxsWjI7UivyHBIMv/9ZUz0NwKdjI1k5P8pAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/trolleybus.b1dd7a6e.svg\";","module.exports = __webpack_public_path__ + \"static/media/bus.a489e26c.svg\";","const trolley = require('../images/app/trolleybus.svg');\nconst bus = require('../images/app/bus.svg');\nconst tram = require('../images/app/tram.svg');\n\nconst types = {\n  1: { name: 'trolleybus', img: trolley },\n  2: { name: 'bus', img: bus },\n  3: { name: 'tram', img: tram },\n};\n\nfunction vehID(id) {\n  if (!id) return '';\n  return id.split('-').slice(-1)[0];\n}\nfunction vehType(id) {\n  if (!id) return '';\n  return parseInt(id.split('-').slice(-2)[0]);\n}\nfunction vehTypeStr(id, t) {\n  const type = vehType(id);\n  return Object.keys(types).includes(type.toString())\n    ? t('vehicle.type.' + types[type].name)\n    : t('vehicle.type.unk');\n}\nfunction vehTypeObject(id) {\n  return types[vehType(id)];\n}\n\nfunction measure(lat1, lon1, lat2, lon2) {\n  // generally used geo measurement function\n  const R = 6378.137; // Radius of earth in KM\n  const dLat = (lat2 * Math.PI) / 180 - (lat1 * Math.PI) / 180;\n  const dLon = (lon2 * Math.PI) / 180 - (lon1 * Math.PI) / 180;\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos((lat1 * Math.PI) / 180) *\n      Math.cos((lat2 * Math.PI) / 180) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  const d = R * c;\n  return d * 1000; // meters\n}\n\nexports.vehID = vehID;\nexports.vehType = vehType;\nexports.vehTypeStr = vehTypeStr;\nexports.vehTypeObject = vehTypeObject;\nexports.measure = measure;\n","module.exports = __webpack_public_path__ + \"static/media/tram.23f970ee.svg\";","import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport { reactI18nextModule } from 'react-i18next';\nimport detector from 'i18next-browser-languagedetector';\n\nconst supportedLangs = [\n  { short: 'en', name: 'English' },\n  // {short:'et', name:\"Eesti\"},\n  { short: 'fi', name: 'Suomi' },\n];\n\ni18n\n  .use(detector)\n  .use(Backend)\n  .use(reactI18nextModule)\n  .init({\n    whitelist: supportedLangs.map((lng) => lng.short),\n    fallbackLng: 'en',\n    backend: {\n      loadPath: '/assets/i18n/{{ns}}/{{lng}}.json',\n    },\n    ns: ['translations'],\n    defaultNS: 'translations',\n    keySeparator: false,\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: ',',\n    },\n    react: {\n      wait: true,\n    },\n    missingKeyHandler: (lng, ns, key, fallbackValue) => {\n      console.log('MISSING LANGUAGE KEY:', lng, ns, key, fallbackValue);\n    },\n  });\n\ni18n.validLangs = supportedLangs;\n\nexport default i18n;\n","import React from 'react';\n\nexport default React.createContext({\n  token: null,\n  tokenExpiration: null,\n  _id: null,\n  name: null,\n  role: null,\n  login: () => {},\n  logout: () => {},\n});\n","export default async (query, signal, key) => {\n  let token = key || sessionStorage.getItem('_t') || localStorage.getItem('_t');\n  const res = await fetch('/api', {\n    method: 'POST',\n    signal: signal,\n    body: JSON.stringify({ query: query }),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: token ? `Bearer ${token}` : '',\n    },\n  });\n\n  const json = await res.json();\n  if (json.errors) throw new Error(JSON.stringify(json.errors));\n  return json.data;\n};\n\n// const query = { query: `query{ clients { _id }}`}\n\n// try {\n//    const {clients} = await queryRequest(query);\n//    if (clients) { }\n// } catch (err) {\n//   if (err.name === 'SyntaxError') {\n//     // No Connection\n//   } else if (err.name === 'AbortError') {\n//     // Aborted\n//   } else {\n//     // Bad request\n//   }\n// }\n","import React, { Component, useState } from \"react\";\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Table from 'react-bootstrap/Table';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\n\nimport {translate} from 'react-i18next';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nconst update = async (team, placement, count, refresh) => {\n    const number = count ? parseInt(count) : 0;\n    if (number === 0) return remove(team, placement, refresh);\n    const query = `mutation{installOrderCreate(placement:\"${placement}\", team:\"${team}\", count:${number}){count}}`;\n\n    try {\n        const {installOrderCreate} = await queryRequest(query);\n        if (installOrderCreate) refresh();\n    } catch (err) {\n        console.log(\"Ohnoo, \", err.toString());\n    }\n}\n\nconst remove = async (team, placement, refresh) => {\n\n    const query = `mutation{installOrderRemove(placement:\"${placement}\", team:\"${team}\")}`;\n    console.log(query);\n    try {\n        const {installOrderRemove} = await queryRequest(query);\n        if (installOrderRemove) {\n            refresh();\n        } else {\n            console.log('Cant Remove')\n        }\n    } catch (err) {\n        console.log(\"Ohnoo, \", err.toString());\n    }\n}\n\nconst isNumber = (num) => {\n    return num === \"\" || /^\\d+$/.test(num);\n}\n\nconst Column = translate()(({t, assigned, team, placement, refresh}) => {\n    const [value, setValue] = useState(String(assigned));\n\n    return (\n        <td>\n            <Form onSubmit={(e) => {\n                e.preventDefault();\n                if (value === '') setValue('0');\n                update(team, placement, value, refresh)\n            }} >\n                <InputGroup>\n                    <FormControl\n                        value={value}\n                        onChange={(e) => isNumber(e.target.value) ? setValue(e.target.value):undefined}\n                        style={{maxWidth: \"55px\"}}\n                        type='text'\n                    />\n                    {value !== String(assigned) && <InputGroup.Append>\n                        <Button variant='primary' type='submit' ><i className='fa fa-paper-plane'/></Button>\n                    </InputGroup.Append>}\n                </InputGroup>\n            </Form>\n        </td>\n    )\n})\n\nclass Team extends Component {\n    state = {\n        campaign: {},\n        teams: {},\n        loaded: false,\n    };\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        console.log(\"Assigns\");\n        this.loadFullData();\n    }\n\n    loadFullData = async () => {\n        const query = `query{teams{_id company} campaign(_id:\"${this.props.match.params.id}\"){name placements {_id count place{name}installOrders{team{_id}count}}}}`;\n        try {\n            const {campaign, teams} = await queryRequest(query, this.controller.signal);\n            const teamsObj = {}\n            for (const team of teams) teamsObj[team._id] = team;\n\n            for (const placement of campaign.placements) {\n                placement.teamsInstallOrder = {};\n                for (const order of placement.installOrders) placement.teamsInstallOrder[order.team._id] = order;\n            }\n\n            console.log(campaign)\n            this.setState({campaign, teams: teamsObj, loaded: true});\n        } catch (err) {\n            console.log(\"Ohnoo, \", err.toString());\n            this.setState({loaded: true});\n        }\n    }\n\n    refresh = async () => {\n        console.log('REFRESHING')\n        const query = `query{campaign(_id:\"${this.props.match.params.id}\"){name placements {_id count place{name}installOrders{team{_id}count}}}}`;\n\n        try {\n            const {campaign} = await queryRequest(query, this.controller.signal);\n            for (const placement of campaign.placements) {\n                placement.teamsInstallOrder = {};\n                for (const order of placement.installOrders) placement.teamsInstallOrder[order.team._id] = order;\n            }\n            this.setState({campaign});\n        } catch (err) {\n            console.log(\"Ohnoo, \", err.toString());\n            this.setState({loaded: true});\n        }\n    }\n\n    render() {\n        if (!this.state.loaded) return null;\n        const { t } = this.props;\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    <Col>\n                        <Card>\n                            <Card.Header>{t('db.assign.table.title')} {this.state.campaign.name}</Card.Header>\n                            <Card.Body>\n                                <Table responsive striped bordered hover size='sm'>\n                                    <thead>\n                                    <tr>\n                                        <th>{t('db.assign.table.placements')}</th>\n                                        {Object.keys(this.state.teams).map(t_id => <th key={t_id}>{this.state.teams[t_id].company}</th>)}\n                                        <th>{t('db.assign.table.total')}</th>\n                                    </tr>\n                                    </thead>\n                                    <tbody>\n                                        { this.state.campaign.placements.map(p => {\n                                            const now = p.installOrders.map(o => o.count).reduce((a,b) => a+b, 0);\n                                            return (<tr key={p._id}>\n                                                <td>{p.place.name} {p.count-now === 0 && <i className='text-lime fa fa-check'/>}</td>\n                                                {Object.keys(this.state.teams).map(t_id =>\n                                                        <Column key={t_id} assigned={p.teamsInstallOrder[t_id]? p.teamsInstallOrder[t_id].count:0} refresh={this.refresh}\n                                                        placement={p._id} team={t_id}/>)}\n                                                <td>{now}/{p.count}</td>\n                                            </tr>)\n                                        })}\n                                    </tbody>\n                                </Table>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default translate()(Team);\n","import React, { Component } from 'react';\nimport './css/jquery.dataTables.min.css';\nimport './css/dataTables.bootstrap4.min.css';\nimport 'datatables.net-bs4';\nimport 'datatables.net-responsive-bs4';\n\nimport { translate } from 'react-i18next';\n\nconst $ = require('jquery');\n$.DataTable = require('datatables.net');\n\n\nclass DataTable extends Component {\n\n    componentWillUnmount() {\n        // if (this.$table) this.$table.destroy(true);\n    }\n\n    async componentDidMount() {\n        await Promise.all(this.props.columns.map(col => col.load ? col.load(this.arrayToObject) : ''));\n        const { t } = this.props;\n\n        let token = sessionStorage.getItem(\"_t\") || localStorage.getItem(\"_t\");\n\n        this.$table = $(this.el).DataTable({\n            order: this.props.order,\n            data: this.props.data,\n            ajax: !this.props.data ? {\n                url: this.props.ajax,\n                type: 'GET',\n                beforeSend: function (request) {\n                    if (token) request.setRequestHeader(\"Authorization\", `Bearer ${token}`);\n                }\n            } : undefined,\n            columns: this.props.columns,\n            rowCallback: this.props.rowCallback,\n            responsive: true,\n            language: {\n                lengthMenu:     t('dataTable.lengthMenu'),\n                zeroRecords:    t('dataTable.zeroRecords'),\n                info:           t('dataTable.info'),\n                infoEmpty:      t('dataTable.infoEmpty'),\n                infoFiltered:   t('dataTable.infoFiltered'),\n                search:         t('dataTable.search'),\n                loadingRecords: t('dataTable.loadingRecords'),\n                processing:     t('dataTable.processing'),\n                thousands:      t('dataTable.thousands'),\n                paginate: {\n                    first:    t('dataTable.paginate.first'),\n                    last:     t('dataTable.paginate.last'),\n                    next:     t('dataTable.paginate.next'),\n                    previous: t('dataTable.paginate.previous')\n                },\n            }\n        });\n\n        if (this.props.setRefresh) this.props.setRefresh(this.$table.ajax.reload)\n    }\n\n    arrayToObject = (array, keyField) =>\n        array.reduce((obj, item) => {\n        obj[item[keyField]] = item;\n        return obj }, {});\n\n    render() {\n        return (\n            <table className=\"display\" width=\"100%\" ref={el=> {this.el = el}}>\n                <thead>\n                    <tr>\n                        {this.props.thead.map(name => <th key={name}>{name}</th>)}\n                    </tr>\n                </thead>\n            </table>\n        )\n    }\n}\n\n\nexport default translate()(DataTable);","import React, { Component } from \"react\";\n\nimport {translate} from 'react-i18next';\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"../utils/dataTable\";\nimport Row from \"react-bootstrap/Row\";\nimport {Redirect} from \"react-router-dom\";\n\nclass Team extends Component {\n    state = {\n        redirect: '',\n        thead: ['#',\n            this.props.t('db.assignments.table.name'),\n            this.props.t('db.assignments.table.placements'),\n            this.props.t('db.assignments.table.assigned'),\n            this.props.t('db.assignments.table.start'), // \"Email\", 'Phone',\n            this.props.t('db.assignments.table.end')], // \"Email\", 'Phone',\n        columns: [\n            {\n                data: \"_id\",\n                visible: false,\n                searchable: false,\n            },\n            {\n                data: \"name\",\n                render: (data,_, more) => {\n                    return `${data}${more.priority?' <badge class=\"badge badge-danger ml-2\">Removal priority</badge>' : ''}`\n                },\n            },\n            {\n                data: \"placements\",\n                defaultContent: \"0\"\n            },\n            {\n                data: \"assigned\",\n                defaultContent: \"0\"\n            },\n            {\n                data: 'startDate',\n                render: (data) => {\n                    const date = new Date(data);\n                    return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n                },\n                searchable: false,\n            },\n            {\n                data: 'endDate',\n                render: (data) => {\n                    const date = new Date(data);\n                    return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n                },\n                searchable: false,\n            },\n        ],\n        ajax: '/api/datatable/assignments',\n        rowCallback: (el, data) => {\n            el.classList.add(\"click\");\n            el.onclick = () => this.setState({redirect: data._id})\n        }\n    };\n\n    componentDidMount() {\n        console.log('assignments')\n    }\n\n    render() {\n        if (this.state.redirect) return <Redirect push to={`/dashboard/assign/${this.state.redirect}`}/>;\n        const { t } = this.props;\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    <Col xs={12}>\n                        <Card className=\"m-b-20\">\n                            <Card.Body>\n                                <h4 className=\"mt-0 header-title\">{t('db.assignments.table.title')}</h4>\n                                <Table ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback}/>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default translate()(Team);\n","import React, { Component } from 'react';\nimport Chart from \"react-apexcharts\";\nimport queryRequest from '../../../utils/queryRequest';\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\n\nimport {translate} from 'react-i18next';\n\nclass History extends Component {\n    state = {\n        options: {\n            chart: {\n                stacked: false,\n            },\n            xaxis: { type: 'bar', }\n        },\n        total: 0,\n        series: [],\n    };\n    controller = new AbortController();\n    \n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async componentDidMount() {\n        const query = `query{place(_id:\"${this.props.data._id}\") {placements {count created_at}}}`;\n\n        try {\n            const { place } = await queryRequest(query, this.controller.signal);\n            if (place && place.placements.length > 0) {\n                const serial = { name: '', data: []};\n\n                const data = {};\n                let total = 0;\n\n                for (const placement of place.placements) {\n                    const date = new Date(parseInt(placement.created_at)).toISOString().split('T')[0].slice(0, -2) + '01';\n                    \n                    if (data[date]) {\n                        data[date].y += placement.count;\n                    } else {\n                        const tempDate = new Date(date);\n                        data[date] = { x: `${this.props.t('month.'+tempDate.getMonth())} ${tempDate.getFullYear()}`, y: placement.count }\n                    }\n                    total += placement.count;\n                }\n                serial.data.push(...Object.values(data));\n                this.setState({series: [serial], total})\n            }\n        } catch (err) {\n        }\n    }\n\n    render() {\n        if (this.state.total <= 0) return null;\n        return (\n        <Col sm={12} md={6} xl={4}>\n            <Card className=\"m-b-20\">\n                <Card.Body>\n                    <Row className=\"pl-3 p-0 m-0\">\n                           {this.state.total} {this.props.data.name}\n                    </Row>\n                    <Chart\n                        options={this.state.options}\n                        series={this.state.series}\n                        type=\"bar\"\n                        height=\"250\"/>\n                </Card.Body>\n            </Card>\n        </Col>\n        );\n    }\n}\n\nexport default translate()(History);","import React, { Component } from 'react';\nimport PlaceHistory from '../ads/history';\nimport queryRequest from '../../../utils/queryRequest';\n\nimport Row from 'react-bootstrap/Row';\n\nclass Ads extends Component {\n    state = {\n        places: []\n    };\n    controller = new AbortController();\n    \n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async componentDidMount() {\n        const query = `query{places { _id name }}`;\n\n        try {\n            const { places } = await queryRequest(query, this.controller.signal);\n            if (places) {\n                this.setState({places})\n            }\n        } catch (err) {\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    { this.state.places.map(place => { return <PlaceHistory key={place._id} data={place} />})}\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Ads;","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { RoleLink } from \"../routes\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nimport AuthContext from \"../../../context/auth-context\";\nimport Swal from \"sweetalert2\";\n\nimport { translate } from \"react-i18next\";\n\nclass ClientTool extends Component {\n  state = {\n    client: { _id: \"\", company: \"\", person: \"\", email: \"\", phone: \"\" },\n  };\n\n  controller = new AbortController();\n  static contextType = AuthContext;\n\n  componentWillReceiveProps(props) {\n    this.setState({\n      client: { _id: \"\", company: \"\", person: \"\", email: \"\", phone: \"\" },\n    });\n    if (props.selected) {\n      this.loadClientData(props.selected);\n    }\n  }\n\n  async loadClientData(id) {\n    const query = `query{ client(_id: \"${id}\"){ company person email phone }}`;\n    try {\n      const { client } = await queryRequest(query, this.controller.signal);\n      if (client) {\n        if (!client.email) client.email = \"\";\n        if (!client.phone) client.phone = \"\";\n        this.setState({ client: { ...client, _id: id } });\n      }\n    } catch (err) {\n      console.log(\"Fetch failed: \", err.toString());\n    }\n  }\n\n  handleDelete = async (evt) => {\n    const { t } = this.props;\n    const query = `mutation{clientHardDelete(_id:\"${this.state.client._id}\")}`;\n    Swal.fire({\n      title: t(\"db.client.form.delete.warning.title\"),\n      text: t(\"db.client.form.delete.warning.text\"),\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"Cancel\",\n    }).then(async (result) => {\n      if (!result.value) return;\n      try {\n        const { clientHardDelete } = await queryRequest(\n          query,\n          this.controller.signal\n        );\n        if (clientHardDelete) {\n          Swal.fire({\n            icon: \"success\",\n            title: t(\"db.client.form.delete.success.title\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.setState({\n            client: { _id: \"\", company: \"\", person: \"\", email: \"\", phone: \"\" },\n          });\n          this.props.doRefresh();\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: t(\"db.client.form.delete.failed.title\"),\n            text: t(\"db.client.form.delete.failed.text\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        }\n      } catch (err) {\n        console.log(\"Error while loading\", err.toString());\n      }\n    });\n  };\n\n  async handleSubmit(evt) {\n    evt.preventDefault();\n\n    const { _id, company, email, person, phone } = this.state.client;\n    const query = _id\n      ? `mutation{clientUpdate(_id:\"${_id}\" company:\"${company}\",person:\"${person}\",email:\"${email}\",phone:\"${phone}\"){ company }}`\n      : `mutation{clientCreate(company:\"${company}\",person:\"${person}\",email:\"${email}\",phone:\"${phone}\"){ company }}`;\n    try {\n      await queryRequest(query, this.controller.abort());\n      this.setState({\n        client: { _id: \"\", company: \"\", person: \"\", email: \"\", phone: \"\" },\n      });\n      this.props.doRefresh();\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  handleNameChange(evt) {\n    this.state.client.company = evt.target.value;\n    this.setState({ client: this.state.client });\n  }\n\n  handlePersonChange(evt) {\n    this.state.client.person = evt.target.value;\n    this.setState({ client: this.state.client });\n  }\n\n  handleEmailChange(evt) {\n    this.state.client.email = evt.target.value;\n    this.setState({ client: this.state.client });\n  }\n\n  handlePhoneChange(evt) {\n    this.state.client.phone = evt.target.value;\n    this.setState({ client: this.state.client });\n  }\n\n  render() {\n    const { t } = this.props;\n    return (\n      <Col xl={4}>\n        <Card className=\"m-b-20\">\n          <Card.Body>\n            <h4>\n              {this.state.client._id ? (\n                <React.Fragment>\n                  {t(\"db.client.form.title\")}\n                  <RoleLink\n                    to=\"client\"\n                    id={this.state.client._id}\n                    className=\"pull-right\"\n                  >\n                    <i className=\"mdi mdi-arrow-expand-all m-r-5 text-primary\" />\n                  </RoleLink>\n                </React.Fragment>\n              ) : (\n                t(\"db.client.form.title.new\")\n              )}\n            </h4>\n\n            <Form onSubmit={(evt) => this.handleSubmit(evt)}>\n              <Form.Group>\n                <Form.Label>{t(\"db.client.form.name\")}</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={this.state.client.company}\n                  onChange={(evt) => this.handleNameChange(evt)}\n                  required\n                />\n              </Form.Group>\n\n              <Form.Group>\n                <Form.Label>{t(\"db.client.form.person\")}</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={this.state.client.person}\n                  onChange={(evt) => this.handlePersonChange(evt)}\n                  required\n                />\n              </Form.Group>\n\n              <Row>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label>{t(\"db.client.form.email\")}</Form.Label>\n                    <Form.Control\n                      type=\"email\"\n                      value={this.state.client.email}\n                      onChange={(evt) => this.handleEmailChange(evt)}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label>{t(\"db.client.form.phone\")}</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      value={this.state.client.phone}\n                      onChange={(evt) => this.handlePhoneChange(evt)}\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              <Row>\n                <Col>\n                  <Button\n                    block\n                    variant=\"primary\"\n                    type=\"submit\"\n                    className=\"waves-effect waves-light\"\n                  >\n                    {this.state.client._id\n                      ? t(\"db.client.form.button.update\")\n                      : t(\"db.client.form.button.create\")}\n                  </Button>\n                </Col>\n                {this.state.client._id && [5, 11].includes(this.context.role) && (\n                  <Col>\n                    <Button\n                      variant=\"danger\"\n                      onClick={this.handleDelete}\n                      block\n                      className=\"waves-effect waves-light\"\n                    >\n                      {t(\"db.client.form.button.delete\")}\n                    </Button>\n                  </Col>\n                )}\n              </Row>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Col>\n    );\n  }\n}\n\nexport default translate()(ClientTool);\n","import React, { Component } from \"react\";\nimport ClientTool from \"../clients/clientTool\";\nimport Table from '../utils/dataTable';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\n\n\nconst ClientsTable = translate()(({t, rowCallback, setRefresh}) => {\n  const thead = ['ID',\n    t('db.clients.table.name'),\n    t('db.clients.table.person'),\n    t('db.clients.table.campaigns'),\n    t('db.clients.table.totalBudget'),\n    t('db.clients.table.createdAt')]; // \"Email\", 'Phone',\n  const columns = [\n    {\n      data: '_id',\n      visible: false,\n      searchable: false,\n    },\n    {\n      data: 'company',\n      render: (data) => {\n        return data.length > 22? data.slice(0,21) + '...' : data\n      }\n    },\n    {\n      data: 'person'\n    },\n    {\n      data: 'campaigns',\n      defaultContent: '0',\n      searchable: false,\n    },\n    {\n      data: 'totalBudget',\n      defaultContent: \"0\",\n      render: (data) => {\n        return `${data} €`;\n      },\n      searchable: false,\n    },\n    {\n      data: 'created_at',\n      render: (data) => {\n        const date = new Date(data);\n        return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n      },\n      searchable: false,\n    },\n  ];\n\n  return (\n      <Card className=\"m-b-20\">\n        <Card.Body>\n          <h4 className=\"mt-0 header-title\">{t('db.clients.table.title')}</h4>\n          <Table ajax='/api/datatable/clients' order={[[5, 'desc']]} columns={columns} thead={thead} rowCallback={rowCallback} setRefresh={setRefresh}/>\n        </Card.Body>\n      </Card>)\n});\n\nclass Clients extends Component {\n  state = {\n    selected: {},\n    handleRefresh: () =>{}\n  };\n\n  componentDidMount() {\n    console.log(\"Clients\")\n  }\n\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSelection(selected) {\n    if (this.state.selected === selected) this.setState({ selected: {} });\n    else this.setState({ selected });\n  }\n\n  setRefresh = (f) => this.setState({handleRefresh: f});\n\n  render() {\n    return (\n      <div className=\"container-fluid\">\n        <Row>\n          <Col xs={12} xl={8}>\n            <ClientsTable setRefresh={this.setRefresh} rowCallback={(el, data) => el.onclick = () => this.handleSelection(data)}/>\n          </Col>\n          <ClientTool\n            doRefresh={this.state.handleRefresh}\n            selected={this.state.selected._id}/>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Clients;\n","import React, { Component } from \"react\";\nimport Table from '../utils/dataTable';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\n\n\nclass Sales extends Component {\n    state = {\n      thead: ['ID',\n          this.props.t('db.sales.table.userName'),\n          this.props.t('db.sales.table.activeCampaigns'),\n          this.props.t('db.sales.table.totalCampaigns'),\n          this.props.t('db.sales.table.totalBudget')],\n      columns: [\n        {\n          data: '_id',\n          visible: false,\n          orderable: false,\n          searchable: false,\n        },\n        {\n            data: 'name'\n        },\n        {\n            data: 'running',\n            searchable: false,\n            orderable: false,\n        },\n        {\n            data: 'campaigns',\n            searchable: false,\n            orderable: false,\n        },\n        {\n            data: 'budget',\n            searchable: false,\n            orderable: false,\n        }\n      ],\n      ajax: '/api/datatable/sales',\n      // rowCallback: (el, data) => el.onclick = () => this.setState({redirect: data._id}),\n\n      redirect: '',\n    };\n\n  componentDidMount() {\n    console.log(\"Sales\");\n  }\n\n  render() {\n    // if (this.state.redirect) return <Redirect push to={`/dashboard/user/${this.state.redirect}`}/>;\n    const { t } = this.props;\n    return (\n      <div className=\"container-fluid\">\n        <Row>\n          <Col xs={12}>\n            <Card className=\"m-b-20\">\n              <Card.Body>\n                  <h4 className=\"mt-0 header-title\">{t('db.sales.table.title')}</h4>\n\n                  <Table ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback}/>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default translate()(Sales);\n","import React, { Component } from 'react';\n// import queryRequest from \"../../../utils/queryRequest\";\n\nclass Settings extends Component {\n    componentDidMount() {\n        console.log(\"settings\")\n    }\n\n    render() { \n        return ( \n            <div className=\"container-fluid\">\n                <div className=\"row\">\n\n                </div>\n                <div className=\"row\">\n\n                </div>\n                <div className=\"row\">\n\n                </div>\n            </div>\n         );\n    }\n}\n \nexport default Settings;","import React, {Component} from 'react';\nimport queryRequest from \"../../../utils/queryRequest\";\nimport {vehID, vehTypeStr} from \"../../../utils/vehicleProps\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nimport {translate} from 'react-i18next';\n\nclass FleetDetails extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loaded: false,\n            vehicle: {},\n            installs: []\n        }\n    }\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        this.refreshData(this.props.data);\n    }\n\n    async refreshData(_id) {\n        this.setState({loaded: false, vehicle: {}});\n        const query = `query{vehicle(_id:\"${_id}\"){_id type city{name}}\n        vehicleInstalls(_id:\"${_id}\"){count placement{_id place{name}}campaign{ _id name startDate endDate client{_id company}}}}`;\n\n        try {\n            const {vehicle, vehicleInstalls} = await queryRequest(query, this.controller.signal, this.props.token);\n\n            const uniqueInstalls = {};\n            for (const inst of vehicleInstalls) {\n                if (inst[\"placement\"][\"_id\"] in uniqueInstalls) {\n                    uniqueInstalls[inst[\"placement\"][\"_id\"]].count += inst.count;\n                } else {\n                    uniqueInstalls[inst[\"placement\"][\"_id\"]] = inst;\n                }\n            }\n            if (vehicle && vehicleInstalls) {\n                this.setState({vehicle, installs: Object.values(uniqueInstalls), loaded: true});\n            } else {\n                this.setState({loaded: true});\n            }\n        } catch (err) {\n            if (err.name !== 'AbortError') {\n                console.log(\"Ohnoo, \", err.toString());\n                this.setState({loaded: true});\n            }\n        }\n    }\n\n    componentWillReceiveProps(props) {\n        if (props.data === this.state.vehicle._id) return;\n        this.refreshData(props.data);\n    }\n\n    content = () => {\n        const { t } = this.props;\n        if (!this.state.loaded) return (\n            <div className=\"text-center m-3\">\n                <Spinner animation='border' variant='warning'/>\n            </div>);\n\n        if (this.state.loaded && !this.state.vehicle._id) return (<h4 className=\"text-center\">{t('error')}</h4>);\n\n        return (\n            <React.Fragment>\n                <h4 className=\"mb-1\">{vehTypeStr(this.state.vehicle._id, t).toUpperCase()} {vehID(this.state.vehicle._id)}</h4>\n                <h5 className=\"mt-1\">{this.state.vehicle.city.name}</h5>\n                <h5 className=\"mb-0 border-bottom\">{t('db.campaign.vehicle.list.title')}</h5>\n                <p>{JSON.stringify(this.state.placements)}</p>\n                {this.state.installs && this.state.installs.map(install => {\n                    return (\n                        <Row key={install.placement._id}>\n                            <Col className=\"shadow p-3 mb-2 bg-white rounded\">\n                                <h6>{install.campaign.name}: {install.count}x {install.placement.place.name}</h6>\n                            </Col>\n                        </Row>)\n                })}\n            </React.Fragment>);\n    };\n\n    render() {\n        return (\n            <Card className=\"m-b-20\">\n                <Card.Body>\n                    {this.content()}\n                </Card.Body>\n            </Card>\n        )\n    }\n}\n\nexport default translate()(FleetDetails);","import React from \"react\";\nimport { RoleLink } from '../routes';\n\nimport Spinner from 'react-bootstrap/Spinner';\n\nconst SmallInfoCard = (props) => {\n    const { link, id, colorDescription, loaded, title, main, description } = props.item;\n    const color = props.item.color || 'orange';\n\n    return (\n            <div className=\"mini-stat bg-white text-center\">\n                {title}\n                {!loaded &&\n                <div className=\"text-center m-3\">\n                    <Spinner variant=\"warning\" animation='border'/>\n                </div>}\n\n                {loaded &&\n                <React.Fragment>\n                    <div className=\"mini-stat-info\">\n                        {link && <RoleLink to={link} id={id}><span className={\"counter text-\" + color}>{main}</span></RoleLink>}\n                        {!link && <span className={\"counter text-\" + color}>{main}</span>}\n                    </div>\n                    <p className={\"mb-0 m-t-20 text-\" + (colorDescription ? colorDescription : \"primary\")}>\n                        {description}\n                    </p>\n                </React.Fragment>}\n            </div>\n    );\n};\n\nexport default SmallInfoCard;\n","export default (data) => {\n  const date = new Date(data);\n  return `${date.getDate().toString().padStart(2, '0')}.${(date.getMonth() + 1)\n    .toString()\n    .padStart(2, '0')}.${date.getFullYear()}`;\n};\n\nexport const formatDateTime = () => {\n  console.log('Not implemented!');\n  return 'Not implemented';\n};\n","import React, {Component} from \"react\";\nimport AuthContext from \"../../../context/auth-context\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { vehID, vehTypeStr } from \"../../../utils/vehicleProps\";\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\nimport Accordion from 'react-bootstrap/Accordion';\n\nimport {translate} from 'react-i18next';\nimport formatDate from \"../../../utils/formatDate\";\n\nconst ListItem = translate()(({t, campaign, selected, click}) =>\n    <Card style={{backgroundColor:'rgba(0,0,0,0)', border:'unset'}}>\n        <Accordion.Toggle as={Card.Header} eventKey={campaign._id} style={{border:'unset'}} onClick={click} className=\"p-1\">\n            <strong><a href={`/dashboard/campaign/${campaign._id}`} className='text-orange'> {campaign.name}</a></strong> <i className={`fa ${ selected ?'fa-angle-up' : 'fa-angle-down'}`} style={{cursor:'pointer'}}/>\n        </Accordion.Toggle>\n\n        <Accordion.Collapse eventKey={campaign._id}>\n            <Card.Body className=\"p-2\">\n                <Col>\n                    <Row>\n                        {t('map.marker.pre.client')}&nbsp;<strong><a href={`/dashboard/client/${campaign.client._id}`} className='text-orange'>{campaign.client.company}</a></strong>\n                    </Row>\n                    <Row>\n                        {t('map.marker.pre.startDate')}&nbsp;<strong>{formatDate(parseInt(campaign.startDate))}</strong>\n                    </Row>\n                    <Row>\n                        {t('map.marker.pre.endDate')}&nbsp;<strong>{formatDate(parseInt(campaign.endDate))}</strong>\n                    </Row>\n                </Col>\n            </Card.Body>\n        </Accordion.Collapse>\n    </Card>);\n\nconst Empty = translate()(({ t }) => <div>{t('map.marker.empty')}</div>);\n\nconst VehicleLink = translate()(({t, data, list }) => {\n    if (!list)\n        return <span>{vehTypeStr(data._id, t).toUpperCase()} {vehID(data._id)} {(data.line ? `(${data.line})` : \"\")} {data.vehicleNumber ? `: ${data.vehicleNumber}` : ''}</span>\n    return <a href={`/dashboard/vehicle/${data._id}`}>{vehTypeStr(data._id, t).toUpperCase()} {vehID(data._id)} {(data.line ? `(${data.line})` : \"\")} {data.vehicleNumber ? `: ${data.vehicleNumber}` : ''}</a>\n});\n\nclass Marker extends Component {\n    state = {\n        selected: null,\n        campaigns: []\n    };\n\n    controller = new AbortController();\n\n    static contextType = AuthContext;\n\n    async componentDidMount() {\n        await this.loadCampaigns();\n        this.props.cb();\n    }\n\n    handleClick = async () => {\n        if (!this.state.selected) return;\n        const query = `query{campaignVehicles(_id:\"${this.state.selected}\"){ _id }}`;\n        try {\n            const { campaignVehicles } = await queryRequest(query, this.controller.signal);\n            if (!campaignVehicles) return;\n\n            this.props.doHighLight(campaignVehicles.map(vehObj => vehObj._id))\n        } catch (e) {\n            console.log(e)\n        }\n    };\n\n    loadCampaigns = async () => {\n        const query = `query{vehicleCampaigns(_id:\"${this.props.data._id}\"){ _id name startDate endDate client {_id company}}}`;\n        try {\n            const { vehicleCampaigns } = await queryRequest(query, this.controller.signal);\n            this.setState({campaigns: vehicleCampaigns})\n        } catch (e) {\n            console.log(e)\n        }\n    };\n\n    handleAccordionClick = (_id) => {\n        if (this.state.selected === _id) {\n            this.setState({selected: null})\n        } else {\n            this.setState({selected: _id})\n        }\n    };\n\n    render() {\n        if (this.state.selected) this.handleClick();\n        else this.props.doUnHighLight();\n        return (\n            <div>\n                <strong>\n                    <VehicleLink data={this.props.data} list={this.props.list}/>\n                </strong>\n                { this.state.campaigns.length > 0 && this.props.list &&\n                    <div className=\"scrollable\" style={{maxHeight: 140, width:'max-content'}}>\n                        <Accordion>\n                            {this.state.campaigns.map(campaign => <ListItem key={campaign._id} campaign={campaign} selected={campaign._id === this.state.selected} click={() => this.handleAccordionClick(campaign._id)}/>)}\n                        </Accordion>\n                    </div>\n                }\n                { this.state.campaigns.length === 0 && this.props.list && <Empty/>}\n            </div>)\n    }\n}\n\nexport default Marker;\n","import React, { Component } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet.marker.slideto\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport ReactDOM from \"react-dom\";\nimport VehicleMarker from './marker';\n\nimport AuthContext from \"../../../context/auth-context\";\n\nimport blue from '../../../images/markers/dot_marker_blue_16.png';\nimport orange from '../../../images/markers/dot_marker_orange_16.png';\nimport green from '../../../images/markers/dot_marker_green_16.png';\nimport gray from '../../../images/markers/dot_marker_gray_16.png';\n\nclass LiveMap extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      size: props.data.height || 580,\n      smooth: true,\n      refreshRate: 10000,\n      doSelection: props.doSelection,\n    };\n  }\n\n  static contextType = AuthContext;\n  \n  intervalID = 0;\n  controller = new AbortController();\n\n  componentDidMount() {\n\n    const { latitude, longitude } = this.props.data;\nconst { refreshRate } = this.state;\n    this.map = L.map(\"map\", {\n      center: [latitude || 0, longitude || 0],\n      zoom: this.props.data.zoom || 11,\n      continuousWorld: true,\n    });\n\n    // const TILES = 'https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png'\n    const TILES = 'https://4.base.maps.cit.api.here.com/maptile/2.1/maptile/newest/normal.day/{z}/{x}/{y}/256/png8?app_id=fL46BlQybP6rGwlfCw9f&app_code=nbbrVKYICWOqgenUhmpEBg';\n\n    L.tileLayer(TILES, {\n      detectRetina: true,\n      maxZoom: 19,\n      maxNativeZoom: 17,\n      minZoom: 8,\n    }).addTo(this.map);\n\n\n    this.dotIcon = L.icon({\n      iconUrl: blue,\n      iconSize: [13, 13],\n      iconAnchor: [7, 7], // left-Right down-up\n      popupAnchor: [0, 0]\n    });\n\n    this.dotIconActive = L.icon({\n      iconUrl: green,\n      iconSize: [13, 13],\n      iconAnchor: [7, 7], // left-Right down-up\n      popupAnchor: [0, 0]\n    });\n\n    this.dotIconSpecial = L.icon({\n      iconUrl: orange,\n      iconSize: [13, 13],\n      iconAnchor: [7, 7], // left-Right down-up\n      popupAnchor: [0, 0]\n    });\n\n    this.dotIconUnlisted = L.icon({\n      iconUrl: gray,\n      iconSize: [13, 13],\n      iconAnchor: [7, 7], // left-Right down-up\n      popupAnchor: [0, 0]\n    });\n\n    this.vehicles = {};\n\n    this.refreshData();\n    this.intervalID = setInterval(this.refreshData, refreshRate);\n  }\n\n  // Todo: Make filter by search\n\n  doHighLight = (vehicles) => {\n    this.removeHighLight();\n    vehicles.forEach(vehicle_id =>vehicle_id in this.vehicles? this.vehicles[vehicle_id].setIcon(this.dotIconSpecial): '');\n  };\n\n  removeHighLight = () => {\n    Object.values(this.vehicles).forEach(vehicle => vehicle.setIcon(vehicle.origIcon));\n  };\n\n  refreshData = async () => {\n    try {\n      const data = await queryRequest(this.props.data.query, this.controller.signal, this.props.data.token);\n      const vehicles = this.props.data.getData(data);\n      for (const vehicle of vehicles) {\n        if (vehicle._id in this.vehicles) this.moveVehicle(vehicle);\n        else this.createVehicle(vehicle);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  createVehicle = (vehicle) => {\n    const { doSelection} = this.state;\n    const { _id, latitude, longitude, haveAds, listed } = vehicle;\n    const icon = listed !== false ? haveAds ? this.dotIconActive : this.dotIcon : this.dotIconUnlisted;\n\n    let pointer = L.marker([latitude, longitude], {\n      riseOnHover: true,\n      icon,\n      zIndexOffset: (vehicle.haveAds? 800: undefined),\n    }).addTo(this.map);\n\n    pointer.origIcon = icon;\n\n    pointer.click = () => {\n      const marker = this.vehicles[_id];\n      if (!marker.getPopup()) {\n        const popup = document.createElement('div');\n        marker.vehicle = ReactDOM.render(<VehicleMarker data={vehicle} list={!(this.props.data.details === false)}  doUnHighLight={this.removeHighLight} doHighLight={this.doHighLight} cb={() => {\n          marker.bindPopup(popup);\n          marker.openPopup();\n        }} />, popup);\n      }\n    };\n\n    pointer.on(\"click\", (ev) => {\n      const marker = ev.target;\n      if (doSelection) {\n        if (this.props.selected !== _id) doSelection(_id);\n      }\n      else marker.click();\n    });\n\n    pointer.on(\"popupopen\", () => {\n      const marker = this.vehicles[_id];\n      marker.setIcon(this.dotIconSpecial);\n      marker.vehicle.handleClick();\n    });\n\n    pointer.on(\"popupclose\", ev => {\n      this.removeHighLight();\n      if (this.props.doSelection) {\n        if (this.props.selected === _id) {\n          doSelection(\"\");\n        }\n      }\n    });\n    this.vehicles[_id] = pointer;\n  }\n\n  moveVehicle = (veh) => {\n    const { smooth, refreshRate} = this.state;\n    const {_id, latitude, longitude} = veh;\n    if (this.vehicles[_id].getLatLng().equals([latitude, longitude])) return;\n    if (smooth && this.vehicles[_id].getLatLng().distanceTo([latitude, longitude]) < 500) {\n      this.vehicles[_id].slideTo([latitude, longitude], {\n        duration: refreshRate,\n        keepAtCenter: false\n      });\n    }\n    else this.vehicles[_id].setLatLng(new L.latLng(latitude, longitude));\n  }\n\n  hiLight = (selected) => {\n    const marker = this.vehicles[selected];\n    marker.click();\n    if (marker.getPopup()) marker.openPopup();\n  };\n\n  unHiLight = () => {\n    for (const vehicle of Object.values(this.vehicles)) {\n      if (vehicle.isPopupOpen()) {\n        vehicle.closePopup();\n      }\n    }\n  };\n  \n  componentWillReceiveProps(props) {\n    const {doSelection} = this.state;\n    if (props.selected) {\n      setTimeout(() => this.hiLight(props.selected), 1);\n    } else if (doSelection) {\n      this.unHiLight();\n    }\n  }\n\n  componentWillUnmount() {\n    this.controller.abort();\n    clearInterval(this.intervalID);\n  }\n\n  render() {\n    const {size, doSelection, smooth, refreshRate} = this.state;\n    return (\n        <div style={{ minHeight: size, borderRadius: 5 }} id=\"map\" />\n    );\n  }\n}\n\nexport default LiveMap;\n","import {translate} from \"react-i18next\";\nimport Card from \"react-bootstrap/Card\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport React from \"react\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport SmallInfoCard from \"../utils/smallInfoCard\";\nimport {RoleLink} from \"../routes\";\nimport LiveMap from \"../map/liveMap\";\nimport {vehID} from \"../../../utils/vehicleProps\";\nimport DataTable from \"../utils/dataTable\";\nimport formatDate from \"../../../utils/formatDate\";\n\n\nexport const TimeSpan = translate()(({data, t}) =>\n    <Card style={{minHeight: 156}}>\n        <Card.Body>\n            {!data.loaded && (<div className=\"text-center m-3\">\n                <Spinner variant=\"warning\" animation='border'/>\n            </div>)}\n            {data.loaded &&\n            <React.Fragment>\n                <Row className=\"text-center\" style={{marginTop: 0}}>\n                    <Col>\n                        {t('db.campaign.card.date.start')}\n                        <div className=\"mini-stat-info\">\n              <span className=\"counter text-primary\">\n                {formatDate(parseInt(data.startDate))}\n              </span>\n                        </div>\n                    </Col>\n                    <Col>\n                        {t('db.campaign.card.date.end')}\n                        <div className=\"mini-stat-info\">\n              <span className=\"counter text-orange\">\n                {formatDate(parseInt(data.endDate))}\n              </span>\n                        </div>\n                    </Col>\n                </Row>\n            </React.Fragment>}\n        </Card.Body>\n        {data.loaded &&\n        <ProgressBar className=\"card-bottom-progress\" variant='warning' now={data.now} style={{borderRadius: 0}}/>}\n    </Card>);\n\nexport const Cities = translate()(({t, data}) => <SmallInfoCard item={{\n    title: t('db.campaign.card.cities.title'),\n    main: data.cities,\n    description: `${t('db.campaign.card.cities.text')} ${data.vehicles}`,\n    loaded: data.loaded,\n}}/>);\n\nexport const SaleBy = translate()(({t, data}) => <SmallInfoCard item={{\n    title: t('db.campaign.card.saleBy.title'),\n    main: <RoleLink to='user' id={data.creator._id}>\n        <span className=\"counter text-success\">{data.creator.name}</span>\n    </RoleLink>,\n    description: formatDate(parseInt(data.date)),\n    loaded: data.loaded,\n}}/>);\n\nexport const Budget = translate()(({t, data}) => <SmallInfoCard item={{\n    title: t('db.campaign.card.budget.title'),\n    main: data.budget,\n    description: `${t('db.campaign.card.budget.text')} ${data.placements}`,\n    loaded: data.loaded,\n}}/>);\n\nexport const Live = translate()(({t, data}) => <Card className=\"m-b-10\">\n    <Card.Body>\n        <h4 className=\"mt-0 header-title\">{t('db.campaign.live.title')}</h4>\n        {!data.loaded &&\n        <div className=\"text-center m-3\">\n            <Spinner variant=\"warning\" animation=\"border\"/>\n        </div>}\n        {data.loaded && <LiveMap data={data.mapData} selected={data.selected} doSelection={data.handleSelection}/>}\n    </Card.Body>\n</Card>);\n\nconst InstallPlacementStat = (props) => {\n    const total = props.data.installs.filter(i => i.installed).map(i => i.count).reduce((a, b) => a + b, 0);\n\n    return (\n        <div className=\"m-3\">\n            <Row className=\"text-center\">\n                <Col>\n                    <strong>{props.data.place.name}</strong>\n                </Col>\n                <Col>\n                    {total}/{props.data.count}\n                </Col>\n            </Row>\n            <ProgressBar striped variant={props.data.count <= total ? 'success' : 'warning'}\n                         now={total * 100 / props.data.count}/>\n        </div>)\n};\n\nexport const InstallProgress = translate()(({ t, data }) =>\n    <Card className=\"m-b-20\">\n        <Card.Body>\n            <h4 className=\"mt-0 mb-2 header-title\">{t('db.campaign.progress.title')}</h4>\n            {!data.loaded && (\n                <div className=\"text-center m-3\">\n                    <Spinner variant=\"warning\" animation=\"border\"/>\n                </div>)}\n            {data.loaded && <React.Fragment>\n                {data.placements.map(p => <InstallPlacementStat key={p._id} data={p}/>)}\n            </React.Fragment>}\n        </Card.Body>\n    </Card>);\n\nconst renderTableData = (placements) => {\n    const fleet = {};\n\n    for (const placement of placements) {\n        for (const install of placement.installs) {\n            if (!(install.vehicle._id in fleet)) fleet[install.vehicle._id] = {...install.vehicle, ads: 0, removed: 0}\n\n            if (install.installed) fleet[install.vehicle._id].ads += install.count\n            else fleet[install.vehicle._id].removed += install.count\n        }\n    }\n    return Object.values(fleet).map((fleet) => {\n        if (!fleet) return null;\n        const {_id, operator, city, ads, removed} = fleet;\n\n        return {\n            _id, city: city.name,\n            operator: operator.company || operator.operatorId,\n            ads, removed\n        };\n    });\n}\n\nexport const ActivityTable = translate()(({t, data}) => {\n    const thead = [t('db.campaign.atable.id'),\n        t('db.campaign.atable.city'),\n        t('db.campaign.atable.operator'),\n        t('db.campaign.atable.ads'),\n        t('db.campaign.atable.removed')];\n    const columns = [\n        {\n            data: '_id',\n            render: (data) => {\n                return vehID(data);\n            }\n        },\n        {\n            data: 'city'\n        },\n        {\n            data: 'operator'\n        },\n        {\n            data: 'ads'\n        },\n        {\n            data: 'removed'\n        }\n    ];\n\n    return (<Card className=\"m-b-20\">\n        <Card.Body>\n            <h4 className=\"mt-0 header-title\">{t('db.campaign.atable.title')}</h4>\n            <DataTable data={renderTableData(data.placements)} columns={columns} thead={thead} rowCallback={data.rowCallback}/>\n        </Card.Body>\n    </Card>)\n});\n","import React, { Component } from 'react';\nimport queryRequest from '../../../utils/queryRequest';\nimport FleetDetails from '../campaigns/fleetDetails';\n\nimport Accordion from 'react-bootstrap/Accordion';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Image from 'react-bootstrap/Image';\nimport Row from 'react-bootstrap/Row';\n\nimport { translate } from 'react-i18next';\nimport Lightbox from 'react-image-lightbox';\n\nimport AuthContext from '../../../context/auth-context';\nimport Badge from 'react-bootstrap/Badge';\nimport Swal from 'sweetalert2';\n\nimport {\n  TimeSpan,\n  SaleBy,\n  Cities,\n  Live,\n  InstallProgress,\n  Budget,\n  ActivityTable,\n} from '../campaignDetails/cards';\n\nclass CampaignDetails extends Component {\n  state = {\n    campaign: {},\n    loaded: false,\n    selected: '',\n\n    progress: {},\n    index: 0,\n    lightbox: false,\n  };\n\n  controller = new AbortController();\n  static contextType = AuthContext;\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  async componentDidMount() {\n    const query = `query{campaign(_id:\"${this.props.match.params.id}\"){\n            _id name client{_id company}creator{_id name}budget startDate endDate created_at cities{name latitude longitude}\n            pictures { path thumbnail created_at }\n            placements{_id place{name} installs{installed vehicle{_id city{name}operator{company operatorId}}created_at count}\n      count isPublic}}}`;\n\n    try {\n      const { campaign } = await queryRequest(query, this.controller.signal);\n      if (campaign) this.setState({ campaign, loaded: true });\n      else this.setState({ loaded: true });\n    } catch (err) {\n      console.log('Ohnoo, ', err.toString());\n      this.setState({ loaded: true });\n    }\n  }\n\n  getMapData() {\n    const query = `query{campaignVehicles(_id: \"${this.state.campaign._id}\"){_id haveAds longitude latitude}}`;\n\n    return {\n      height: 530,\n      query: query,\n      latitude: this.state.campaign.cities[0].latitude,\n      longitude: this.state.campaign.cities[0].longitude,\n      zoom: 7,\n      getData: (data) => data.campaignVehicles,\n      smooth: true,\n    };\n  }\n\n  handleSelection = (selection) => {\n    if (this.state.selected !== selection)\n      this.setState({ selected: selection });\n    else this.setState({ selected: '' });\n  };\n\n  totalFleets() {\n    const countList = [];\n    for (const placement of this.state.campaign.placements)\n      for (const install of placement.installs)\n        countList.push(install.vehicle._id);\n\n    return new Set(countList).size;\n  }\n\n  timeLeftPercent() {\n    return (\n      ((new Date().getTime() - this.state.campaign.startDate) /\n        (this.state.campaign.endDate - this.state.campaign.startDate)) *\n      100\n    );\n  }\n\n  openLightBox = () => {\n    const { t } = this.props;\n    if (\n      this.state.campaign &&\n      this.state.campaign.pictures &&\n      this.state.campaign.pictures.length > 0\n    )\n      this.setState({ lightbox: true });\n    else {\n      Swal.fire({\n        icon: 'info',\n        title: t('db.campaign.images.info.empty.title'),\n        text: t('db.campaign.images.info.empty.text'),\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  render() {\n    console.log('campaignDetails.state', this.state);\n    const { t } = this.props;\n    if (this.state.loaded && Object.keys(this.state.campaign).length === 0)\n      return (\n        <div className=\"container-fluid text-center\">\n          <h3 className=\"text-white\">{t('db.campaign.404')}</h3>\n        </div>\n      );\n    const { pictures } = this.state.campaign;\n    const { index, loaded } = this.state;\n\n    return (\n      <div className=\"container-fluid\">\n        {this.state.lightbox && (\n          <Lightbox\n            mainSrc={pictures[index].path}\n            nextSrc={pictures[(index + 1) % pictures.length].path}\n            prevSrc={\n              pictures[(index + pictures.length - 1) % pictures.length].path\n            }\n            onCloseRequest={() => this.setState({ lightbox: false })}\n            onMovePrevRequest={() =>\n              this.setState({\n                index: (index + pictures.length - 1) % pictures.length,\n              })\n            }\n            onMoveNextRequest={() =>\n              this.setState({ index: (index + 1) % pictures.length })\n            }\n          />\n        )}\n        <Row className=\"border-bottom mb-4\">\n          <Col xs={12}>\n            <h3 className=\"text-white\">\n              {!loaded && 'Loading...'}\n              {loaded &&\n                this.state.campaign.client.company +\n                  ': ' +\n                  this.state.campaign.name}\n            </h3>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col\n            md={this.props.client ? 12 : 6}\n            xl={this.props.client ? 4 : 3}\n            className=\"mb-4\"\n          >\n            <TimeSpan\n              data={{\n                loaded: loaded,\n                startDate: loaded && this.state.campaign.startDate,\n                endDate: loaded && this.state.campaign.endDate,\n                now: loaded && this.timeLeftPercent(),\n              }}\n            />\n          </Col>\n          <Col md={6} xl={this.props.client ? 4 : 3}>\n            <Cities\n              data={{\n                loaded: loaded,\n                cities:\n                  loaded &&\n                  this.state.campaign.cities\n                    .map((city) => city.name)\n                    .join(', '),\n                vehicles: loaded && this.totalFleets(),\n              }}\n            />\n          </Col>\n          {!this.props.client && (\n            <Col md={6} xl={this.props.client ? 4 : 3}>\n              <Budget\n                data={{\n                  loaded: loaded,\n                  budget: this.state.campaign.budget,\n                  placements:\n                    loaded &&\n                    this.state.campaign.placements\n                      .map((place) => place.count)\n                      .reduce((a, b) => a + b, 0),\n                }}\n              />\n            </Col>\n          )}\n          <Col md={6} xl={this.props.client ? 4 : 3}>\n            <SaleBy\n              data={{\n                loaded: loaded,\n                creator: loaded && this.state.campaign.creator,\n                date: loaded && this.state.campaign.created_at,\n              }}\n            />\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xl={8}>\n            <Live\n              data={{\n                loaded: loaded,\n                mapData: loaded && this.getMapData(),\n                selected: this.state.selected,\n                handleSelection: this.handleSelection,\n              }}\n            />\n          </Col>\n\n          <Col xl={4}>\n            <InstallProgress\n              data={{\n                loaded: loaded,\n                placements: loaded && this.state.campaign.placements,\n              }}\n            />\n\n            {loaded && (\n              <Accordion>\n                <Card>\n                  <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n                    <i className=\"ion ion-images\" /> Campaign Images{' '}\n                    <Badge\n                      className=\"hvr-grow\"\n                      variant={pictures.length ? 'success' : 'danger'}\n                    >\n                      {pictures.length}\n                    </Badge>\n                  </Accordion.Toggle>\n                  <Accordion.Collapse eventKey=\"0\">\n                    <Card.Body style={{display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\n                      {pictures.map((images, index) => (\n                        <div style={{ padding: '5px'}}>\n                          <Image\n                            onClick={this.openLightBox}\n                            src={images.thumbnail}\n                            key={index}\n                            thumbnail\n                          />\n                        </div>\n                      ))}\n                    </Card.Body>\n                  </Accordion.Collapse>\n                </Card>\n              </Accordion>\n            )}\n          </Col>\n        </Row>\n\n        <Row>\n          {loaded && (\n            <Col xl={8}>\n              <ActivityTable\n                data={{\n                  placements: this.state.campaign.placements,\n                  rowCallback: (el, data) =>\n                    (el.onclick = () => this.handleSelection(data._id)),\n                }}\n              />\n            </Col>\n          )}\n\n          {this.state.selected && (\n            <Col xl={4}>\n              <FleetDetails data={this.state.selected} />\n            </Col>\n          )}\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default translate()(CampaignDetails);\n","import styled from 'styled-components';\nimport COLOR from '../../../constants/colors';\n\nexport const FullView = styled.div`\n  padding: 5px;\n`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport DatePicker, { registerLocale } from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Select from \"react-select\";\nimport { RoleLink } from \"../routes\";\nimport Swal from \"sweetalert2\";\nimport et from \"date-fns/locale/et\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport { FullView, TitleContainer } from './CampaignTool.styles';\nimport AuthContext from \"../../../context/auth-context\";\n\nimport { translate } from \"react-i18next\";\n\nregisterLocale(\"et\", et);\n\nconst Place = (props) => {\n  return (\n    <Col sm={6} md={6} lg={4} xl={6}>\n      <label className=\"mb-0\">{props.label}</label>\n      <InputGroup className=\"mb-3 place-field\">\n        <InputGroup.Prepend>\n          <Button\n            variant=\"primary\"\n            onClick={(e) => props.doButtonPress(e, -10)}\n          >\n            -\n          </Button>\n        </InputGroup.Prepend>\n        <FormControl\n          type=\"text\"\n          value={props.value}\n          onChange={props.doChange}\n        />\n        <InputGroup.Append>\n          <Button variant=\"primary\" onClick={(e) => props.doButtonPress(e, 10)}>\n            +\n          </Button>\n        </InputGroup.Append>\n      </InputGroup>\n    </Col>\n  );\n};\n\nclass CampaignTool extends Component {\n  state = {\n    campaign: {\n      _id: \"\",\n      name: \"\",\n      client: \"\",\n      budget: \"\",\n      priority: false,\n      cities_selected: [],\n      places: {},\n      start_date: new Date(),\n      end_date: new Date(),\n      contactEmail: \"\",\n    },\n    places: [],\n    clients: [],\n    cities: [],\n  };\n\n  static contextType = AuthContext;\n\n  empty = { ...this.state.campaign };\n  controller = new AbortController();\n\n  componentDidMount() {\n    this.initialLoad();\n  }\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({ campaign: { ...this.empty, places: {} } });\n\n    if (props.selected) {\n      this.loadCampaignData(props.selected);\n    }\n  }\n  loadCampaignData = async (id) => {\n    console.log(id);\n    const query = `query{campaign(_id:\"${id}\"){name client{_id email}creator{_id}budget cities{_id}placements{place{_id}count}endDate startDate priority}}`;\n\n    try {\n      const { campaign } = await queryRequest(query, this.controller.signal);\n\n      if (!campaign.cities) {\n        console.log(\"No cities defined\");\n        return;\n      }\n      if (!campaign.client) {\n        console.log(\"No client defined\");\n        return;\n      }\n      const email = campaign.client.email;\n      campaign.cities_selected = campaign.cities.map((city) => {\n        return this.state.cities.find(\n          (citySelection) => citySelection.value === city._id\n        );\n      });\n      campaign.client = this.state.clients.find(\n        (client) => client.value === campaign.client._id\n      );\n      delete campaign.cities;\n      campaign.places = {};\n      campaign.placements.forEach((placement) => {\n        campaign.places[placement.place._id] = placement.count;\n      });\n      delete campaign.placements;\n\n      campaign.end_date = new Date(parseInt(campaign.endDate));\n      campaign.start_date = new Date(parseInt(campaign.startDate));\n\n      delete campaign.endDate;\n      delete campaign.startDate;\n      delete campaign.placements;\n\n      this.setState({\n        campaign: { ...campaign, _id: id, contactEmail: email },\n      });\n    } catch (err) {\n      console.log(\"Error finding user\", err.toString());\n    }\n  };\n\n  initialLoad = async () => {\n    const query = `query{cities{ _id name } places{ _id name } clients{ _id company }}`;\n\n    try {\n      const { cities, clients, places } = await queryRequest(\n        query,\n        this.controller.signal\n      );\n\n      this.setState({\n        places,\n        clients: clients.map((client) => {\n          return { value: client._id, label: client.company };\n        }),\n        cities: cities.map((city) => {\n          return { value: city._id, label: city.name };\n        }),\n      });\n    } catch (err) {\n      console.log(\"Error while loading\", err.toString());\n    }\n  };\n  handleDelete = async () => {\n    const { t } = this.props;\n\n    const query = `mutation{campaignHardDelete(_id:\"${this.state.campaign._id}\")}`;\n    Swal.fire({\n      title: t(\"db.campaign.form.delete.warning.title\"),\n      text: t(\"db.campaign.form.delete.warning.text\"),\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes\",\n    }).then(async (result) => {\n      if (!result.value) return;\n      try {\n        const { campaignHardDelete } = await queryRequest(\n          query,\n          this.controller.signal\n        );\n        if (campaignHardDelete) {\n          Swal.fire({\n            icon: \"success\",\n            title: t(\"db.campaign.form.delete.success.title\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.setState({\n            campaign: {\n              _id: \"\",\n              name: \"\",\n              client: \"\",\n              budget: \"\",\n              cities_selected: [],\n              places: {},\n              start_date: new Date(),\n              end_date: new Date(),\n              contactEmail: \"\",\n            },\n          });\n          this.props.doRefresh();\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: t(\"db.campaign.form.delete.failed.title\"),\n            text: t(\"db.campaign.form.delete.failed.text\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        }\n      } catch (err) {\n        console.log(\"Error while loading\", err.toString());\n      }\n    });\n  };\n\n  handleShare = async (e) => {\n    e.preventDefault();\n    const { t } = this.props;\n    const def = this.state.campaign.contactEmail || \"\";\n    Swal.fire({\n      title: t(\"db.campaign.form.share.title\"),\n      input: \"text\",\n      inputValue: def,\n      inputAttributes: {\n        autocapitalize: \"off\",\n      },\n      showCancelButton: true,\n      confirmButtonText: \"Share\",\n      showLoaderOnConfirm: true,\n      preConfirm: (email) => {\n        return (async () => {\n          const query = `mutation{campaignShare(_id:\"${this.state.campaign._id}\", email:\"${email}\")}`;\n\n          try {\n            const { campaignShare } = await queryRequest(\n              query,\n              this.controller.signal\n            );\n            if (campaignShare) return campaignShare;\n            Swal.showValidationMessage(`Invalid input`);\n          } catch (err) {\n            console.log(\"Error\", err);\n            Swal.showValidationMessage(`Invalid request`);\n          }\n        })();\n      },\n      allowOutsideClick: () => !Swal.isLoading(),\n    }).then((result) => {\n      if (result.value) {\n        Swal.fire({\n          icon: \"success\",\n          title: t(\"db.campaign.form.share.title\"),\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      }\n    });\n  };\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    const {\n      _id,\n      name,\n      client,\n      budget,\n      start_date,\n      end_date,\n      cities_selected,\n      places,\n      priority,\n    } = this.state.campaign;\n    const { t } = this.props;\n\n    if (!cities_selected || cities_selected.length <= 0) {\n      Swal.fire({\n        icon: \"error\",\n        title: t(\"db.campaign.form.submit.invalid.city.title\"),\n        text: t(\"db.campaign.form.submit.invalid.city.text\"),\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return;\n    }\n\n    let havePlace = false;\n    let placesSave = [];\n    Object.keys(places).forEach((key) => {\n      const value = this.state.campaign.places[key];\n      if (!value || parseInt(value) === 0) return;\n      havePlace = true;\n      placesSave.push(`{ place: \"${key}\", count: ${parseInt(value)}}`);\n    });\n    if (!havePlace) {\n      Swal.fire({\n        icon: \"error\",\n        title: t(\"db.campaign.form.submit.invalid.places.title\"),\n        text: t(\"db.campaign.form.submit.invalid.places.text\"),\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      return;\n    }\n    placesSave = `[${placesSave.join(\",\")}]`;\n\n    const query = _id\n      ? `mutation{campaignUpdate(_id:\"${_id}\",name:\"${name}\",client:\"${\n          client.value\n        }\",budget:${budget},priority: ${\n          priority ? \"true\" : \"false\"\n        },cities:${JSON.stringify(\n          cities_selected.map((city) => city.value)\n        )},startDate:\"${start_date.getTime()}\",endDate:\"${end_date.getTime()}\",places:${placesSave}) { _id }}`\n      : `mutation{campaignCreate(name:\"${name}\",client:\"${\n          client.value\n        }\",budget:${budget},priority:${\n          priority ? \"true\" : \"false\"\n        },cities:${JSON.stringify(\n          cities_selected.map((city) => city.value)\n        )},startDate:\"${start_date.getTime()}\",endDate:\"${end_date.getTime()}\",places:${placesSave}) { _id }}`;\n\n    try {\n      let data;\n      if (_id) {\n        const { campaignUpdate } = await queryRequest(\n          query,\n          this.controller.signal\n        );\n        data = campaignUpdate;\n      } else {\n        const { campaignCreate } = await queryRequest(\n          query,\n          this.controller.signal\n        );\n        data = campaignCreate;\n      }\n\n      if (!data) {\n        Swal.fire({\n          icon: \"error\",\n          title: this.state.campaign._id\n            ? t(\"db.campaign.form.submit.invalid.update\")\n            : t(\"db.campaign.form.submit.invalid.create\"),\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        return;\n      }\n      Swal.fire({\n        icon: \"success\",\n        title: this.state.campaign._id\n          ? t(\"db.campaign.form.submit.success.update\")\n          : t(\"db.campaign.form.submit.success.create\"),\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      this.setState({\n        campaign: {\n          _id: \"\",\n          name: \"\",\n          client: \"\",\n          budget: \"\",\n          cities_selected: [],\n          places: {},\n          start_date: new Date(),\n          end_date: new Date(),\n          contactEmail: \"\",\n        },\n      });\n      this.props.doRefresh();\n    } catch (err) {\n      console.log(\"Fetch failed: \", err.toString());\n    }\n  };\n\n  handleCityChange = (selected) => {\n    this.state.campaign.cities_selected = selected;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handleClientChange = (selected) => {\n    this.state.campaign.client = selected;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handleStart = (date) => {\n    this.state.campaign.start_date = date;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handleEnd = (date) => {\n    this.state.campaign.end_date = date;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handleBudgetChange = (evt) => {\n    this.state.campaign.budget = evt.target.value;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handleNameChange = (evt) => {\n    this.state.campaign.name = evt.target.value;\n    this.setState({ campaign: this.state.campaign });\n  };\n  handlePriorityChange = (e) => {\n    this.state.campaign.priority = e.target.checked;\n    this.setState({ campaign: this.state.campaign });\n  };\n\n  handlePlaceButtonPress = (e, place, count) => {\n    e.preventDefault();\n    const now = this.state.campaign.places[place]\n      ? parseInt(this.state.campaign.places[place])\n      : 0;\n    const sum = now + count;\n    this.state.campaign.places[place] = sum > 0 ? sum : 0;\n    this.setState({ campaign: this.state.campaign });\n  };\n  handlePlaceCountChange = (e, place) => {\n    if (e.target.value === \"\" || /^\\d+$/.test(e.target.value)) {\n      this.state.campaign.places[place] = e.target.value;\n      this.setState({ campaign: this.state.campaign });\n    }\n  };\n  handlePlaceGetCount = (id) => {\n    if (!(id in this.state.campaign.places)) return \"\";\n    return this.state.campaign.places[id];\n  };\n\n  render() {\n    const { t } = this.props;\n    return (\n      <Col xl={4}>\n        <Card className=\"m-b-20\">\n          <Card.Body>\n            <h4>\n              {this.state.campaign._id ? (\n                <TitleContainer>\n                  {t('db.campaign.form.title')}\n                  <FullView >\n                    <RoleLink\n                      to=\"campaign\"\n                      id={this.state.campaign._id}\n                      className=\"btn btn-block btn-primary waves-effect waves-light\"\n                    >\n                      {t('db.campaign.form.button.fullView')}\n                    </RoleLink>\n                  </FullView>\n                </TitleContainer>\n              ) : (\n                t('db.campaign.form.title.new')\n              )}\n            </h4>\n\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Group className=\"form-group\">\n                <Form.Label className=\"mb-0\">\n                  {t('db.campaign.form.name')}\n                </Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  value={this.state.campaign.name}\n                  onChange={this.handleNameChange}\n                  required\n                />\n              </Form.Group>\n\n              <Form.Group>\n                <Form.Label className=\"mb-0\">\n                  {t('db.campaign.form.client')}\n                </Form.Label>\n                <Select\n                  value={this.state.campaign.client}\n                  onChange={this.handleClientChange}\n                  options={this.state.clients}\n                  required\n                />\n              </Form.Group>\n\n              <Row>\n                <Col>\n                  <div>\n                    <label className=\"mb-0\">\n                      {t('db.campaign.form.startDate')}\n                    </label>\n                  </div>\n                  <DatePicker\n                    className=\"form-control\"\n                    selected={this.state.campaign.start_date}\n                    onSelect={this.handleStart}\n                    dateFormat=\"dd/MM/yyyy\"\n                    required\n                  />\n                </Col>\n                <Col className=\"text-right\">\n                  <div>\n                    <label className=\"mb-0\">\n                      {t('db.campaign.form.endDate')}\n                    </label>\n                  </div>\n                  <DatePicker\n                    className=\"form-control\"\n                    dateFormat=\"dd/MM/yyyy\"\n                    selected={this.state.campaign.end_date}\n                    onSelect={this.handleEnd}\n                    required\n                  />\n                </Col>\n              </Row>\n\n              <Form.Group>\n                <Form.Label className=\"mb-0\">\n                  {t('db.campaign.form.cities')}\n                </Form.Label>\n                <Select\n                  value={this.state.campaign.cities_selected}\n                  onChange={this.handleCityChange}\n                  options={this.state.cities}\n                  isMulti={true}\n                  required\n                />\n              </Form.Group>\n\n              {/* {this.state.campaign._id && <Map data={this.getMapData()} />} */}\n\n              <Row>\n                {this.state.places &&\n                  this.state.places.map((place) => {\n                    return (\n                      <Place\n                        key={place._id}\n                        value={this.handlePlaceGetCount(place._id)}\n                        label={place.name}\n                        doButtonPress={(e, count) =>\n                          this.handlePlaceButtonPress(e, place._id, count)\n                        }\n                        doChange={(e) =>\n                          this.handlePlaceCountChange(e, place._id)\n                        }\n                      />\n                    );\n                  })}\n              </Row>\n\n              <Row>\n                <Col sm={6}>\n                  <label className=\"mb-0\">{t('db.campaign.form.budget')}</label>\n                  <Form.Group className=\"input-group mb-3\">\n                    <FormControl\n                      type=\"text\"\n                      value={this.state.campaign.budget}\n                      onChange={(evt) => this.handleBudgetChange(evt)}\n                      required\n                    />\n\n                    <InputGroup.Append>\n                      <span className=\"input-group-text\">€</span>\n                    </InputGroup.Append>\n                  </Form.Group>\n                </Col>\n                <Col>\n                  <label className=\"mb-0\">\n                    {t('db.campaign.form.priority')}\n                  </label>\n                  <Form.Group className=\"input-group mb-3\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"priority\"\n                      switch=\"danger\"\n                      checked={this.state.campaign.priority}\n                      onChange={this.handlePriorityChange}\n                    />\n                    <label\n                      htmlFor=\"priority\"\n                      data-on-label={t('db.campaign.form.priority.on')}\n                      data-off-label={t('db.campaign.form.priority.off')}\n                      className=\"mt-1\"\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              {this.state.campaign._id ? (\n                <Row>\n                  <Col sm={12} className=\"text-right\">\n                    <button\n                      className=\"btn btn-block btn-warning waves-effect waves-light\"\n                      onClick={this.handleShare}\n                    >\n                      {t('db.campaign.form.button.share')}\n                    </button>\n                  </Col>\n                </Row>\n              ) : null}\n\n              <Row className=\"mt-2\">\n                <Col>\n                  <button\n                    type=\"submit\"\n                    className=\"btn btn-success btn-block waves-effect waves-light\"\n                  >\n                    {this.state.campaign._id\n                      ? t('db.campaign.form.button.update')\n                      : t('db.campaign.form.button.create')}\n                  </button>\n                </Col>\n                {this.state.campaign._id &&\n                  [5, 11].includes(this.context.role) && (\n                    <Col>\n                      <Button\n                        variant=\"danger\"\n                        onClick={this.handleDelete}\n                        block\n                        className=\"waves-effect waves-light\"\n                      >\n                        {t('db.campaign.form.button.delete')}\n                      </Button>\n                    </Col>\n                  )}\n              </Row>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Col>\n    );\n  }\n}\n\nexport default translate()(CampaignTool);\n","import React, { Component } from \"react\";\nimport CampaignTool from \"../campaigns/campaignTool\";\nimport Table from \"../utils/dataTable\";\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\nimport formatDate from \"../../../utils/formatDate\";\n\nconst CampaignsTable = translate()(({t, rowCallback, setRefresh}) => {\n  const thead = ['ID',\n     t('db.campaigns.table.name'),\n     t('db.campaigns.table.company'),\n     t('db.campaigns.table.budget'),\n     t('db.campaigns.table.startDate'),\n     t('db.campaigns.table.endDate'),\n     t('db.campaigns.table.createdAt')];\n  const columns = [\n        {\n          data: '_id',\n          visible: false,\n          searchable: false,\n        },\n        {\n          data: 'name'\n        },\n        {\n          data: 'company'\n        },\n        {\n          data: 'budget'\n        },\n        {\n          data: 'startDate',\n          render: formatDate,\n          searchable: false,\n        },\n        {\n          data: 'endDate',\n          render: formatDate,\n          searchable: false,\n        },\n        {\n          data: 'created_at',\n          render: formatDate,\n          searchable: false,\n        },\n      ];\n\n  return (\n      <Card className=\"m-b-20\">\n        <Card.Body>\n          <h4 className=\"mt-0 header-title\">{t('db.campaigns.table.title')}</h4>\n\n          <Table ajax='/api/datatable/campaigns' order={[[6, 'desc']]} columns={columns} thead={thead} rowCallback={rowCallback} setRefresh={setRefresh}/>\n        </Card.Body>\n      </Card>)\n});\n\n\nclass Campaigns extends Component {\n  state = {\n    selected: {},\n    handleRefresh: () => {},\n  };\n\n  componentDidMount() {\n    console.log('Campaigns')\n  }\n\n  handleSelection(selected) {\n    if (this.state.selected === selected) this.setState({ selected: {} });\n    else this.setState({ selected });\n  }\n\n  setRefresh = (f) => this.setState({handleRefresh: f});\n\n  render() {\n\n    return (\n      <div className=\"container-fluid\">\n        <Row>\n          <Col xl={8}>\n            <CampaignsTable setRefresh={this.setRefresh} rowCallback={(el, data) => el.onclick = () => this.handleSelection(data)}/>\n          </Col>\n          <CampaignTool\n            doRefresh={this.state.handleRefresh}\n            selected={this.state.selected._id}\n          />\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Campaigns;\n","const roles = [0, 1, 3, 5];\n// 0: \"Installer\",\n// 1: 'Install lead',\n// 3: 'Sales',\n// 5: 'Admin',\n// 11: 'Super Admin',\n\nconst badgeColors = {\n  0: 'primary',\n  1: 'success',\n  3: 'warning',\n  5: 'danger',\n  11: 'danger',\n};\n\nconst roleTranslate = (rolenr, t) => {\n  return roles.includes(rolenr) ? t('user.role.' + rolenr) : t('user.role.-');\n};\n\nconst getBadgeColor = (rolenr) => {\n  return rolenr in badgeColors ? badgeColors[rolenr] : 'secondary';\n};\n\nexport { roles, roleTranslate, getBadgeColor };\n","import React, {Component} from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport Table from '../utils/dataTable';\nimport ReactDOM from \"react-dom\";\nimport {getBadgeColor, roleTranslate} from '../../../utils/roles';\nimport Swal from 'sweetalert2';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport { translate } from 'react-i18next';\n\n\nclass MailingCheckbox extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {checked: props.checked}\n    }\n\n    handleClick = async (e) => {\n        const value = e.target.checked;\n        if (await this.props.doChange(value)) this.setState({checked: value})\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                <input type=\"checkbox\" id={this.props.id} switch=\"none\" checked={this.state.checked ? \"checked\" : \"\"}\n                       onChange={this.handleClick}/>\n                <label htmlFor={this.props.id} data-on-label=\"Yes\" data-off-label=\"No\" style={{margin: 'auto'}}/>\n            </React.Fragment>\n        )\n    }\n}\n\nclass Mails extends Component {\n    state = {\n            thead: ['ID', 'Role', 'User', 'Email','Camp. Created', 'Camp. Changed', 'Camp. Pre-Start', 'Camp. Start', 'Camp. Pre-End', 'Camp. End', \"Install Done\", \"Remove Done\"],\n            columns: [\n                {\n                    data: '_id',\n                    visible: false,\n                    orderable: false,\n                    searchable: false,\n                },\n                {\n                    data: 'role',\n                    render: (data) => {\n                        return `<div style=\"width: 100%; text-align: center\"><span class=\"badge badge-${getBadgeColor(data)}\">${roleTranslate(data, this.props.t)}</span></div>`;\n                    },\n                },\n                {\n                    data: 'name'\n                },\n                {\n                    data: 'email'\n                },\n                {\n                    data: 'mailCampCreated',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailCampCreated')\n                },\n                {\n                    data: 'mailCampChanged',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailCampChanged')\n                },\n                {\n                    data: 'mailPreStart',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailPreStart')\n                },\n                {\n                    data: 'mailStart',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailStart')\n                },\n                {\n                    data: 'mailPreEnd',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailPreEnd')\n                },\n                {\n                    data: 'mailEnd',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailEnd')\n                },\n                {\n                    data: 'mailInstallDone',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailInstallDone')\n                },\n                {\n                    data: 'mailRemoveDone',\n                    defaultContent: \"\",\n                    searchable: false,\n                    createdCell: (td, dataCell, dataRow) => this.createCell(td, dataCell, dataRow, 'mailRemoveDone')\n                }\n            ],\n            ajax: '/api/datatable/mails'\n        };\n\n\n    createCell = (td, dataCell, dataRow, type) => {\n        const value = (!!dataCell);\n        ReactDOM.render(<MailingCheckbox id={`${type}${dataRow._id}`} checked={value}\n                                         doChange={(change) => this.handleCheckboxClick(type, dataRow._id, change)}/>, td)\n    };\n\n    componentDidMount() {\n        console.log(\"Mailing\");\n    }\n\n    handleCheckboxClick = async (type, id, value) => {\n        const query = `mutation{ userMailing(_id: \"${id}\", mail:\"${type}\", value:${value}) }`;\n\n        try {\n            const {userMailing} = await queryRequest(query, this.controller.signal);\n            return userMailing;\n        } catch (err) {\n            if (err.name === 'SyntaxError') {\n                // No Connection\n                Swal.fire({\n                    position: 'top-end',\n                    icon: 'error',\n                    title: 'Check internet connection',\n                    showConfirmButton: false,\n                    timer: 1800\n                });\n            } else if (err.name === 'AbortError') {\n                // Aborted\n            } else {\n                // Bad request\n                Swal.fire({\n                    position: 'top-end',\n                    icon: 'error',\n                    title: 'Bad request',\n                    showConfirmButton: false,\n                    timer: 1800\n                });\n            }\n            return false;\n        }\n    };\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    render() {\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    <Col xs={12}>\n                        <Card className=\"m-b-20\">\n                            <Card.Body>\n                                <Table ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead}/>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default translate()(Mails);\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport Select from \"react-select\";\n// import { RoleLink } from \"../routes\";\nimport { roles, roleTranslate } from '../../../utils/roles';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nimport AuthContext from \"../../../context/auth-context\";\n\nimport {translate} from 'react-i18next';\nimport Swal from \"sweetalert2\";\n\nclass UserTool extends Component {\n  state = {\n    user: {\n      _id: \"\",\n      name: \"\",\n      role: null,\n      city: null,\n      email: \"\",\n      phone: \"\"\n    },\n    selection: {\n      cities: [],\n      roles: roles.map(k => {return { value: k, label: roleTranslate(k, this.props.t) }}),\n    }\n  };\n\n  static contextType = AuthContext;\n\n  empty = { ...this.state.user };\n  edit = false;\n\n  controller = new AbortController();\n\n  componentDidMount() {\n    this.loadAllCities();\n  }\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  loadAllCities = async () => {\n    const query = `query{cities{_id name}}`;\n    try {\n      const data = await queryRequest(query, this.controller.signal);\n      this.state.selection.cities = data.cities.map(city => {\n        return { value: city._id, label: city.name };\n      });\n      this.setState({ selection: this.state.selection });\n    } catch (err) {\n      console.log(\"City load failed: \", err.toString());\n    }\n  };\n\n  componentWillReceiveProps = props => {\n    if (props.selected) this.loadUserData(props.selected);\n    else this.setState({ user: this.empty });\n  };\n\n  loadUserData = async id => {\n    const query = `query{user(_id:\"${id}\"){name email phone city{_id name}role}}`\n\n    try {\n      const { user } = await queryRequest(query, this.controller.signal);\n      console.log(user);\n\n      if (user.city) {\n        user.city = {\n          value: user.city._id,\n          label: user.city.name\n        };\n      }\n      user.role = {\n        value: user.role,\n        label: roleTranslate(user.role, this.props.t),\n      };\n      if (!user.phone) {\n        user.phone = '';\n      }\n\n      this.setState({ user: {...user, _id: id } });\n    } catch (err) {\n      console.log(\"Error finding user\", err.toString());\n    }\n  };\n\n  handleSubmit = async evt => {\n    evt.preventDefault();\n\n    const { _id, name, email, phone, city, role } = this.state.user;\n\n    if (!city) {\n      console.log(\"City is not selected\");\n      return;\n    }\n    if (!name || !email) return;\n\n    let roleSave = \"\";\n    if (role) {\n      roleSave = role.value;\n    }\n\n    const query = _id ? `mutation{userUpdate(_id:\"${_id}\",name:\"${name}\",email:\"${email}\",phone:\"${phone}\",role:${roleSave}, city:\"${city.value}\"){_id}}`\n        :`mutation{userCreate(name:\"${name}\",email:\"${email}\",phone:\"${phone}\",role:${roleSave}, city:\"${city.value}\"){_id}}`;\n\n    try {\n      const result = await queryRequest(query);\n      if (result) {\n        this.setState({user: {\n            _id: \"\",\n            name: \"\",\n            role: null,\n            city: null,\n            email: \"\",\n            phone: \"\"\n          }});\n        this.props.doRefresh()\n      }\n    } catch (err) {\n      console.log(\"Fetch failed: \", err.toString());\n    }\n  };\n\n  handleDelete = async (evt) => {\n    const { t } = this.props;\n    const query = `mutation{userHardDelete(_id:\"${this.state.user._id}\")}`;\n    Swal.fire({\n      title: t('db.user.form.delete.warning.title'),\n      text: t('db.user.form.delete.warning.text'),\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes',\n      cancelButtonText: 'Cancel',\n    }).then(async (result) => {\n      if (!result.value) return;\n      try {\n        const { userHardDelete } = await queryRequest(query, this.controller.signal);\n        if (userHardDelete) {\n          Swal.fire({\n            icon: 'success',\n            title: t('db.user.form.delete.success.title'),\n            showConfirmButton: false,\n            timer: 1500\n          });\n          // this.setState({ user: {_id: \"\", company: \"\"} });\n          // Todo: deSelect\n          this.props.doRefresh();\n        } else {\n          Swal.fire({\n            icon: 'error',\n            title: t('db.user.form.delete.failed.title'),\n            text: t('db.user.form.delete.failed.text'),\n            showConfirmButton: false,\n            timer: 1500\n          });\n        }\n      } catch (err) {\n        console.log(\"Error while loading\", err.toString());\n      }\n    });\n  };\n\n  handleNameChange = evt => {\n    this.state.user.name = evt.target.value;\n    this.setState({ user: this.state.user });\n  };\n\n  handleEmailChange = evt => {\n    this.state.user.email = evt.target.value;\n    this.setState({ user: this.state.user });\n  };\n\n  handlePhoneChange = evt => {\n    this.state.user.phone = evt.target.value;\n    this.setState({ user: this.state.user });\n  };\n\n  handleCityChange = selected => {\n    this.state.user.city = selected;\n    this.setState({ user: this.state.user });\n  };\n  handleRoleChange = selected => {\n    this.state.user.role = selected;\n    this.setState({ user: this.state.user });\n  };\n\n  render() {\n    const { t } = this.props;\n    return (\n      <Col xl={4}>\n        <Card className=\"m-b-20\">\n          <Card.Body >\n            <h4>\n              {this.state.user._id ?\n                  <React.Fragment>\n                    {t('db.user.form.title')}\n                    {/*<RoleLink to='user' id={this.state.user._id} className=\"pull-right\">*/}\n                    {/*  <i className=\"mdi mdi-arrow-expand-all m-r-5 text-primary\"/>*/}\n                    {/*</RoleLink>*/}\n                  </React.Fragment> : t('db.user.form.title.new')}\n            </h4>\n            <Form onSubmit={this.handleSubmit}>\n              <Form.Group className=\"form-group\">\n                <Form.Label>{t('db.user.form.name')}</Form.Label>\n                <Form.Control type=\"text\"\n                              value={this.state.user.name}\n                              onChange={this.handleNameChange}\n                              required/>\n              </Form.Group>\n\n              <Row>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label>{t('db.user.form.email')}</Form.Label>\n                    <Form.Control type=\"email\"\n                                  value={this.state.user.email}\n                                  onChange={this.handleEmailChange}\n                                  required/>\n                  </Form.Group>\n                </Col>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label>{t('db.user.form.phone')}</Form.Label>\n                    <Form.Control type=\"text\"\n                                  value={this.state.user.phone}\n                                  onChange={this.handlePhoneChange}/>\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              <Row>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label className=\"mb-0\">{t('db.user.form.city')}</Form.Label>\n                    <Select\n                      value={this.state.user.city}\n                      onChange={this.handleCityChange}\n                      options={this.state.selection.cities}\n                    />\n                  </Form.Group>\n                </Col>\n                <Col sm={6}>\n                  <Form.Group>\n                    <Form.Label className=\"mb-0\">{t('db.user.form.role')}</Form.Label>\n                    <Select\n                      value={this.state.user.role}\n                      onChange={this.handleRoleChange}\n                      options={this.state.selection.roles}\n                    />\n                  </Form.Group>\n                </Col>\n              </Row>\n\n              <Row>\n                <Col>\n                  <Button variant=\"primary\" type=\"submit\" block className=\"waves-effect waves-light\">\n                    { this.state.user._id ? t('db.user.form.button.update'): t('db.user.form.button.create')}\n                  </Button>\n                </Col>\n                { this.state.user._id && [5, 11].includes(this.context.role) &&\n                <Col>\n                  <Button variant=\"danger\" onClick={this.handleDelete} block className=\"waves-effect waves-light\">\n                    {t('db.user.form.button.delete')}\n                  </Button>\n                </Col>}\n              </Row>\n            </Form>\n          </Card.Body>\n        </Card>\n      </Col>\n    );\n  }\n}\n\nexport default translate()(UserTool);\n","import React, { Component } from \"react\";\nimport Table from \"../utils/dataTable\";\nimport UserTool from \"../users/userTool\";\nimport { roleTranslate, getBadgeColor } from '../../../utils/roles';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\n\n\nclass Users extends Component {\n  state = {\n    thead: [\n      this.props.t('db.users.table.role'),\n      this.props.t('db.users.table.name'),\n      this.props.t('db.users.table.email'),\n      this.props.t('db.users.table.phone'),\n      this.props.t('db.users.table.createdAt')],\n    columns: [\n      {\n        data: 'role',\n        render: (data) => {\n          return `<span style=\"width: 100%;\" class=\"badge badge-${getBadgeColor(data)}\">${roleTranslate(data, this.props.t)}</span>`;\n        },\n      },\n      {\n        data: 'name'\n      },\n      {\n        data: 'email',\n        render: (data) => {\n          // return data.length > 22 ? `${data.substring(0, 20)}...` : data;\n          return data;\n        },\n      },\n      {\n        data: 'phone',\n        render: (data) => {\n          return !!data? data : \"<i>Not set</i>\";\n        },\n      },\n      {\n        data: 'created_at',\n        render: (data) => {\n          const date = new Date(data);\n          return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n        },\n        searchable: false,\n      },\n    ],\n    order: [[4, 'desc']],\n    ajax: '/api/datatable/users',\n    rowCallback: (el, data) => el.onclick = () => this.handleSelection(data),\n\n    selected: {},\n    handleRefresh: () => {console.log('old')},\n  };\n\n  componentDidMount() {\n    console.log(\"users\")\n  }\n\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSelection(selected) {\n    if (this.state.selected === selected) this.setState({ selected: {} });\n    else this.setState({ selected });\n  }\n\n  setRefresh = (f) => this.setState({handleRefresh: f});\n\n  render() {\n    const { t } = this.props;\n    return (\n      <div className=\"container-fluid\">\n        <Row>\n          <Col xl={8}>\n            <Card className=\"m-b-20\">\n              <Card.Body>\n                <h4 className=\"mt-0 header-title\">{t('db.users.table.title')}</h4>\n\n                <Table order={this.state.order} ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback} setRefresh={this.setRefresh} />\n              </Card.Body>\n            </Card>\n          </Col>\n\n          <UserTool\n            doRefresh={this.state.handleRefresh}\n            selected={this.state.selected._id}\n          />\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default translate()(Users);\n","import React, { Component, useState } from 'react';\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport Accordion from \"react-bootstrap/Accordion\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport FormControl from \"react-bootstrap/FormControl\";\nimport Button from \"react-bootstrap/Button\";\nimport { useAccordionToggle } from 'react-bootstrap/AccordionToggle';\n\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport {translate} from 'react-i18next';\n\n\nconst CityAccordion = translate()(({t, data, doChange}) => {\n    return (\n        <Card>\n            <Card.Header>\n                <Accordion.Toggle as={Row} variant=\"link\" eventKey={data._id}>\n                    <Col xs={12} sm={6}>{data.name}</Col>\n                    <Col className='align-self-end text-right text-secondary font-md' >\n                        {t('db.operators.vehicles')} {data.operatorsAll.map(op => op.vehicles.length).reduce((a,b) => a+b, 0)} | {t('db.operators.operators')} {data.operatorsAll.length}\n                    </Col>\n                </Accordion.Toggle>\n            </Card.Header>\n            <Accordion.Collapse eventKey={data._id}>\n                <React.Fragment>\n                    {data.operatorsAll.map(op => <OperatorAccordion key={op._id} data={op} doChange={doChange} />)}\n                </React.Fragment>\n            </Accordion.Collapse>\n        </Card>)\n})\n\nconst OperatorToggle = translate()(({t, eventKey, data, doChange}) => {\n    const decOnClick = useAccordionToggle(eventKey);\n\n    const [company, setCompany] = useState(data.company || '');\n    const [edit, setEdit] = useState(false);\n\n    const query = `mutation{operatorUpdate(_id:\"${data._id}\",company:\"${company}\"){_id}}`;\n\n    return (<Row>\n            <Col sm={12} md={6} className='ml-3'>\n                {edit &&\n                <InputGroup>\n                    <FormControl value={company} onChange={(e) => setCompany(e.target.value)} type='text'/>\n                    <InputGroup.Append>\n                        {company !== data.company && <Button variant='primary' onClick={() => {\n                            doChange(query, cb => setEdit(false));\n                        }}>\n                            <i className='fa fa-paper-plane'/></Button>}\n                        <Button variant='outline-danger' onClick={() => {\n                            setEdit(false);\n                            setCompany(data.company || '')\n                        }}>\n                            <i className='fa fa-close'/>\n                        </Button>\n                    </InputGroup.Append>\n\n                </InputGroup>}\n                {!edit && <React.Fragment>\n                    <a href='#' className='' onClick={(e) => {\n                        e.preventDefault();\n                        decOnClick(e);\n                    }}>{data.company || data.operatorId}</a>\n                    <a href='#' onClick={(e) => {\n                        e.preventDefault();\n                        setEdit(true)\n                    }} className='fa fa-edit font-md ml-1'/>\n                </React.Fragment>}\n            </Col>\n            <Col className='align-self-end text-right text-secondary font-md'>\n                {t('db.operators.vehicles')} {data.vehicles.length}\n            </Col>\n        </Row>)\n})\n\nconst OperatorAccordion = translate()(({t, data, doChange}) => {\n   return (<Accordion>\n       <Card className={data.listed ? 'operator-active': data.visible? 'operator-visible':'operator-disabled'}>\n           <Card.Header>\n               <OperatorToggle eventKey={data._id} data={data} doChange={doChange}/>\n           </Card.Header>\n           <Accordion.Collapse eventKey={data._id}>\n               <Card.Body className='font-md'>\n                   <Form>\n                       <Form.Group as={Row} className='mb-0'>\n                           <Form.Label column sm=\"2\">\n                               {t('db.operators.listed')}\n                           </Form.Label>\n                           <Col sm=\"10\">\n                               <input onChange={()=>{\n                                   console.log('yep');\n                                   doChange(`mutation{operatorUpdate(_id:\"${data._id}\",listed:${!data.listed}){_id}}`)\n                               }} type=\"checkbox\" id={data._id + 's'} switch='primary' checked={data.listed}/>\n                               <label htmlFor={data._id + 's'} className='mb-0' data-on-label={t('db.operators.switch.yes')} data-off-label={t('db.operators.switch.no')}/>\n                           </Col>\n                       </Form.Group>\n\n                       <Form.Group as={Row} >\n                           <Form.Label column sm=\"2\">\n                               {t('db.operators.visible')}\n                           </Form.Label>\n                           <Col sm=\"10\">\n                               <input disabled={data.listed} onChange={()=>{\n                                   console.log('nope')\n                                   doChange(`mutation{operatorUpdate(_id:\"${data._id}\",visible:${!data.visible}){_id}}`)\n                               }} type=\"checkbox\" id={data._id + 'd'} switch={data.listed?\"default\":'primary'} checked={data.visible}/>\n                               <label htmlFor={data._id + 'd'} className='mb-0' data-on-label={t('db.operators.switch.yes')} data-off-label={t('db.operators.switch.no')}/>\n                           </Col>\n                       </Form.Group>\n                   </Form>\n                   <Row>\n                       <Col>\n                           {t('db.operators.placements')} {data.vehicles.map(v => v.totalAds).reduce((a,b) => a+b, 0)}\n                       </Col>\n                   </Row>\n               </Card.Body>\n           </Accordion.Collapse>\n       </Card>\n   </Accordion>)\n});\n\nclass Operators extends Component {\n    state = {\n        cities: [],\n        loaded: false\n    }\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        this.loadCityOperators();\n    }\n\n    loadCityOperators = async () => {\n        const query = `query{cities{_id name operatorsAll{_id operatorId company vehicles{totalAds} listed visible}}}`;\n\n        try {\n            const {cities} = await queryRequest(query, this.controller.signal, this.props.token);\n            this.setState({cities: cities || [] ,loaded: true});\n        } catch (err) {\n            console.log(\"Ohnoo, \", err.toString());\n            this.setState({loaded: true});\n        }\n    }\n    handleOperatorChange = async (query, cb) => {\n        try {\n            await queryRequest(query, this.controller.signal, this.props.token);\n            if (cb) cb();\n            //Todo: SWAL2 Success\n            this.loadCityOperators();\n        } catch (err) {\n            console.log(\"Ohnoo, \", err.toString());\n            //Todo: SWAL2 Error\n        }\n    }\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <div className=\"container-fluid\">\n                <h3 className=\"text-white border-bottom mb-4\">\n                    {t('db.operators.title')}\n                </h3>\n\n                {this.state.loaded && <Accordion>\n                    {this.state.cities.map(city => <CityAccordion key={city._id} data={city} doChange={this.handleOperatorChange}/>)}\n                </Accordion>}\n            </div>\n        );\n    }\n}\n\nexport default translate()(Operators);","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { RoleLink } from \"../routes\";\n\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nimport AuthContext from \"../../../context/auth-context\";\nimport Swal from \"sweetalert2\";\n\nimport { translate } from \"react-i18next\";\n\nclass TeamsTool extends Component {\n  state = {\n    team: { _id: \"\", company: \"\" },\n  };\n\n  controller = new AbortController();\n  static contextType = AuthContext;\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  componentWillReceiveProps(props) {\n    console.log(\"teamsTool.props\", props);\n    this.setState({ team: { _id: \"\", company: \"\" } });\n    if (Object.keys(props.selected).length) {\n      this.setState({\n        team: { _id: props.selected._id, company: props.selected.company },\n      });\n      this.loadTeamData(props.selected._id);\n    }\n  }\n\n  async loadTeamData(id) {\n    const query = `query{ team(_id: \"${id}\") { company }}`;\n    try {\n      const { team } = await queryRequest(query, this.controller.signal);\n      if (team) this.setState({ team: { ...team, _id: id } });\n    } catch (err) {\n      console.log(\"Fetch failed: \", err.toString());\n    }\n  }\n\n  handleDelete = async (evt) => {\n    const { t } = this.props;\n    const query = `mutation{teamHardDelete(_id:\"${this.state.team._id}\")}`;\n    Swal.fire({\n      title: t(\"db.team.form.delete.warning.title\"),\n      text: t(\"db.team.form.delete.warning.text\"),\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes\",\n      cancelButtonText: \"Cancel\",\n    }).then(async (result) => {\n      if (!result.value) return;\n      try {\n        const { teamHardDelete } = await queryRequest(\n          query,\n          this.controller.signal\n        );\n        if (teamHardDelete) {\n          Swal.fire({\n            icon: \"success\",\n            title: t(\"db.team.form.delete.success.title\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.setState({ team: { _id: \"\", company: \"\" } });\n          this.props.doRefresh();\n        } else {\n          Swal.fire({\n            icon: \"error\",\n            title: t(\"db.team.form.delete.failed.title\"),\n            text: t(\"db.team.form.delete.failed.text\"),\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        }\n      } catch (err) {\n        console.log(\"Error while loading\", err.toString());\n      }\n    });\n  };\n\n  async handleSubmit(evt) {\n    evt.preventDefault();\n\n    const { _id, company } = this.state.team;\n    const query = _id\n      ? `mutation{teamUpdate(_id:\"${_id}\" company:\"${company}\"){ _id }}`\n      : `mutation{teamCreate(company:\"${company}\"){ _id company }}`;\n    try {\n      const res = await queryRequest(query, this.controller.signal);\n      // const data = res.teamCreate || res.teamUpdate;\n      this.props.doRefresh();\n      // if (res.teamCreate) this.props.doSelect(data);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  handleNameChange(evt) {\n    this.state.team.company = evt.target.value;\n    this.setState({ team: this.state.team });\n  }\n\n  render() {\n    const { t } = this.props;\n    return (\n      <Card className=\"m-b-20\">\n        <Card.Body>\n          <h4>\n            {this.state.team._id ? (\n              <React.Fragment>\n                {t(\"db.team.form.title\")}\n                <RoleLink\n                  to=\"team\"\n                  id={this.state.team._id}\n                  className=\"pull-right\"\n                >\n                  <i className=\"mdi mdi-arrow-expand-all m-r-5 text-primary\" />\n                </RoleLink>\n              </React.Fragment>\n            ) : (\n              t(\"db.team.form.title.new\")\n            )}\n          </h4>\n\n          <Form onSubmit={(evt) => this.handleSubmit(evt)}>\n            <Form.Group>\n              <Form.Label>{t(\"db.team.form.company\")}</Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder={t(\"db.team.form.company\")}\n                value={this.state.team.company}\n                onChange={(evt) => this.handleNameChange(evt)}\n                required\n              />\n            </Form.Group>\n\n            <Row>\n              {this.state.team._id && (\n                <Col xs={12} className=\"mb-2\">\n                  <RoleLink\n                    to=\"team\"\n                    id={this.state.team._id}\n                    className=\"btn btn-block btn-primary waves-effect waves-light\"\n                  >\n                    {t(\"db.team.form.button.view\")}\n                  </RoleLink>\n                </Col>\n              )}\n              <Col>\n                <Button\n                  block\n                  variant=\"success\"\n                  type=\"submit\"\n                  className=\"waves-effect waves-light\"\n                >\n                  {this.state.team._id\n                    ? t(\"db.team.form.button.update\")\n                    : t(\"db.team.form.button.create\")}\n                </Button>\n              </Col>\n              {this.state.team._id && [5, 11].includes(this.context.role) && (\n                <Col>\n                  <Button\n                    variant=\"danger\"\n                    onClick={this.handleDelete}\n                    block\n                    className=\"waves-effect waves-light\"\n                  >\n                    {t(\"db.team.form.button.delete\")}\n                  </Button>\n                </Col>\n              )}\n            </Row>\n          </Form>\n        </Card.Body>\n      </Card>\n    );\n  }\n}\n\nexport default translate()(TeamsTool);\n","import React, { Component } from \"react\";\n\nimport {translate} from 'react-i18next';\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"../utils/dataTable\";\nimport TeamsTool from \"../teams/teamsTool\";\n\n\nclass Teams extends Component {\n    state = {\n        redirect: '',\n        thead: [\n            '#',\n            this.props.t('db.teams.table.company'),\n            this.props.t('db.teams.table.members'),\n            this.props.t('db.teams.table.createdAt')], // \"Email\", 'Phone',\n        columns: [\n            {\n                data: '_id',\n                visible: false,\n                searchable: false,\n                orderable: false,\n            },\n            {\n                data: \"company\"\n            },\n            {\n                data: \"members\",\n                searchable: false,\n            },\n            {\n                data: 'created_at',\n                render: (data) => {\n                    const date = new Date(data);\n                    return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n                },\n                searchable: false,\n            }\n        ],\n        ajax: '/api/datatable/teams',\n        rowCallback: (el, data) => el.onclick = () => this.handleSelection(data),\n        selected: '',\n        handleRefresh: () => {console.log('old')},\n    };\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        console.log(\"Teams\")\n    }\n\n    handleSelection(selected) {\n        if (this.state.selected._id === selected._id) this.setState({ selected: {} });\n        else this.setState({ selected });\n    }\n\n    setRefresh = (f) => this.setState({handleRefresh: f});\n\n    render() {\n        const { t } = this.props;\n        return (\n            <div className=\"container-fluid\">\n\n                <Row>\n                    <Col xl={8}>\n                        <Card className=\"m-b-20\">\n                            <Card.Body>\n                                <h4 className=\"mt-0 header-title\">{t('db.teams.table.title')}</h4>\n\n                                <Table order={this.state.order} ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback} setRefresh={this.setRefresh} />\n                            </Card.Body>\n                        </Card>\n                    </Col>\n\n                    <Col xl={4}>\n                        <TeamsTool\n                            doRefresh={this.state.handleRefresh}\n                            doSelect={this.handleSelection}\n                            selected={this.state.selected}\n                        />\n                    </Col>\n                </Row>\n\n            </div>\n        );\n    }\n}\n\nexport default translate()(Teams);\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nimport { translate } from 'react-i18next';\nimport Select from \"react-select\";\n\nclass TeamsTool extends Component {\n    state = {\n        options: [],\n        selected: {}\n    };\n    controller = new AbortController();\n\n    componentDidMount() {\n        this.loadInstallers();\n    }\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async loadInstallers() {\n        const query = `query{ installersValid { _id name }}`;\n        try {\n            const {installersValid} = await queryRequest(query, this.controller.signal);\n            if (installersValid) this.setState({options: installersValid.map(u =>{ return {value:u._id, label:u.name } }) })\n        } catch (err) {\n            console.log(\"Fetch failed: \", err.toString());\n        }\n    }\n\n    async handleSubmit(evt) {\n        evt.preventDefault();\n        const query = `mutation{installerCreate(team:\"${this.props.team}\", user:\"${this.state.selected.value}\"){ _id }}`;\n        try {\n            const {installerCreate} = await queryRequest(query, this.controller.signal);\n            if (installerCreate) {\n                this.setState({selected:{}});\n                this.loadInstallers();\n                this.props.doRefresh();\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n\n    handleInstallerChange = selected => {\n        this.setState({selected});\n    };\n\n    render() {\n        const { t } = this.props;\n        return (\n                <Card className=\"m-b-20\">\n                    <Card.Body>\n                        <h4>{t('db.installer.form.title.new')}</h4>\n                        <Form onSubmit={evt => this.handleSubmit(evt)}>\n                            <Form.Group>\n                                <Form.Label className=\"mb-0\">{t('db.installer.form.installer')}</Form.Label>\n                                <Select\n                                    value={this.state.selected}\n                                    onChange={this.handleInstallerChange}\n                                    options={this.state.options}\n                                    required/>\n                            </Form.Group>\n\n                            <Row>\n                                <Col>\n                                    <Button block variant=\"primary\" type=\"submit\" className=\"waves-effect waves-light\">\n                                        {t('db.installer.form.button.add')}\n                                    </Button>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Card.Body>\n                </Card>\n        );\n    }\n}\n\nexport default translate()(TeamsTool);\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\nimport Swal from \"sweetalert2\";\n\nimport { translate } from 'react-i18next';\n\nclass TeamsTool extends Component {\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    handleDelete = async () => {\n        const { t } = this.props;\n        const query = `mutation{installerRemove(_id:\"${this.props.selected._id}\")}`;\n\n        Swal.fire({\n            title: t('db.installer.form.delete.warning.title'),\n            text: t('db.installer.form.delete.warning.text'),\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Yes',\n            cancelButtonText: 'Cancel',\n        }).then(async (result) => {\n            if (!result.value) return;\n            try {\n                const { installerRemove } = await queryRequest(query, this.controller.signal);\n                if (installerRemove) {\n                    Swal.fire({\n                        icon: 'success',\n                        title: t('db.installer.form.delete.success.title'),\n                        showConfirmButton: false,\n                        timer: 1500\n                    });\n                    this.props.doRefresh();\n                } else {\n                    Swal.fire({\n                        icon: 'error',\n                        title: t('db.installer.form.delete.failed.title'),\n                        text: t('db.installer.form.delete.failed.text'),\n                        showConfirmButton: false,\n                        timer: 1500\n                    });\n                }\n            } catch (err) {\n                console.log(\"Error while loading\", err.toString());\n            }\n        });\n    };\n\n    render() {\n        const { t } = this.props;\n        return (\n                <Card className=\"m-b-20\">\n                    <Card.Body>\n                        <h4>{t('db.installer.form.title')}</h4>\n                        <h6>{t('db.installers.table.name')}: {this.props.selected.name}</h6>\n                        <Row>\n                            <Col>\n                                <Button onClick={this.handleDelete} block variant=\"primary\" type=\"submit\" className=\"waves-effect waves-light\">\n                                    {t('db.installer.form.button.remove')}\n                                </Button>\n                            </Col>\n                        </Row>\n                    </Card.Body>\n                </Card>);\n    }\n}\n\nexport default translate()(TeamsTool);\n","import React, { Component } from \"react\";\n\nimport {translate} from 'react-i18next';\nimport Col from \"react-bootstrap/Col\";\nimport Card from \"react-bootstrap/Card\";\nimport Table from \"../utils/dataTable\";\nimport AddInstallerTool from \"../teams/addInstallerTool\";\nimport SelectedInstallerTool from \"../teams/selectedInstallerTool\";\nimport Row from \"react-bootstrap/Row\";\n\nclass Team extends Component {\n    state = {\n        redirect: '',\n        thead: [\n            '#',\n            this.props.t('db.installers.table.name'),\n            // this.props.t('db.installers.table.installs'),\n            this.props.t('db.installers.table.createdAt')],\n        columns: [\n            {\n                data: '_id',\n                visible: false,\n                searchable: false,\n                orderable: false,\n            },\n            {\n                data: \"name\"\n            },\n            // {\n            //     data: \"installs\",\n            //     searchable: false,\n            //     defaultContent: \"0\"\n            // },\n            {\n                data: 'created_at',\n                render: (data) => {\n                    const date = new Date(data);\n                    return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n                },\n                searchable: false,\n            }\n        ],\n        ajax: '/api/datatable/team/' + this.props.match.params.id,\n        rowCallback: (el, data) => el.onclick = () => this.handleSelection(data),\n        selected: null,\n        handleRefresh: () => {console.log('old')},\n    };\n\n    handleSelection = (data) => {\n        if (this.state.selected && this.state.selected._id === data._id) return this.setState({selected: null});\n        this.setState({selected: data});\n    }\n\n    setRefresh = (f) => this.setState({handleRefresh: () => {f(); this.setState({ selected: null })}});\n\n    render() {\n        const { t } = this.props;\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    <Col xl={8}>\n                        <Card className=\"m-b-20\">\n                            <Card.Body>\n                                <h4 className=\"mt-0 header-title\">{t('db.teams.table.title')}</h4>\n\n                                <Table order={this.state.order} ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback} setRefresh={this.setRefresh} />\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                    <Col xl={4}>\n                        {this.state.selected && <SelectedInstallerTool\n                            team={this.props.match.params.id}\n                            doRefresh={this.state.handleRefresh}\n                            selected={this.state.selected}\n                        />}\n                        {!this.state.selected && <AddInstallerTool\n                            team={this.props.match.params.id}\n                            doRefresh={this.state.handleRefresh}\n                        />}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default translate()(Team);\n","import React from 'react';\nimport { translate } from 'react-i18next';\n\nimport Spinner from 'react-bootstrap/Spinner';\nimport Card from 'react-bootstrap/Card';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nfunction dateToString(date, t) {\n    const realDate = new Date(parseInt(date));\n    return `${new Date().getFullYear() !== realDate.getFullYear() ? `${new Date().getFullYear()} ` : ''}${t('month.' + realDate.getMonth()).toUpperCase()} ${realDate.getDate()}`\n}\n\nconst ListFeedItem = translate()(({item, t}) => {\n    return (\n        <li className=\"feed-item\">\n            <span className=\"date\">{dateToString(item.created_at, t)}</span>\n            <span className=\"activity-text\" dangerouslySetInnerHTML={{__html: item.message}}/>\n        </li>\n    );\n});\n\nconst scrolling = (e, load) => {\n    if (e.target.scrollHeight - e.target.clientHeight - e.target.scrollTop < 90) load();\n};\n\nexport const loadMore = async (component, query) => {\n    if (!component.loading) {\n        component.loading = true;\n        component.setState({loading: true})\n\n        try {\n            const data = await queryRequest(query, component.controller.signal);\n            if (Object.keys(data).length === 1) {\n                const activities = data[Object.keys(data)[0]];\n                if (activities && activities.length !== 0) {\n                    component.setState({feed: [ ...component.state.feed, ...activities], loading: false});\n                    component.loading = activities.length < component.limit;\n                    return;\n                }\n            }\n            component.setState({loading: false});\n            component.loading = true;\n        } catch (err) {\n            if (err.name !== 'AbortError') console.log(\"Fetch failed: \", err.toString())\n        }\n    }\n}\n\nexport const ListFeed = translate()(({t, data, className, doLoadMore}) => {\n    return (<div className={className ? className : \"col-md-6\"}>\n        <Card className=\"m-b-20\">\n            <Card.Body>\n                <h4 className=\"mt-0 m-b-15 header-title\">{t(data.title)}</h4>\n                {data.feed.length <= 0 && !data.loading && t('db.feed.empty')}\n                {data.feed.length > 0 &&\n                <div className=\"scrollable mx-280\" onScroll={(e) => scrolling(e, doLoadMore)}>\n                    <ol className=\"activity-feed mb-0\">\n                        {data.feed.map((item, index) => <ListFeedItem key={index} item={item}/>)}\n                    </ol>\n                </div>}\n\n                {data.loading && (\n                    <div className=\"text-center m-3\">\n                        <Spinner animation='border' variant='warning'/>\n                    </div>)}\n            </Card.Body>\n        </Card>\n    </div>);\n})","export default {\n  CAMPAIGN: {\n    NEW: 'campaign.new', //DONE user1 (creator)   campaign\n    EDIT: {\n      // user1 (changer)   campaign\n      NAME: 'campaign.edit.name', //DONE user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n      CLIENT: 'campaign.edit.client', //DONE user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n      BUDGET: 'campaign.edit.budget', //DONE user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n      CITIES: 'campaign.edit.cities', //  user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n      START_DATE: 'campaign.edit.start_date', //DONE user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n      END_DATE: 'campaign.edit.end_date', //DONE user1 (changer)  campaign  strValue1 (oldVal) strValue2 (newVal)\n    },\n    NOTIFICATION: {\n      PRE_START: 'campaign.notification.pre_start', // campaign\n      START: 'campaign.notification.start', // campaign\n      PRE_END: 'campaign.notification.pre_end', // campaign\n      END: 'campaign.notification.end', // campaign\n      INSTALLED: 'campaign.notification.installed', // campaign\n      REMOVED: 'campaign.notification.removed', // campaign\n    },\n    SHARE: 'campaign.share',\n    DELETE: 'campaign.del', // user1 (deleter)   campaign\n  },\n  PLACEMENT: {\n    NEW: 'placement.new',\n    EDIT: {\n      COUNT: 'placement.edit.count',\n    },\n    DELETE: 'placement.del',\n  },\n  OPERATOR: {\n    EDIT: {\n      COMPANY: 'operator.edit.company', // user1 (changer)  operator  strValue1 (oldVal) strValue2 (newVal)\n      LISTED: 'operator.edit.listed', // user1 (changer)  operator  strValue1 (oldVal) strValue2 (newVal)\n    },\n  },\n  INSTALL: {\n    NEW: 'install.new', //DONE user1 (installer)  installation fleet\n    EDIT: {\n      COUNT: 'install.edit.count', // user1 (changer)  installation  strValue1 (oldVal) strValue2 (newVal) fleet\n    },\n    DELETE: 'install.del', // user1  strValue1 (oldVal) strValue2 (newVal) fleet\n  },\n  REMOVE: {\n    NEW: 'remove.new', // user1 (uninstaller)  installation fleet\n    EDIT: {\n      COUNT: 'remove.edit.count', // user1 (changer)  installation fleet\n    },\n    DELETE: 'remove.del', // user1 (deleter) installation fleet\n    CLEAR: 'client.clear', //DONE user (deleter)  client\n  },\n  CLIENT: {\n    NEW: 'client.new', //DONE user1 (creator)  client\n    EDIT: {\n      COMPANY: 'client.edit.company', //DONE user1 (changer)  client  strValue1 (oldVal) strValue2 (newVal)\n      PERSON: 'client.edit.person', //DONE user1 (changer)  client  strValue1 (oldVal) strValue2 (newVal)\n      EMAIL: 'client.edit.email', //DONE user1 (changer)  client  strValue1 (oldVal) strValue2 (newVal)\n      PHONE: 'client.edit.phone', //DONE user1 (changer)  client  strValue1 (oldVal) strValue2 (newVal)\n    },\n    DELETE: 'client.del', //DONE user (deleter)  client\n    CLEAR: 'client.clear', //DONE user (deleter)  client\n  },\n  FLEET: {\n    EDIT: {\n      NUMBERPLATE: 'fleet.edit.numberplate', //DONE user1 (changer) fleet strValue1 (oldVal) strValue2 (newVal)\n    },\n  },\n  USER: {\n    NEW: 'user.new', //DONE user1 (creator)  user2 (user)\n    EDIT: {\n      NAME: 'user.edit.name', //DONE user1 (chagner-) user2 (user)  strValue1 (oldVal) strValue2 (newVal)\n      PHONE: 'user.edit.phone', //DONE user1 (chagner-) user2 (user)  strValue1 (oldVal) strValue2 (newVal)\n      ROLE: 'user.edit.role', //DONE user1 (chagner-) user2 (user)  strValue1 (oldId) strValue2 (newId)\n      CITY: 'user.edit.city', //DONE user1 (chagner-) user2 (user)  strValue1 (oldId) strValue2 (newId)\n      EMAIL: 'user.edit.email', //DONE user1 (chagner-) user2 (user)  strValue1 (oldVal) strValue2 (newVal)\n      PASSWORD: 'user.edit.pass', //DONE user1 (chagner-)\n    },\n    DELETE: 'user.del', //DONE user1 (deleter-) user2 (user)\n    CLEAR: 'user.clear', //DONE user (deleter)  user2 (user)\n  },\n};\n","import React, { Component } from 'react';\nimport {ListFeed, loadMore} from \"../utils/listFeed\";\nimport activityTypes from \"../../../utils/activityTypes\";\n\nclass InstallationNotificationFeed extends Component {\n    state = {\n        feed: [],\n        loading: true\n    };\n    loading = false;\n    controller = new AbortController();\n    activities = [activityTypes.INSTALL.NEW, activityTypes.REMOVE.NEW];\n    limit = 4;\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n    componentDidMount() {\n        this.load();\n    }\n    load = () => loadMore(this, `query{vehicleActivities(_id:\"${this.props.id}\", types:${JSON.stringify(this.activities)}, skip:${this.state.feed.length}, limit:${this.limit}){ message created_at }}`);\n    render = () => <ListFeed className='col-12' data={ {...this.state, title: 'db.feed.vehicle.activity'} } doLoadMore={this.load}/>;\n\n}\n \nexport default InstallationNotificationFeed;","import React, { Component } from \"react\";\nimport LiveMap from \"../map/liveMap\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { vehID, vehTypeObject } from \"../../../utils/vehicleProps\";\nimport InstallationNotificationFeed from '../fleets/installationNotificationFeed';\nimport Table from '../utils/dataTable';\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\n\nclass FleetDetails extends Component {\n  state = {\n    thead: [\n        // this.props.t('db.vehicle.ptable.installer'),\n      this.props.t('db.vehicle.ptable.campaignName'),\n      this.props.t('db.vehicle.ptable.place'),\n      this.props.t('db.vehicle.ptable.amount'),\n      this.props.t('db.vehicle.ptable.createdAt')], // \"Email\", 'Phone',\n    columns: [\n      {\n        data: 'campaign'\n      },\n      {\n        data: 'place',\n      },\n      {\n        data: 'count',\n        defaultContent: \"0\",\n        searchable: false,\n      },\n      {\n        data: 'created_at',\n        render: (data) => {\n          const date = new Date(data);\n          return `${date.getDate().toString().padStart(2, \"0\")}.${(date.getMonth()+1).toString().padStart(2, \"0\")}.${date.getFullYear()}`\n        },\n        searchable: false,\n      },\n    ],\n    ajax: '/api/datatable/vehicle/',\n\n    vehicle: {},\n    campaigns: [],\n    loaded: false\n  };\n\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  async componentDidMount() {\n    console.log(\"fleetFetails\");\n\n    const { id } = this.props.match.params;\n\n    const query = `query{vehicle(_id:\"${id}\"){ _id numberPlate totalAds line city{name}type operator{company} latitude longitude } vehicleCampaigns(_id:\"${id}\"){ _id name }}`;\n\n    try {\n      const { vehicle, vehicleCampaigns } = await queryRequest(query, this.controller.signal);\n\n      this.setState({ vehicle: (vehicle? vehicle:{}), loaded: true, campaigns: vehicleCampaigns });\n    } catch (err) {\n      if (err.name === 'SyntaxError') {\n        console.log(\"No connection\")\n      } else {\n        console.log(\"Ohnoo, \", err.toString());\n        this.setState({ loaded: true });\n      }\n    }\n  }\n\n  campaignsOnTheFleet = () => {\n    return this.state.campaigns.length;\n  };\n\n  getMapData = () => {\n    const query = `query{vehicle(_id: \"${this.state.vehicle._id}\"){ _id haveAds longitude latitude line }}`;\n\n    return {\n      height: 254,\n      query,\n      latitude: this.state.vehicle.latitude,\n      longitude: this.state.vehicle.longitude,\n      getData: data => [data.vehicle,],\n      smooth: true,\n      zoom: 12\n    };\n  };\n\n\n  render() {\n    const { t } =this.props;\n    if (!this.state.loaded)\n      return (\n        <div className=\"container-fluid text-center\">\n          <h3 className=\"text-white\">{t('loading')}</h3>\n        </div>\n      );\n    if (Object.keys(this.state.vehicle).length === 0)\n      return (\n        <div className=\"container-fluid text-center\">\n          <h3 className=\"text-white\">{t('db.vehicle.404')}</h3>\n        </div>\n      );\n    const { name, img } = vehTypeObject(this.state.vehicle._id);\n    return (\n      <div className=\"container-fluid\">\n        <Row className=\"border-bottom mb-4\">\n          <Col xs={12}>\n            <h3 className=\"text-white\">{name.toUpperCase() + \" \" + vehID(this.state.vehicle._id) + ( this.state.vehicle.numberPlate ? `(${this.state.vehicle.numberPlate})`: \"\" )}</h3>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xl={8}>\n            <Row>\n              <Col xl={6}>\n                <Card className=\"m-b-20\">\n                  <Card.Body>\n                    <div className=\"profile-widget text-center\">\n\n                      <Row className=\"mb-4\">\n                        <Col className=\"text-vehicle-info\">\n                          { this.state.vehicle.operator.company }\n                        </Col>\n                      </Row>\n\n                      <Row className=\"text-vehicle-info\">\n                        <Col><img src={img} alt={name} height='60'/><br/>{this.state.vehicle.numberPlate || ''}</Col>\n                        <Col><i className=\"fa fa-map-marker\"/>{name}<br/>{vehID(this.state.vehicle._id)}<br/>{t('db.vehicle.line')} {this.state.vehicle.line}</Col>\n                      </Row>\n\n                      <ul className=\"list-inline row mt-3 mb-0\">\n                        <li className=\"col-md-6\">\n                          <p className=\"m-b-5 font-18 font-600\">{this.campaignsOnTheFleet()}</p>\n                          <p className=\"mb-0\">{t('db.vehicle.campaigns')}</p>\n                        </li>\n                        <li className=\"col-md-6\">\n                          <p className=\"m-b-5 font-18 font-600\">{this.state.vehicle.totalAds}</p>\n                          <p className=\"mb-0\">{t('db.vehicle.placements')}</p>\n                        </li>\n                      </ul>\n                    </div>\n                  </Card.Body>\n                </Card>\n              </Col>\n\n              <Col xl={6} className=\"mb-3\">\n                <LiveMap data={this.getMapData()} />\n              </Col>\n            </Row>\n\n            <Row>\n              <Col sm={12}>\n                <Card>\n                  <Card.Body>\n                    <h4 className=\"mt-0 header-title\">{t('db.vehicle.ptable.title')}</h4>\n                    <Table order={this.state.order} ajax={`${this.state.ajax}${this.props.match.params.id}`} columns={this.state.columns} thead={this.state.thead}/>\n                  </Card.Body>\n                </Card>\n              </Col>\n            </Row>\n          </Col>\n\n          <Col xl={4}>\n            <InstallationNotificationFeed id={this.state.vehicle._id} />\n          </Col>\n\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default translate()(FleetDetails);\n\n// <Table title=\"Campaigns\" className='col-xl-12' message=\"\" doRenderHead={() => this.renderTableHead()} doRenderData={() => this.renderTableData()}/>\n","import React, {Component} from \"react\";\nimport Table from '../utils/dataTable';\nimport { Redirect } from \"react-router-dom\";\n\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport {translate} from 'react-i18next';\nimport {vehID} from \"../../../utils/vehicleProps\";\n\nclass Fleet extends Component {\n    state = {\n        redirect: '',\n        thead: ['#',\n            this.props.t('db.vehicles.table.id'),\n            this.props.t('db.vehicles.table.numberPlate'),\n            this.props.t('db.vehicles.table.operator'),\n            this.props.t('db.vehicles.table.placements')], // \"Email\", 'Phone',\n        columns: [\n            {\n                data: \"nr\"\n            },\n            {\n                data: \"_id\",\n                render: (data) => {\n                    return vehID(data);\n                }\n            },\n            {\n                data: 'numberPlate',\n                defaultContent: \"<i>Not set</i>\",\n                searchable: true,\n            },\n            {\n\n                data: 'company',\n                defaultContent: \"<i>Not set</i>\",\n                searchable: true,\n            },\n            {\n                data: 'totalAds',\n                render: (data) => {\n                    return `<div style=\"width: 100%;text-align: center;\">${data > 0 ? `<span class=\"badge badge-success\">${data}</span>`:`<span class=\"badge badge-danger\">${data}</span>`}</div>`;\n                },\n                searchable: false,\n                orderable: true,\n            }\n        ],\n        ajax: '/api/datatable/fleet',\n        rowCallback: (el, data) => {\n            el.classList.add(\"click\");\n            el.onclick = () => this.setState({redirect: data._id})\n        }\n    };\n\n    componentDidMount() {\n        console.log(\"Fleet\");\n    }\n\n    render() {\n        if (this.state.redirect) return <Redirect push to={`/dashboard/vehicle/${this.state.redirect}`}/>;\n        const { t } = this.props;\n        return (\n            <div className=\"container-fluid\">\n                <Row>\n                    {/* <GeneralLiveMap /> */}\n                </Row>\n\n                <Row>\n                    <Col xs={12}>\n                        <Card className=\"m-b-20\">\n                            <Card.Body>\n                                <h4 className=\"mt-0 header-title\">{t('db.vehicles.table.title')}</h4>\n                                <Table ajax={this.state.ajax} columns={this.state.columns} thead={this.state.thead} rowCallback={this.state.rowCallback}/>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default translate()(Fleet);\n","import React, { Component } from 'react';\nimport SmallInfoCardWithIcon from '../utils/smallInfoCard';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { translate } from 'react-i18next';\n\nclass ActiveCampaigns extends Component {\n    state = {\n        main: 0,\n        description: `${this.props.t('db.stat.card.activeCampaigns.addition')} 0 €`,\n        loaded: false,\n    };\n\n    controller = new AbortController();\n    \n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async componentDidMount() {\n        const query = `query{campaignsActive{ budget }}`;\n        try {\n            const {campaignsActive} = await queryRequest(query, this.controller.signal);\n            if (!campaignsActive) return;\n            const total = campaignsActive.map(camp => camp.budget).reduce((a, b) => {return a + b;}, 0);\n            this.setState({ description: `${this.props.t('db.stat.card.activeCampaigns.addition')} ${total} €`, main: campaignsActive.length, loaded:true });\n        } catch (err) {\n            if (err.name !== 'AbortError') this.setState({loaded:true });\n        }\n    }\n    \n    render = () => <SmallInfoCardWithIcon item={{...this.state, title: this.props.t('db.stat.card.activeCampaigns.title')}} /> ;\n}\n \nexport default translate()(ActiveCampaigns);","import React, {Component} from \"react\";\nimport SmallInfoCard from \"../utils/smallInfoCard\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { translate } from 'react-i18next';\n\nclass TotalCampaigns extends Component {\n    state = {\n        main: 0,\n        description: `${this.props.t('db.stat.card.totalCampaigns.addition')} 0 €`,\n        budgets: [],\n        loaded: false,\n    };\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async componentDidMount() {\n        const query = `query{campaigns{ budget }}`;\n\n        try {\n            const {campaigns} = await queryRequest(query, this.controller.signal);\n            if (!campaigns) return;\n            const total = campaigns.map(camp => camp.budget).reduce((a, b) => {\n                return a + b;\n            }, 0);\n            this.setState({description: `${this.props.t('db.stat.card.totalCampaigns.addition')} ${total} €`, main: campaigns.length, loaded: true});\n        } catch (err) {\n            if (err.name !== 'AbortError') this.setState({loaded:true });\n        }\n    }\n\n    render = () => <SmallInfoCard item={{...this.state, title:this.props.t('db.stat.card.totalCampaigns.title')}}/>;\n}\n\nexport default translate()(TotalCampaigns);\n","import React, { Component } from 'react';\nimport SmallInfoCardWithIcon from '../utils/smallInfoCard';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { translate } from 'react-i18next';\n\nclass LatestCampaigns extends Component {\n    state = {\n        main: \"-\",\n        description: `${this.props.t('db.stat.card.latestCampaign.addition')} 0 €`,\n        loaded: false\n    };\n    controller = new AbortController();\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n    async componentDidMount() {\n        const query = `query{ campaign { _id name budget }}`;\n        try {\n            const {campaign} = await queryRequest(query, this.controller.signal);\n            this.setState({main: campaign.name,link:'campaign', id: campaign._id, description: `${this.props.t('db.stat.card.latestCampaign.addition')} ${campaign.budget} €`, loaded: true });\n        } catch (err) {\n            if (err.name !== 'AbortError') this.setState({loaded:true });\n        }\n    }\n    render = () => <SmallInfoCardWithIcon item={{...this.state, title: this.props.t('db.stat.card.latestCampaign.title')}}/>\n}\n \nexport default translate()(LatestCampaigns);","import React, { Component } from 'react';\nimport SmallInfoCardWithIcon from '../utils/smallInfoCard';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { translate } from 'react-i18next';\n\nclass IncomePerMonth extends Component {\n    state = {\n        main: \"0 €\",\n        description: `${this.props.t('db.stat.card.revenueThisMonth.addition')} 0`,\n        loaded: false,\n    };\n\n    controller = new AbortController();\n    \n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    async componentDidMount() {\n        const now = new Date();\n        const query = `query{campaignsTil(date:\"${new Date(now.getFullYear(), now.getMonth()-1).getTime()}\"){ budget created_at }}`;\n        try {\n            const {campaignsTil} = await queryRequest(query, this.controller.signal);\n            const thisMonth = new Date(now.getFullYear(), now.getMonth()-1).getTime();\n            let revThis = 0, revLast = 0;\n            for (const cmp of campaignsTil) parseInt(cmp.created_at) < thisMonth ? revLast+=cmp.budget : revThis += cmp.budget;\n            this.setState({ main: `${revThis} €`, description: `${this.props.t('db.stat.card.revenueThisMonth.addition')} ${revLast} €`, loaded: true});\n        } catch (err) {\n            if (err.name !== 'AbortError') this.setState({loaded:true });\n        }\n      }\n\n    render = () => <SmallInfoCardWithIcon item={{...this.state, title: this.props.t('db.stat.card.revenueThisMonth.title')}} />;\n\n}\n \nexport default translate()(IncomePerMonth);","import React, { Component } from 'react';\nimport {ListFeed, loadMore} from \"../utils/listFeed\";\nimport activityTypes from \"../../../utils/activityTypes\";\n\nclass SalesNotificationFeed extends Component {\n    state = {\n        feed: [],\n        loading: true\n    };\n    loading = false;\n    controller = new AbortController();\n    activities = [activityTypes.CAMPAIGN.NEW, activityTypes.CAMPAIGN.DELETE];\n    limit = 8;\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        this.load();\n    }\n    load = () => loadMore(this, `query{activities(types:${JSON.stringify(this.activities)}, skip:${this.state.feed.length}, limit:${this.limit}){ message created_at }}`)\n    render = () => <ListFeed data={{...this.state, title:'db.feed.sales.activity'}} doLoadMore={this.load} className=\"col-xl-12 col-md-6 col-sm-12\"/>\n}\n\nexport default SalesNotificationFeed;","import React, { Component } from 'react';\nimport { ListFeed, loadMore } from \"../utils/listFeed\";\nimport activityTypes from \"../../../utils/activityTypes\";\n\n\nclass CampaignNotificationFeed extends Component {\n    state = {\n        feed: [],\n        loading: true\n    };\n    loading = false;\n    controller = new AbortController();\n    limit = 8;\n    activities = [\n        activityTypes.CAMPAIGN.NOTIFICATION.END,\n        activityTypes.CAMPAIGN.NOTIFICATION.PRE_END,\n        activityTypes.CAMPAIGN.NOTIFICATION.START,\n        activityTypes.CAMPAIGN.NOTIFICATION.PRE_START\n    ];\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n    componentDidMount() {\n        this.load();\n    }\n    load = () => loadMore(this, `query{activities(types:${JSON.stringify(this.activities)}, skip:${this.state.feed.length}, limit:${this.limit}){ message created_at }}`)\n    render = () => <ListFeed data={{...this.state, title: 'db.feed.campaigns.notification'}} doLoadMore={this.load} className=\"col-xl-12 col-md-6 col-sm-12\"/>;\n}\n \nexport default CampaignNotificationFeed;","import React, { Component } from \"react\";\nimport LiveMap from \"../map/liveMap\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport Select from \"react-select\";\n\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\n\nimport { translate } from 'react-i18next';\nimport AuthContext from \"../../../context/auth-context\";\n\nimport blue from '../../../images/markers/dot_marker_blue_32.png';\nimport orange from '../../../images/markers/dot_marker_orange_32.png';\nimport green from '../../../images/markers/dot_marker_green_32.png';\nimport gray from '../../../images/markers/dot_marker_gray_32.png';\n\nclass GeneralLiveMap extends Component {\n  state = {\n    cities: [],\n    operator_selected: null,\n    city_selected: null\n  };\n\n  static contextType = AuthContext;\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  async componentDidMount() {\n    const query = `query{cities{ _id name longitude latitude operators { _id operatorId company } }}`;\n\n    try {\n      let { cities } = await queryRequest(query, this.controller.signal);\n      cities = cities.filter(city => city.operators.length > 0);\n      cities = cities.map(city => {\n        return {\n          ...city,\n          label: city.name,\n          value: city._id,\n          operators: city.operators.map(operator => {\n            const label = operator.company\n              ? operator.company\n              : operator.operatorId;\n            return { ...operator, label, value: operator._id };\n          })\n        };\n      });\n      const openCityDefault = cities.map(city => city.label).indexOf('Helsinki');\n      this.setState({\n        cities,\n        city_selected: cities.length > 0 ? (openCityDefault !== -1? cities[openCityDefault]:cities[0]) : null\n      });\n    } catch (err) {\n      if (err.name !== 'AbortError') console.log(\"Fetch failed: \", err.toString());\n    }\n  }\n\n  getMapData = () => {\n    if (this.state.city_selected === null) return;\n    const { _id, longitude, latitude } = this.state.city_selected;\n\n    let getData, query;\n\n    if (!this.state.operator_selected) {\n      query = `query{cityVehicles(_id: \"${_id}\"){ _id haveAds longitude latitude listed }}`;\n      getData = data => data.cityVehicles;\n    } else {\n      query = `query{operatorVehicles(_id: \"${this.state.operator_selected.value}\"){ _id haveAds longitude latitude listed }}`;\n      getData = data => data.operatorVehicles;\n    }\n\n    return {\n      height: 624,\n      query,\n      latitude,\n      longitude,\n      getData\n    };\n  };\n\n  handleCityChange = selected => {\n    this.setState({ city_selected: null, operator_selected: null });\n    setTimeout(() => this.setState({ city_selected: selected }), 0);\n  };\n\n  handleOperatorChange = selected => {\n    const tempCity = this.state.city_selected;\n    const tempOperator = this.state.operator_selected;\n\n    this.setState({ city_selected: null, operator_selected: null });\n\n    setTimeout(() => {\n      if (tempOperator && selected.value === tempOperator.value) {\n        this.setState({city_selected: tempCity, operator_selected:null})\n      } else {\n        this.setState({ city_selected: tempCity, operator_selected: selected });\n      }\n    }, 0);\n  };\n\n  render() {\n    const { role } = this.context;\n    const { t } = this.props;\n    return (\n      <React.Fragment>\n          <Card className=\"m-b-10\">\n            <Card.Body>\n              <h4 className=\"mt-0 mb-3 header-title\">{t('db.general.map.title')}</h4>\n              <Row className=\"mb-1\">\n                <Col sm={6}>\n                  <div className='m-auto'>\n\n                  <Col className=\"mb-2\" style={{ zIndex:1004 }}>\n                    <Select\n                      value={this.state.city_selected}\n                      onChange={this.handleCityChange}\n                      options={this.state.cities}\n                      required\n                    />\n                  </Col>\n                  {this.state.city_selected &&\n                    this.state.city_selected.operators.length > 1 && (\n                      <Col style={{ zIndex:1001 }}>\n                        <Select\n                          value={this.state.operator_selected}\n                          onChange={this.handleOperatorChange}\n                          options={this.state.city_selected.operators}\n                        />\n                      </Col>\n                    )}\n                  </div>\n                </Col>\n                <Col sm={6} >\n                  <div className=\"mb-2\"><img src={blue} alt='blue'/> {t('map.marker.blue')}</div>\n                  <div className=\"mb-2\"><img src={green} alt='green'/> {t('map.marker.green')}</div>\n                  <div className=\"mb-2\"><img src={orange} alt='orange'/> {t('map.marker.orange')}</div>\n                  {[5,11].includes(role) && <div className=\"mb-2\"><img src={gray} alt='blue'/> {t('map.marker.gray')}</div> }\n                </Col>\n              </Row>\n              <div style={{minHeight:350}}>\n                {this.state.city_selected !== null && <LiveMap data={this.getMapData()}/>}\n              </div>\n            </Card.Body>\n          </Card>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default translate()(GeneralLiveMap);\n","import React, {useContext} from 'react';\n// import DoughnutGraph from \"../utils/doughnutGraph\";\nimport ActiveCampaigns from \"../general/activeCampaigns\";\nimport TotalCampaigns from \"../general/totalCampaigns\";\nimport LatestCampaigns from \"../general/latestCampaigns\";\nimport IncomePerMonth from \"../general/incomePerMonth\";\nimport SalesNotificationFeed from \"../general/salesNotificationFeed\";\nimport CampaignNotificationFeed from \"../general/campaignNotificationFeed\";\nimport GeneralLiveMap from \"../general/generalLiveMap\";\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport AuthContext from \"../../../context/auth-context\";\nimport SmallInfoCard from \"../utils/smallInfoCard\";\n\nexport default () => {\n    const context = useContext(AuthContext);\n    return (\n        <div className=\"container-fluid\">\n            { context.role === 5 && <Row>\n                <Col sm={6} xl={3}>\n                    <TotalCampaigns/>\n                </Col>\n                <Col sm={6} xl={3}>\n                    <ActiveCampaigns/>\n                </Col>\n                <Col sm={6} xl={3}>\n                    <LatestCampaigns/>\n                </Col>\n                <Col sm={6} xl={3}>\n                    <IncomePerMonth/>\n                </Col>\n            </Row> }\n            <Row>\n                <Col xl={8}>\n                    <GeneralLiveMap/>\n                </Col>\n\n                <Col md={12} xl={4}>\n                    <Row>\n                        <SalesNotificationFeed/>\n                        <CampaignNotificationFeed/>\n                    </Row>\n                </Col>\n            </Row>\n        </div>\n    )\n};\n","import React  from 'react';\n\nimport GeneralLiveMap from \"../general/generalLiveMap\";\n\nexport default () => {\n    return (\n        <div className=\"container-fluid\">\n            <GeneralLiveMap/>\n        </div>\n    );\n};\n","import React, { useContext } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport AuthContext from '../../context/auth-context';\n\nimport Assign from './views/assign';\nimport Assignments from './views/assignments';\nimport Ads from './views/ads';\n// import Client from \"./views/clientDetails\";\nimport Clients from './views/clients';\nimport Sales from './views/sales';\nimport Settings from './views/settings';\nimport Campaign from './views/campaignDetails';\nimport Campaigns from './views/campaigns';\n// import User from \"./views/userDetails\";\nimport Mails from './views/mails';\nimport Users from './views/users';\nimport Operators from './views/operators';\nimport Teams from './views/teams';\nimport Team from './views/team';\nimport Vehicle from './views/fleetDetails';\nimport Vehicles from './views/fleet';\nimport General from './views/genaral';\n\nconst translatePref = 'db.navbar.';\nconst pathPref = '/dashboard';\n\nconst appRoutes = {\n  general: {\n    roles: [],\n    path: '/general',\n    component: General,\n    nav: true,\n    icon: 'mdi-chart-pie',\n  },\n\n  // user: { roles: [1,3,5,11], path: \"/user/:id\", component: User },\n  users: {\n    roles: [5, 11],\n    path: '/users',\n    component: Users,\n    nav: true,\n    icon: 'ion-android-social',\n  },\n\n  // client: { roles: [5,11], path: \"/client/:id\", component: Client },\n  clients: {\n    roles: [3, 5, 11],\n    path: '/clients',\n    component: Clients,\n    nav: true,\n    icon: 'ion-briefcase',\n  },\n\n  campaigns: {\n    roles: [3, 5, 11],\n    path: '/campaigns',\n    component: Campaigns,\n    nav: true,\n    icon: 'mdi-calendar',\n  },\n  campaign: { roles: [3, 5, 11], path: '/campaign/:id', component: Campaign },\n\n  sales: {\n    roles: [5, 11],\n    path: '/sales',\n    component: Sales,\n    nav: true,\n    icon: 'mdi-briefcase-check',\n  },\n\n  operators: {\n    roles: [5, 11],\n    path: '/operators',\n    component: Operators,\n    nav: true,\n    icon: 'mdi-bus',\n  },\n\n  vehicles: {\n    roles: [5, 11],\n    path: '/fleet',\n    component: Vehicles,\n    nav: true,\n    icon: 'mdi-bus',\n  },\n  vehicle: { roles: [5, 11], path: '/vehicle/:id', component: Vehicle },\n\n  teams: {\n    roles: [1, 5, 11],\n    path: '/teams',\n    component: Teams,\n    nav: true,\n    icon: 'fa fa-cogs',\n  },\n  team: { roles: [1, 5, 11], path: '/team/:id', component: Team },\n\n  assignments: {\n    roles: [1, 5, 11],\n    path: '/assignments',\n    component: Assignments,\n    nav: true,\n    icon: 'fa fa-check',\n  },\n  assign: { roles: [1, 5, 11], path: '/assign/:id', component: Assign },\n\n  mails: {\n    roles: [5, 11],\n    path: '/mails',\n    component: Mails,\n    nav: false,\n    icon: 'mdi-email',\n  },\n  settings: {\n    roles: [],\n    path: '/settings',\n    component: Settings,\n    nav: false,\n    icon: 'mdi-settings',\n  },\n\n  placements: {\n    roles: [3, 5, 11],\n    path: '/ads',\n    component: Ads,\n    nav: true,\n    icon: 'mdi-animation',\n  },\n};\n\nconst isAllowed = (route, role) =>\n  !route.roles.length || route.roles.includes(role);\n\nexport const RoleLink = ({\n  to = '',\n  className = '',\n  react = true,\n  id = '',\n  children,\n}) => {\n  const context = useContext(AuthContext);\n  const route = { ...appRoutes[to] };\n  if (!Object.keys(route).length || !isAllowed(route, context.role))\n    return <a className={className}>{children}</a>;\n  route.path = pathPref + route.path;\n  if (route.path.includes(':id')) route.path = route.path.replace(':id', id);\n  if (react)\n    return (\n      <NavLink to={route.path} className={className}>\n        {children}\n      </NavLink>\n    );\n  return (\n    <a href={route.path} className={className}>\n      {children}\n    </a>\n  );\n};\n\nexport const getRoutes = (role) =>\n  Object.entries(appRoutes)\n    .filter(([, route]) => isAllowed(route, role))\n    .map(([key, route]) => {\n      const r = { ...route };\n      r.path = pathPref + route.path;\n      r.translation = translatePref + key;\n      return r;\n    });\n\nexport const getNavs = (role) =>\n  Object.entries(appRoutes)\n    .filter(([, route]) => route.nav && isAllowed(route, role))\n    .map(([key, route]) => {\n      const r = { ...route };\n      r.name = key;\n      r.translation = translatePref + key;\n      return r;\n    });\n\n// <Route path={\"/dashboard/vehicle/:id\"} component={Title({ component: FleetDetails, title: t('db.navbar.vehicleDetails') })}/>\n// <Route path={\"/dashboard/fleet\"} component={Title({ component: Fleet, title: t('db.navbar.vehicles') })}/>\n// <Route path={\"/dashboard/ads\"} component={Title({ component: Ads, title: 'Placements' })}/>\n// <Route path={\"/dashboard/client/:id\"} component={Title({ component: ClientDetails, title: t('db.navbar.clientDetails') })}/>\n// <Route path={\"/dashboard/clients\"} component={Title({ component: Clients, title: 'Clients' })}/>\n// { [5,11].includes(context.role) && <Route path={\"/dashboard/sales\"} component={Title({ component: Sales, title: t('db.navbar.sales') })}/>}\n// <Route path={\"/dashboard/settings\"} component={Title({ component: Settings, title: t('db.navbar.settings')})}/>\n// <Route path={\"/dashboard/campaign/:id\"} component={Title({ component: CampaignDetails, title: t('db.navbar.campaignDetails')})}/>\n// <Route path={\"/dashboard/campaigns\"} component={Title({ component: Campaigns, title: t('db.navbar.campaigns') })}/>\n// <Route path={\"/dashboard/user/:id\"} component={Title({ component: UserDetails, title: t('db.navbar.userDetails')})}/>\n// { [5,11].includes(context.role) && <Route path={\"/dashboard/users/mails\"} component={Title({ component: Mails, title: t('db.navbar.mails')})}/>}\n// { [5,11].includes(context.role) && <Route path={\"/dashboard/users\"} component={Title({ component: Users, title: t('db.navbar.users') })}/>}\n// { [1,5,11].includes(context.role) && <Route path={\"/dashboard/teams\"} component={Title({ component: Teams, title: t('db.navbar.teams') })}/>}\n// { [1,5,11].includes(context.role) && <Route path={\"/dashboard/team/:id\"} component={Title({ component: Team, title: t('db.navbar.team') })}/>}\n// { [1,5,11].includes(context.role) && <Route path={\"/dashboard/team/:id\"} component={Title({ component: Team, title: t('db.navbar.team') })}/>}\n// <Route path={\"/dashboard/general\"} component={Title({ component: General, title: t('db.navbar.general') })}/>\n","import React, { useContext } from 'react';\nimport GeneralAdmin from '../roleBased/generalAdmin';\nimport GeneralLead from '../roleBased/generalLead';\n\nimport AuthContext from \"../../../context/auth-context\";\n\nexport default () => {\n    const context = useContext(AuthContext);\n    return context.role === 1 ? <GeneralLead/> : <GeneralAdmin/>\n};\n","import React, { useContext } from \"react\";\n\nimport { getNavs, RoleLink } from '../routes';\nimport AuthContext from \"../../../context/auth-context\";\n\nimport {translate} from 'react-i18next';\n\nimport logo from '../../../images/logo.svg'\n\nconst NavbarItem = (props) => {\n  return (\n      <li>\n        <RoleLink to={props.data.to} className='waves-effect'>\n          <i className={\"mdi \" + props.data.icon}/>\n          <span>{ props.data.name }</span>\n        </RoleLink>\n      </li>);\n};\n\nexport default translate()(({t}) => {\n  const context = useContext(AuthContext);\n  return (\n    <div className=\"left side-menu\" style={{zIndex:1005}}>\n    <div className=\"topbar-left\">\n      <a className=\"logo\" href=\"/dashboard\">\n        <img src={logo} height=\"50\" alt=\"logo\" />\n      </a>\n    </div>\n    <div className=\"sidebar-inner slimscrollleft\">\n      <div id=\"sidebar-menu\">\n        <ul>\n          <li className=\"menu-title\"/>\n          { getNavs(context.role).map(n =>\n              <NavbarItem key={n.path} data={{ name: t(n.translation), badge: \"\", icon: n.icon, to:n.name }}/>)}\n        </ul>\n      </div>\n    </div>\n  </div>);\n})\n","import React, {Component} from \"react\";\n\nimport AuthContext from \"../../../context/auth-context\";\nimport {roleTranslate} from '../../../utils/roles';\n\nimport {translate} from 'react-i18next';\n\n// function invertColor(hex) {\n//     if (hex.indexOf('#') === 0) hex = hex.slice(1);\n//     // convert 3-digit hex to 6-digits.\n//     if (hex.length === 3) hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n//     if (hex.length !== 6) throw new Error('Invalid HEX color.');\n//     // invert color components\n//     let r = (255 - parseInt(hex.slice(0, 2), 16)).toString(16),\n//         g = (255 - parseInt(hex.slice(2, 4), 16)).toString(16),\n//         b = (255 - parseInt(hex.slice(4, 6), 16)).toString(16);\n//     // pad each with zeros and return\n//     return '#' + padZero(r) + padZero(g) + padZero(b);\n// }\n// function padZero(str, len) {\n//     len = len || 2;\n//     return (new Array(len).join('0') + str).slice(-len);\n// }\n\nconst initialColors = {\n    0: '#355fa7',\n    1: '#4ac18e',\n    3: '#ffbb44',\n    5: '#ea553d',\n    11: '#ea553d',\n}\n\nfunction getInitials(fullName, role) {\n    let f, l;\n    const nameTrim = fullName && fullName.trim();\n    if (!fullName || nameTrim.length === 0) f = '-';\n    else if (nameTrim.length === 1) f = nameTrim[0];\n    else if (nameTrim.split(' ').length > 1) {\n        const split = nameTrim.split(' ');\n        f = split[0][0]\n        l = split[split.length - 1][0]\n    } else {\n        f = nameTrim[0]\n        l = nameTrim[1]\n    }\n\n    let canvas = document.createElement('canvas');\n    canvas.style.display = 'none';\n    canvas.width = 32;\n    canvas.height = 32;\n    document.body.appendChild(canvas);\n    let context = canvas.getContext('2d');\n    context.fillStyle = initialColors[role];\n    context.fillRect(0, 0, canvas.width, canvas.height);\n    context.font = \"18px Cousine, monospace\";\n    context.fillStyle = '#fff';\n\n    let initials = l ? f + l : f;\n    context.fillText(initials.toUpperCase(), l ? 5: 10, 22);\n\n    let data = canvas.toDataURL();\n    document.body.removeChild(canvas);\n    return data;\n}\n\nclass Toolbar extends Component {\n\n  static contextType = AuthContext;\n  static imgUrl = \"https://picsum.photos/100\";\n\n  state = {\n      title: this.props.t('dashboard'),\n      lang_toggle: false,\n      user_toggle: false\n  };\n\n  togglescreen = (e) => {\n      if (!document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement) {  // current working methods\n          if (document.documentElement.requestFullscreen) {\n              document.documentElement.requestFullscreen();\n          } else if (document.documentElement.mozRequestFullScreen) {\n              document.documentElement.mozRequestFullScreen();\n          } else if (document.documentElement.webkitRequestFullscreen) {\n              document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n          }\n      } else {\n          if (document.cancelFullScreen) {\n              document.cancelFullScreen();\n          } else if (document.mozCancelFullScreen) {\n              document.mozCancelFullScreen();\n          } else if (document.webkitCancelFullScreen) {\n              document.webkitCancelFullScreen();\n          }\n      }\n  };\n\n  componentDidMount() {\n    if (this.context.role) this.setState({title:`${roleTranslate(this.context.role, this.props.t)} ${this.props.t('dashboard').toLowerCase()}`});\n  }\n\n  handleLogout(evt) {\n    evt.preventDefault();\n    this.context.logout();\n  }\n\n  render() {\n      const { t, i18n } = this.props;\n    return (\n      <div className=\"topbar\" style={{zIndex:1010}}>\n        <nav className=\"navbar-custom\">\n          {/*<div className=\"search-wrap\" id=\"search-wrap\">*/}\n          {/*  <div className=\"search-bar\">*/}\n          {/*    <input className=\"search-input\" type=\"search\" placeholder=\"Search\" />*/}\n          {/*    <span className=\"close-search toggle-search\" data-target=\"#search-wrap\">*/}\n          {/*      <i className=\"mdi mdi-close-circle\"/>*/}\n          {/*    </span>*/}\n          {/*  </div>*/}\n          {/*</div>*/}\n\n          <ul className=\"list-inline float-right mb-0\">\n            {/* <li className=\"list-inline-item dropdown notification-list\">*/}\n            {/*  <span className=\"nav-link waves-effect toggle-search\" data-target=\"#search-wrap\">*/}\n            {/*    <i className=\"mdi mdi-magnify noti-icon\"/>*/}\n            {/*  </span>*/}\n            {/*</li>*/}\n            <li className=\"list-inline-item dropdown notification-list hidden-xs-down\">\n              <span className=\"nav-link waves-effect\" onClick={this.togglescreen}>\n                <i className=\"mdi mdi-fullscreen noti-icon\"/>\n              </span>\n            </li>\n            <li onClick={() =>this.setState({lang_toggle: !this.state.lang_toggle})}\n                className={\"list-inline-item dropdown notification-list hidden-xs-down\" + (this.state.lang_toggle ? ' show': '')}>\n              <span className=\"nav-link dropdown-toggle arrow-none waves-effect text-muted\" data-toggle=\"dropdown\">\n                {i18n.language.toUpperCase()}\n              </span>\n              <div className=\"dropdown-menu dropdown-menu-right language-switch\" style={{minWidth:'5rem'}}>\n                  { i18n.validLangs.map(({short, name}) =>\n                      <span className=\"dropdown-item\" key={short} style={{cursor:\"pointer\"}}>\n                        {/*<img src=\"/assets/images/flags/germany_flag.jpg\" height=\"16\"/>*/}\n                        <span onClick={() => i18n.changeLanguage(short)}>{name}</span>\n                      </span>)}\n              </div>\n            </li>\n            <li onClick={() => this.setState({user_toggle: !this.state.user_toggle})}\n                className={\"list-inline-item dropdown notification-list\" + (this.state.user_toggle ? ' show': '')}>\n              <span className=\"nav-link dropdown-toggle arrow-none waves-effect nav-user\" data-toggle=\"dropdown\">\n                <img src={ getInitials(this.context.name, this.context.role) } alt=\"usr\" className=\"init-logo\"/>\n              </span>\n              <div className=\"dropdown-menu dropdown-menu-right profile-dropdown\">\n                <span className=\"dropdown-item\">\n                  <i className=\"dripicons-user text-muted\"/>{t('toolbar.profile')}\n                </span>\n                <div className=\"dropdown-divider\"/>\n                <span className=\"dropdown-item\" onClick={ (evt) => this.handleLogout(evt) }>\n                  <i className=\"dripicons-exit text-muted\"/>{t('toolbar.logout')}\n                </span>\n              </div>\n            </li>\n          </ul>\n          <ul className=\"list-inline menu-left mb-0\">\n            <li className=\"list-inline-item\">\n              <button type=\"button\" className=\"button-menu-mobile open-left waves-effect\" onClick={this.props.doNavbarDisplay}>\n                <i className=\"ion-navicon\"/>\n              </button>\n            </li>\n            <li className=\"hide-phone list-inline-item app-search\">\n              <h3 className=\"page-title text-capitalize\">{this.state.title}</h3>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    );\n  }\n}\n\nexport default translate()(Toolbar);\n","import React, { Component } from 'react';\nimport Helmet from 'react-helmet';\n\nconst TitleFunction = ({ title }) => {\n    let defaultTitle = 'App';\n    return (\n        <Helmet>\n            <title>{ title || defaultTitle}</title>\n        </Helmet>\n    );\n};\n\n// withTitle function\nexport default ({ component: Inner, title }) => {\n    return class Title extends Component {\n        render() {\n            return (\n                <React.Fragment>\n                    <TitleFunction title={title} />\n                    <Inner {...this.props} />\n                </React.Fragment>\n            );\n        }\n    };\n  };\n\n","import React, { useContext } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport AuthContext from '../context/auth-context';\n\nimport Navbar from '../components/dashboard/all/navbar';\nimport Toolbar from '../components/dashboard/all/toolbar';\nimport { getRoutes } from '../components/dashboard/routes';\nimport Title from '../components/dashboard/all/title';\nimport { translate } from 'react-i18next';\n\nconst handleNavBar = () =>\n  document.getElementById('wrapper').classList.toggle('enlarged');\n\nexport default translate()(({ t }) => {\n  const context = useContext(AuthContext);\n  return (\n    <div id=\"wrapper\">\n      <Navbar />\n      <div className=\"content-page\">\n        <div className=\"content\">\n          <Toolbar doNavbarDisplay={handleNavBar} />\n          <div className=\"page-content-wrapper\">\n            <Switch>\n              {getRoutes(context.role).map((r) => (\n                <Route\n                  key={r.path}\n                  path={r.path}\n                  component={Title({\n                    component: r.component,\n                    title: t(r.translation),\n                  })}\n                />\n              ))}\n              <Route\n                path={'/dashboard/:sth'}\n                render={() => <Redirect to=\"/dashboard/general\" />}\n              />\n              <Route\n                path={'/dashboard/'}\n                render={() => <Redirect to=\"/dashboard/general\" />}\n              />\n            </Switch>\n          </div>\n        </div>\n        <footer className=\"footer\">© {t('company.name')}</footer>\n      </div>\n    </div>\n  );\n});\n","import React, {Component}  from 'react';\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport AuthContext from \"../../../context/auth-context\";\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from \"react-bootstrap/Button\";\n\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\n\nimport Swal from 'sweetalert2';\n\nimport { translate } from 'react-i18next';\n\nconst removeImg = async (id, reload, t) => {\n    const query = `mutation{ pictureDelete(id:\"${id}\")}`;\n    try {\n        const { pictureDelete } = await queryRequest(query);\n        if (pictureDelete) {\n            Swal.fire({\n                icon: 'success',\n                title: t('i.image.remove.form.success.title'),\n                showConfirmButton: false,\n                timer: 1500\n            });\n            reload();\n        }\n        else\n            Swal.fire({\n                icon: 'error',\n                title: t('i.image.remove.form.failed.title'),\n                text: t('i.image.remove.form.failed.text'),\n                showConfirmButton: false,\n                timer: 1500\n            });\n    } catch (err) {\n        console.log(err)\n    }\n}\n\nconst Img = translate()(({t, data, me, reload, openLB}) => {\n    const splited = data.path.split('/');\n    return (\n        <Row className='pt-2 pb-2 border-bottom border-top font-xs'>\n            <Col onClick={openLB} >\n                <img src={data.thumbnail || data.path} alt='i' style={{maxHeight:60, maxWidth:73}}/>\n            </Col>\n            <Col className='align-self-center'>\n                {splited[splited.length-1]}\n            </Col>\n            {data.user_id === me && <Col className='align-self-center'>\n                <Button className='images' variant='danger' onClick={() => removeImg(data.id, reload, t)}>\n                    {t('i.image.list.remove')}\n                </Button>\n            </Col>}\n        </Row>\n    )\n});\n\nclass Images extends Component {\n    state = {\n        images: [],\n        index: 0,\n        lightbox: false\n    };\n\n    static contextType = AuthContext;\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        this.loadImages()\n    }\n\n    loadImages = async () => {\n        const query = `query{campaignPictures(_id:\"${this.props.id}\"){ id path thumbnail user_id }}`;\n        try {\n            const { campaignPictures } = await queryRequest(query, this.controller.signal);\n            this.setState({ images: campaignPictures})\n        } catch (err) {\n        }\n    };\n\n    openLightbox = (index) => {\n        this.setState({lightbox: true, index})\n    }\n\n    render() {\n        const { t } = this.props;\n        const { images, index } = this.state;\n        return (<Modal centered scrollable onHide={this.props.handleClose} keyboard={false} animation={true} show={true} className='text-center'>\n            <Modal.Header style={{display:'unset', borderBottom: 'unset'}}>\n                <Modal.Title>{t('i.image.campaign.title')}</Modal.Title>\n            </Modal.Header>\n\n            <Modal.Body>\n                {images.length > 0 &&\n                    <React.Fragment>\n                        {images.map((i, index) => <Img key={i.path} openLB={() => this.openLightbox(index)} data={i} me={this.context._id} reload={this.loadImages}/>)}\n                    </React.Fragment>\n                }\n                {images.length === 0 && <h5>{t('i.image.list.empty')}</h5>}\n                {images.length > 0 && this.state.lightbox && <Lightbox\n                    mainSrc={images[index].path}\n                    nextSrc={images[(index + 1) % images.length].path}\n                    prevSrc={images[(index + images.length - 1) % images.length].path}\n                    onCloseRequest={() => this.setState({ lightbox: false })}\n                    onMovePrevRequest={() => this.setState({index: (index + images.length - 1) % images.length,})}\n                    onMoveNextRequest={() => this.setState({index: (index + 1) % images.length,})}\n                />}\n            </Modal.Body>\n            <Modal.Footer style={{display:'unset', borderTop:'unset'}}>\n                <Button className='w-sm' variant=\"success\" onClick={this.props.handleClose}>{t('i.image.list.close')}</Button>\n            </Modal.Footer>\n        </Modal>)\n    }\n}\nexport default translate()(Images);\n","import React, {useContext, useState} from 'react';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport NavDropdown from 'react-bootstrap/NavDropdown';\nimport Navbar from 'react-bootstrap/Navbar';\n\nimport { translate } from 'react-i18next';\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport ImagesView from \"./uploadImage\";\nimport AuthContext from \"../../../context/auth-context\";\n\nimport Swal from 'sweetalert2';\n\nconst uploadImage = async (t, campaign_id, file) => {\n    let token;\n\n    if (sessionStorage.getItem(\"_t\")) {\n        token = sessionStorage.getItem(\"_t\")\n    } else if (localStorage.getItem(\"_t\")) {\n        token = localStorage.getItem(\"_t\")\n    }\n    const fd = new FormData();\n    fd.append('campaign_id', campaign_id);\n    fd.append('img', file);\n\n    Swal.fire({\n        title: 'Uploading image...',\n        text: 'Please wait',\n        timerProgressBar: true,\n        onBeforeOpen: async () => {\n            Swal.showLoading();\n            Swal.close(await fetch(\"/api/upload/picture\", {\n                method: \"POST\",\n                body: fd,\n                headers: {\n                    \"Authorization\": token ? `Bearer ${token}`:\"\",\n                }\n            }));\n        }\n    }).then((result) => {\n        if (result.status === 200)\n            Swal.fire({ icon: 'success',\n                title: t('i.image.uploading.success.title'),\n                text: t('i.image.uploading.success.text'),\n                showConfirmButton: false, timer: 1500\n            })\n\n        else\n            Swal.fire({icon: 'error',\n                title: t('i.image.uploading.failed.title'),\n                text: t('i.image.uploading.failed.text'),\n                showConfirmButton: false, timer: 1500\n            });\n    })\n\n};\n\nconst SearchAndTriggerNav = translate()(({t, mt, onSubmit, value, onChange,placeholder, trigger}) => {\n    return (\n        <Navbar fixed='top' className='pl-1 pr-1 pb-0 navbar-container'>\n            <Container>\n                <Row className='pl-1 pr-2'>\n                    <Col>\n                        <form onSubmit={onSubmit}>\n                            <InputGroup>\n                                <FormControl placeholder={t(placeholder)} value={value} onChange={onChange}/>\n                                <InputGroup.Append>\n                                    <Button variant=\"outline-secondary\" type=\"submit\">\n                                        <i className=\"fa fa-search\"/>\n                                    </Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </form>\n                    </Col>\n                    <Col xs={3}>\n                        {trigger && <React.Fragment>\n                            <input type=\"checkbox\" id='h' switch={trigger.type} checked={trigger.value}\n                                   onChange={trigger.click}/>\n                            <label htmlFor='h' data-on-label={t(trigger.on)} data-off-label={t(trigger.off)}\n                                   style={{marginTop: 7, marginBottom:0}}/>\n                        </React.Fragment>}\n                    </Col>\n                </Row>\n            </Container>\n        </Navbar>\n    )\n});\n\nconst CampaignNav = translate()(({t, onSubmit, mt, placeholder, value, onChange, campaign}) => {\n    const name = campaign.name;\n    const start = new Date(parseInt(campaign.startDate));\n    const end = new Date(parseInt(campaign.endDate));\n\n    const placements = campaign.placements.map(pl => pl.count).reduce((a,b) => a+b,0);\n    const installs = campaign.placements.map(pl => pl.installs.map(i => i.count).reduce((a,b) => a+b, 0) ).reduce((a,b) => a+b, 0);\n\n    const [show, setState] = useState(false);\n    let uploadBtn;\n    return (\n        <Navbar fixed='top' className='pl-1 pr-1 navbar-container'>\n            <Container className=\"text-center text-white\" style={{lineHeight:0.9}}>\n                {!!onSubmit && <Row className='pl-1 pr-2'>\n                    <Col>\n                        <form onSubmit={onSubmit}>\n                            <InputGroup>\n                                <FormControl placeholder={t(placeholder)} value={value} onChange={onChange}/>\n                                <InputGroup.Append>\n                                    <Button variant=\"outline-secondary\" type=\"submit\">\n                                        <i className=\"fa fa-search\"/>\n                                    </Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </form>\n                    </Col>\n                </Row>}\n                <h5 className=\"m-0 mb-1\">{name}</h5>\n                <Row>\n                    <Col>\n                        <Row>\n                            <Col>\n                                <strong>{start.getDate()} {t('month.'+start.getMonth())}</strong>\n                                <div className='description'>{t('i.campaign.startDate')}</div>\n                            </Col>\n\n                            <Col>\n                                <strong>{end.getDate()} {t('month.'+end.getMonth())}</strong>\n                                <div className='description'>{t('i.campaign.endDate')}</div>\n                            </Col>\n                        </Row>\n                    </Col>\n                    <Col>\n                        <strong>{installs}/{placements}</strong>\n                        <div className='description'>{t('i.campaign.placements')}</div>\n                    </Col>\n                </Row>\n                <ProgressBar className='campaign-progress' variant='warning' now={installs * 100 / placements}/>\n                <Row className='campaign-images mt-2'>\n                    <Col onClick={() => setState(true)}>\n                        <i className=\"fa fa-th-list\"/>\n                    </Col>\n                    <Col>\n                        <i className=\"ion ion-images\" onClick={() => uploadBtn.click()}/>\n                        <input hidden type=\"file\" name=\"file\" ref={input => uploadBtn = input} onChange={(e) => uploadImage(t, campaign._id,e.target.files[0])}/>\n                    </Col>\n                </Row>\n            </Container>\n            {show && <ImagesView id={campaign._id} handleClose={() => setState(false)}/>}\n        </Navbar>\n    )\n});\n\nconst HomeNav = translate()(({t, i18n, placeholder, onSubmit, onChange, value}) => {\n    const context = useContext(AuthContext);\n    return (\n        <Navbar fixed='top' style={{justifyContent:'space-between'}}>\n            <NavDropdown title={i18n.language.toUpperCase()} className='lang' id='install-navbar'>\n                { i18n.validLangs.map(({short, name}) =>\n                    <NavDropdown.Item key={short} onClick={() => i18n.changeLanguage(short)}>{name}</NavDropdown.Item>\n                    )}\n            </NavDropdown>\n\n            <form onSubmit={onSubmit} style={{maxWidth:'150px'}}>\n                <InputGroup className=\"p-1\">\n                    <FormControl placeholder={t(placeholder)} value={value} onChange={onChange}/>\n                    <InputGroup.Append>\n                        <Button variant=\"outline-secondary\" type=\"submit\">\n                            <i className=\"fa fa-search\"/>\n                        </Button>\n                    </InputGroup.Append>\n                </InputGroup>\n            </form>\n\n            <Button variant=\"primary\" onClick={context.logout}>\n                <i className=\"dripicons-exit\"/> Logout\n            </Button>\n        </Navbar>)\n});\n\nexport {\n    CampaignNav,\n    SearchAndTriggerNav,\n    HomeNav\n};\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport queryRequest from '../../../utils/queryRequest';\n\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\n\nimport { HomeNav } from '../components/navs';\n\nimport { translate } from 'react-i18next';\n\nfunction placesLeftPercent(placements, installs) {\n    return installs * 100 / placements;\n}\n\nconst CampaignItem = translate() (({campaign, t}) => {\n    const name = campaign.name;\n    const company = campaign.client.company;\n    const start = new Date(parseInt(campaign.startDate));\n    const end = new Date(parseInt(campaign.endDate));\n\n    const placements = campaign.placements.map(pl => pl.count).reduce((a,b) => a+b,0);\n    const installs = campaign.placements.map(pl => pl.installs.map(i => i.count).reduce((a,b) => a+b, 0) ).reduce((a,b) => a+b, 0);\n\n    const statusSize = placesLeftPercent(placements, installs);\n\n    return (\n      <Link to={'/install/c/'+ campaign._id} style={{color: 'black'}}>\n        <Card className=\"mb-3 mt-2 shadow\" style={{border: 'none'}}>\n          <Card.Body className=\"waves-effect p-3\">\n            <Card.Title className={`text-center text-vehicle-info ${campaign.priority && 'text-danger'}`}>\n                {name}\n            </Card.Title>\n              <div className='text-center font-sm'>{company}</div>\n            <Row className='text-center font-sm'>\n              <Col>\n                <Row>\n                  <Col className='install-col-val'>\n                    <strong>{start.getDate()} {t('month.'+ start.getMonth())}</strong>\n                    <div className='description'>{t('i.campaign.startDate')}</div>\n                  </Col>\n\n                  <Col className='install-col-val'>\n                    <strong>{end.getDate()} {t('month.'+ end.getMonth())}</strong>\n                    <div className='description'>{t('i.campaign.endDate')}</div>\n                  </Col>\n                </Row>\n              </Col>\n\n              <Col className='install-col-val'>\n                <strong>{installs}/{placements}</strong>\n                <div className='description'>{t('i.campaign.placements')}</div>\n              </Col>\n            </Row>\n          </Card.Body>\n\n          <ProgressBar className=\"card-bottom-progress\" striped variant={statusSize >= 100 ? 'success': 'warning'} now={statusSize} label/>\n        </Card>\n      </Link>\n    );\n});\n\n\nclass CampaignList extends Component {\n    state = {\n        search: '',\n        campaigns: [],\n    };\n\n    controller = new AbortController();\n    searchTimeout = 0;\n    componentDidMount() {\n      this.loadInCampaigns();\n    }\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    loadInCampaigns = async () => {\n      const query = `query{ campaignsForInstallers(search:\"${this.state.search}\"){ _id name client{company} priority startDate endDate placements { count installs { count }} }}`;\n      try {\n        const { campaignsForInstallers } = await queryRequest(query, this.controller.signal);\n        if (campaignsForInstallers) this.setState({campaigns: campaignsForInstallers});\n      } catch (err) {\n        console.log(\"error\", err);\n      }\n    };\n\n    handleSearchChange = (e) => {\n        this.setState({search: e.target.value});\n        clearTimeout(this.searchTimeout);\n        this.searchTimeout = setTimeout(this.loadInCampaigns, 600);\n    };\n\n    handleSearchSubmit = (e) => {\n        e.preventDefault();\n        this.loadInCampaigns();\n    };\n\n    render() {\n        return (\n          <React.Fragment>\n            <HomeNav onSubmit={this.handleSearchSubmit} placeholder=\"i.search.campaign\"\n                    onChange={this.handleSearchChange} value={this.state.search}/>\n            <Container style={{marginTop:65}}>\n              <Row className='border-bottom' style={{display:'block'}}>\n                <h4 className=\"text-center text-white\">{this.props.t('i.campaigns.title')}</h4>\n              </Row>\n                {this.state.campaigns.length > 0 && this.state.campaigns.map(camp => {\n                    return <CampaignItem key={camp._id} campaign={camp} />\n                })}\n            </Container>\n          </React.Fragment>\n        );\n    }\n}\n\nexport default translate()(CampaignList);\n","import React from 'react';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport {Link} from \"react-router-dom\";\nimport Card from \"react-bootstrap/Card\";\nimport {vehID, vehTypeObject} from \"../../../utils/vehicleProps\";\nimport ProgressBar from \"react-bootstrap/ProgressBar\";\nimport ActivityTypes from \"../../../utils/activityTypes\";\nimport Badge from \"react-bootstrap/Badge\";\n\nimport { translate } from 'react-i18next';\n\nconst VehicleByPlacement = translate()(({t,data}) => {\n    return (\n        <Link to={`/install/f/${data._id}`} style={{color: 'black'}}>\n            <Card className=\"mb-3 mt-2 shadow\" style={{border: 'none'} }>\n                <Card.Body className=\"waves-effect pb-2\">\n                    <Row className='text-center'>\n                        <Col xs={3} className='m-auto'>\n                            <img src={vehTypeObject(data._id).img} alt={vehTypeObject(data._id).name} height='60'/>\n                        </Col>\n\n                        <Col xs={9} className='m-auto install-col-val' style={{lineHeight:'1.1rem'}}>\n                            <strong>{vehID(data._id)}{!data.listed && <Badge variant=\"warning\">{t('i.vehicle.unlisted')}</Badge>}</strong>\n                            <div className='description'>{data.operator.company}</div>\n                            <h4>{data.installs.map(i=> i.count).reduce((a,b) => a+b, 0)}x {t('i.vehicle.placements')}</h4>\n                        </Col>\n                    </Row>\n                </Card.Body>\n                <ProgressBar className=\"card-bottom-progress\" variant='success' now={100} style={{borderRadius:0}}/>\n            </Card>\n        </Link>\n    );\n});\n\nconst VehicleByHistory = translate()(({t, data}) => {\n    const install = data.activityType === ActivityTypes.INSTALL.NEW;\n    const color = install ? 'green' : 'red';\n    const date = new Date(parseInt(data.created_at));\n\n    let object = install? data.install :data.remove;\n\n    return (\n        <Card className=\"mb-3 mt-2 shadow\" style={{border: 'none'}}>\n            <Link to={`/install/c/${data.campaign._id}/${data.vehicle._id}/${data.placement._id}`} style={{display: \"flex\", color: 'black'}}>\n                <div className=\"vertical-text-wrapper\" style={{backgroundColor: color}}>\n                    <div className=\"vertical-text\">{install ? 'INSTALLED' : 'REMOVED'}</div>\n                </div>\n                <Card.Body className=\"waves-effect p-2 pb-1\">\n                    <Row className='text-center'>\n                        <Col xs={3} className='m-auto'>\n                            <div>\n                                <img src={vehTypeObject(data.vehicle._id).img}\n                                     alt={vehTypeObject(data.vehicle._id).name} height='55'/>\n                            </div>\n\n                            <div style={{fontSize: '1rem'}}>\n                                <strong>{vehID(data.vehicle._id)}</strong>\n                            </div>\n                            {!data.vehicle.listed && <Badge variant=\"warning\">{t('i.vehicle.unlisted')}</Badge>}\n                        </Col>\n\n                        <Col xs={9} className='m-auto install-col-val'>\n                            <div>{data.user.name}</div>\n                            <h4>{object.count}x {data.placement.place.name}</h4>\n                            <div className='description'>{data.campaign.name}</div>\n                            <div className=\"float-right description\">{date.getDate().toString().padStart(2, \"0\")}.{(date.getMonth()+1).toString().padStart(2, \"0\")}.{date.getFullYear()}</div>\n                        </Col>\n                    </Row>\n                </Card.Body>\n            </Link>\n            {data.vehicle.haveAds && <ProgressBar className=\"card-bottom-progress\" variant='success' now={100}/>}\n        </Card>\n    );\n});\n\nconst VehicleByCampaign = translate()(({t, path, doVehicleSelect, data}) => {\n    return (\n        <Link to={path} onClick={() => doVehicleSelect(data)} style={{color: 'black'}}>\n            <Card className=\"mb-3 mt-2 shadow\" style={{border: 'none'}}>\n                <Card.Body className=\"waves-effect pb-2 pt-2\">\n                    <Row className='text-center font-sm'>\n                        <Col>\n                            <Row>\n                                <Col xs={5} className='m-auto' style={{padding: 0}}>\n                                    <img src={vehTypeObject(data._id).img}\n                                         alt={vehTypeObject(data._id).name} height='60'/>\n                                </Col>\n\n                                <Col xs={7} className='install-col-val' style={{padding: 0}}>\n                                    <strong>{vehID(data._id)}{!data.listed && <Badge variant=\"warning\">{t('i.vehicle.unlisted')}</Badge>}</strong>\n                                    <div >{data.operator.company}</div>\n                                </Col>\n                            </Row>\n                        </Col>\n\n                        <Col className='m-auto install-col-val' style={{padding: 0}}>\n                            <strong>{data.totalAds}</strong>\n                            <div className='description'>{t('i.vehicle.placements')}</div>\n                        </Col>\n\n                    </Row>\n                </Card.Body>\n\n                {!!data.totalAds &&\n                <ProgressBar className=\"card-bottom-progress\" variant='success' now={100}/>}\n            </Card>\n        </Link>\n    );\n});\n\nexport {\n    VehicleByPlacement,\n    VehicleByHistory,\n    VehicleByCampaign\n};\n","import React, {Component} from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { SearchAndTriggerNav } from '../components/navs';\nimport {VehicleByHistory} from '../components/vehicleCards';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nimport { translate } from 'react-i18next';\n\nclass History extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            search: '',\n            history: [],\n            loading: true,\n            me: true,\n        };\n    }\n\n    controller = new AbortController();\n    searchTimeout = 0;\n\n    componentWillUnmount() {\n        this.controller.abort();\n        clearTimeout(this.searchTimeout);\n    }\n\n    componentDidMount() {\n        this.installsLoadIn()\n    }\n\n    installsLoadIn = async () => {\n        const query = `query{ history(search:\"${this.state.search}\", skip:${this.state.history.length}, all:${this.state.me ? 'false':'true'}){ \n        id user{name}\n        vehicle{_id haveAds listed}\n        campaign{_id name}\n        placement{_id place{name}}\n        install{count}\n        remove{count}\n        activityType created_at }}`;\n        try {\n            const {history} = await queryRequest(query, this.controller.signal);\n            if (history) this.setState({history});\n        } catch (err) {\n          console.log(err)\n        }\n    };\n\n    handleSearchChange = (e) => {\n        this.setState({search: e.target.value, history:[]});\n        clearTimeout(this.searchTimeout);\n        this.searchTimeout = setTimeout(this.installsLoadIn, 600)\n    };\n\n    handleSearchSubmit = (e) => {\n        e.preventDefault();\n    };\n    handleSwitchTrigger = () => {\n      this.setState({me: !this.state.me, history:[]});\n      setTimeout(this.installsLoadIn, 10);\n    };\n\n    scrolling = (e, load) => {\n        // if (e.target.scrollTopMax - e.target.scrollTop < 90) load();\n    };\n\n    render() {\n        return (\n            <React.Fragment>\n                <SearchAndTriggerNav value={this.state.search} onChange={this.handleSearchChange}\n                                  placeholder=\"i.search.vehicle\"\n                                  onSubmit={this.handleSearchSubmit} trigger={{\n                    value: this.state.me, on: 'i.switch.me', off: 'i.switch.all', type: 'none',\n                    click: this.handleSwitchTrigger\n                }}/>\n\n                <Container style={{marginTop: 65}}>\n                    <Row className='border-bottom' style={{display: 'block'}}>\n                        <h4 className=\"text-center text-white\">{this.props.t('i.history.title')}</h4>\n                    </Row>\n                    <div>\n                        {this.state.history.length > 0 && this.state.history.map(history =>\n                            <VehicleByHistory key={history.id} data={history}/>)}\n                    </div>\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default translate()(History);\n","import React, {Component} from 'react';\n\nimport {VehicleByCampaign} from '../components/vehicleCards';\n\nimport Container from 'react-bootstrap/Container';\nimport {CampaignNav} from \"../components/navs\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { translate } from 'react-i18next';\n\nclass VehicleList extends Component {\n\n    state = {\n        inUse: false,\n        search: '',\n        vehicles: [],\n    }\n\n    searchTimeout = 0;\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n        clearTimeout(this.searchTimeout);\n    }\n\n    componentDidMount() {\n        this.handleLoadIn()\n    }\n\n    handleSwitchTrigger = () => {\n        this.setState({inUse: !this.state.inUse});\n        setTimeout(this.handleLoadIn, 10);\n    };\n\n    handleSearch = async (e) => {\n        this.setState({search: e.target.value});\n        clearTimeout(this.searchTimeout);\n        this.searchTimeout = setTimeout(this.handleLoadIn, 600)\n    };\n\n    handleLoadIn = () => {\n        if (!this.state.search) this.loadCampaign();\n        else this.loadAll();\n    };\n\n    loadCampaign = async () => {\n        const query = `query{campaignVehiclesForInstallers(_id: \"${this.props.campaign._id}\", search:\"${this.state.search}\", skip:0){_id listed operator{company} totalAds}}`;\n        try {\n            const {campaignVehiclesForInstallers} = await queryRequest(query, this.controller.signal);\n            if (campaignVehiclesForInstallers) {\n                this.setState({vehicles: campaignVehiclesForInstallers});\n                console.log(campaignVehiclesForInstallers)\n            }\n        } catch (err) {\n            console.log(\"error\", err);\n        }\n    };\n\n    loadAll = async () => {\n        const query = `query{vehiclesForInstallers(search:\"${this.state.search}\", skip:0){_id listed operator{company} totalAds}}`;\n\n        try {\n            const {vehiclesForInstallers} = await queryRequest(query, this.controller.signal);\n            if (vehiclesForInstallers) {\n                this.setState({vehicles: vehiclesForInstallers});\n            }\n        } catch (err) {\n            console.log(\"error\", err);\n        }\n    };\n\n    handleSearchSubmit = (e) => {\n        e.preventDefault();\n        this.handleLoadIn()\n    };\n\n    render() {\n        const { t } = this.props;\n        return (\n            <Container style={{marginTop: 170}}>\n                <CampaignNav value={this.state.search} onSubmit={this.handleSearchSubmit}\n                             placeholder=\"i.search.vehicle\" onChange={this.handleSearch}\n                             campaign={this.props.campaign}\n                             goBack={this.props.history.goBack}/>\n\n                    {this.state.vehicles.map(veh => <VehicleByCampaign key={veh._id}\n                                                                       doVehicleSelect={this.props.doVehicleSelect}\n                                                                       path={`${this.props.path}/${veh._id}`}\n                                                                       data={veh}/>)}\n                {this.state.vehicles.length === 0 && <h3 className='pt-2 text-white text-center'>{t('i.campaign.fleet.empty')}</h3>}\n            </Container>\n\n        )\n    }\n}\n\nexport default translate()(VehicleList);\n","import Swal from 'sweetalert2';\nimport queryRequest from '../../utils/queryRequest';\n\nconst compressInstallsInVehicle = (installs) => {\n  const uniqueInstalls = {};\n  for (const install of installs) {\n    if (uniqueInstalls[install.placement._id])\n      uniqueInstalls[install.placement._id].count += install.count;\n    else uniqueInstalls[install.placement._id] = install;\n  }\n  return Object.values(uniqueInstalls);\n};\n\nconst handleAdRemoving = (vehicle_id, placement_id, t, cb) => {\n  const query = `mutation{removeAd(vehicle:\"${vehicle_id}\",placement:\"${placement_id}\")}`;\n\n  Swal.fire({\n    title: t('i.remove.form.confirm.title'),\n    text: t('i.remove.form.confirm.text'),\n    icon: 'warning',\n    showCancelButton: true,\n    confirmButtonColor: '#3085d6',\n    cancelButtonColor: '#d33',\n    confirmButtonText: t('i.remove.form.confirm.yes'),\n  }).then((result) => {\n    if (result.value) removeAdd(query, t, cb);\n  });\n};\n\nconst removeAdd = async (query, t, cb) => {\n  try {\n    const { removeAd } = await queryRequest(query);\n\n    if (removeAd) {\n      if (cb) cb();\n\n      Swal.fire({\n        title: 'Removed!',\n        text: `${removeAd} ${t('i.remove.form.success.text')}`,\n        icon: 'success',\n        timer: 1500,\n        showConfirmButton: false,\n      });\n    } else {\n      Swal.fire({\n        icon: 'error',\n        title: t('i.remove.form.invalid.unk.title'),\n        text: t('i.remove.form.invalid.unk.text'),\n        showConfirmButton: false,\n        timer: 2500,\n      });\n    }\n  } catch (err) {\n    if (err.name !== 'AbortError') {\n      Swal.fire({\n        icon: 'error',\n        title: t('i.remove.form.invalid.request.title'),\n        text: t('i.remove.form.invalid.request.text'),\n        showConfirmButton: false,\n        timer: 1500,\n      });\n      console.log('Fetch failed: ', err.toString());\n    }\n  }\n};\n\nexport { compressInstallsInVehicle, handleAdRemoving };\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { compressInstallsInVehicle, handleAdRemoving } from '../utils';\n\nimport Swal from 'sweetalert2';\n\nimport Alert from 'react-bootstrap/Alert';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\n\nimport { translate } from 'react-i18next';\n\nconst UninstallCard = translate()(({t, data, doRemove, displayCampaign}) => {\n\n  return (\n    <Row className=\"text-center p-2 pt-3 pb-3 shadow mt-2\">\n      <Col xs={8} className=\"m-auto\">\n        <strong>{data.count}x {data.placement.place.name}</strong>\n        {!!displayCampaign && <div className='description'>{data.campaign.name}</div>}\n      </Col>\n      <Col xs={4} className=\"m-auto\" style={{ padding: 0 }}>\n        <Button onClick={doRemove} variant=\"danger\" className=\"waves-effect\" style={{ fontSize: \"0.9rem\" }}>{t('i.remove.form.button.label')}</Button>\n      </Col>\n    </Row>)\n});\n\nconst OtherCampaignUninstallCard = (props) => {\n  return <UninstallCard {...props} displayCampaign={true}/>\n};\n\n\nconst successful = (t) => {\n  Swal.fire({\n    icon: 'success',\n    title: t('i.install.form.successful.title'),\n    showConfirmButton: false,\n    timer: 1500\n  });\n};\n\nconst error = (t) => {\n  Swal.fire({\n    icon: 'error',\n    title: t('i.install.form.invalid.unk.title'),\n    showConfirmButton: false,\n    timer: 1500\n  });\n};\nconst badRequest = (t) => {\n  Swal.fire({\n    icon: 'error',\n    title: t('i.install.form.invalid.request.title'),\n    showConfirmButton: false,\n    timer: 1500\n  });\n};\nconst limit = (t) => {\n  Swal.fire({\n    icon: 'error',\n    title: t('i.install.form.invalid.amount.title'),\n    text: t('i.install.form.invalid.amount.text'),\n    showConfirmButton: false,\n    timer: 1800\n  });\n};\n\n\nclass PlacementView extends Component {\n  state = {\n    alert: true,\n    installs: [],\n    showOthers: false,\n    count: '',\n  };\n\n  controller = new AbortController();\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  componentDidMount() {\n    if (!this.props.placement._id) this.props.doPlacementLoad(this.props.match.params.placement);\n    this.handlePlacementsLoad()\n  }\n\n  handlePlacementsLoad = async () =>{\n    const query = `query{ vehicleInstalls(_id:\"${this.props.vehicle._id}\"){ id count campaign{ _id name } count placement{_id place{name}}}}`;\n\n    try {\n      const {vehicleInstalls} = await queryRequest(query, this.controller.signal);\n      if (vehicleInstalls) {\n        this.setState({installs: compressInstallsInVehicle(vehicleInstalls)});\n      }\n    } catch (err) {\n      console.log(\"error\", err);\n    }\n  };\n\n  handleInstall = async (count) => {\n    if (count <= 0) return;\n    const installed = this.props.placement.installs.filter(i=> i.installed).map(pl => pl.count).reduce((a,b) => a+b,0);\n    if (count + installed > this.props.placement.count) {\n      limit(this.props.t);\n      return;\n    }\n\n    const query = `mutation{ installAd(vehicle:\"${this.props.vehicle._id}\", placement:\"${this.props.placement._id}\", count:${count})}`;\n\n    try {\n      const {installAd} = await queryRequest(query, this.controller.signal);\n      if (installAd) {\n        this.props.doCampReload().then(() => {\n          this.props.doPlacementLoad(this.props.match.params.placement);\n        });\n        this.props.doVehicleReload();\n        this.handlePlacementsLoad();\n        successful(this.props.t);\n      } else {\n        error(this.props.t);\n      }\n    } catch (err) {\n      if (err.name !== 'AbortError') {\n        badRequest(this.props.t);\n      }\n    }\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n    this.handleInstall(parseInt(this.state.count))\n  };\n\n  handleInstallCountChange = (e) => {\n    if (e.target.value === \"\" || /^\\d+$/.test(e.target.value)) {\n      this.setState({ count: e.target.value });\n    }\n  };\n\n  handleFullRefresh = () => {\n    this.props.doCampReload().then(() => {\n      this.props.doPlacementLoad(this.props.match.params.placement);\n    });\n    this.props.doVehicleReload();\n    this.handlePlacementsLoad();\n  };\n\n  render() {\n    if (!this.props.placement._id) return null;\n\n    const installed = this.props.placement.installs.filter(i=> i.installed).map(pl => pl.count).reduce((a,b) => a+b,0);\n    const all = this.props.placement.count;\n\n    const { t } = this.props;\n\n    console.log('placementView.state', this.state);\n    return (\n      <React.Fragment>\n        <h4 className='text-center mt-0'>{t('i.vehicle.placement.selected.title')}</h4>\n        <Row className=\"text-center\">\n          <Col>\n            <strong>{this.props.placement.place.name}</strong>\n          </Col>\n          <Col>\n            {installed}/{all}\n          </Col>\n        </Row>\n        <ProgressBar striped variant='success' now={installed*100/all}/>\n        <form onSubmit={this.handleSubmit}>\n          <InputGroup className=\"mt-2\">\n            <FormControl onChange={this.handleInstallCountChange}\n              placeholder={t('i.install.form.input.placeholder')} value={this.state.count}\n            />\n            <InputGroup.Append>\n              <Button className=\"waves-effect\" variant=\"primary\" type=\"submit\">{t('i.install.form.button.label')}</Button>\n            </InputGroup.Append>\n          </InputGroup>\n        </form>\n\n        {this.state.installs.filter(install=> install.campaign._id === this.props.campaign._id).length > 0 && <h4 className='text-center mt-5'>{t('i.install.form.title.currentInstalls')}</h4>}\n        <div className=\"mb-3\" style={{ marginLeft: 10, marginRight: 10 }}>\n          {this.state.installs.length > 0 && this.state.installs.filter(install=> install.campaign._id === this.props.campaign._id).map((install) => <UninstallCard key={install.id} doRemove={() => handleAdRemoving(this.props.vehicle._id ,install.placement._id, t, this.handleFullRefresh)} data={install}/>)}\n        </div>\n\n        <Alert show={!this.state.showOthers && this.state.installs.filter(p => p.campaign._id !== this.props.campaign._id).length > 0} variant=\"warning\" className=\"mt-4 mb-0\">\n          <Alert.Heading>{t('i.install.form.others.title')}</Alert.Heading>\n          <p>{t('i.install.form.others.text')}</p>\n          <hr/>\n          <div className=\"d-flex justify-content-end\">\n            <Button onClick={() => this.setState({ showOthers: true })} variant=\"outline-warning\" style={{color:\"#856404\", borderColor:\"#856404\"}} >\n              {t('i.install.form.others.button')}\n            </Button>\n          </div>\n        </Alert>\n        {this.state.showOthers && (\n            <div className=\"mt-4 pt-4 mb-2\" style={{ marginLeft: 10, marginRight: 10 }}>\n              <h4 className=\"text-center\">{t('i.install.form.title.otherCampaigns')}</h4>\n              {this.state.installs.filter(p => p.campaign._id !== this.props.campaign._id).map((install) => <OtherCampaignUninstallCard key={install.id} doRemove={() => handleAdRemoving(this.props.vehicle._id, install.placement._id, t, this.handleFullRefresh)} data={install}/>)}\n            </div>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default translate()(PlacementView);\n","import React, {Component} from \"react\";\nimport {Link, Switch, Route, Redirect} from \"react-router-dom\";\n\nimport PlacementView from './placementView';\n\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport ProgressBar from 'react-bootstrap/ProgressBar';\nimport Badge from 'react-bootstrap/Badge';\nimport { CampaignNav } from \"../components/navs\";\nimport {vehTypeObject, vehID} from \"../../../utils/vehicleProps\";\n\nimport { translate } from 'react-i18next';\n\nconst PlacementItem = ({data, doSelection, path}) => {\n    const installed = data.installs.map(pl => pl.count).reduce((a, b) => a + b, 0);\n    const all = data.count;\n    return (\n        <Col xs={6} md={4} onClick={doSelection}>\n            <Link to={`${path}/${data._id}`} style={{color: 'black'}}>\n                <Card className=\"text-center mb-1 mt-2 shadow\">\n                    <Card.Body className=\"waves-effect pl-1 pr-1\">\n                        <strong>{installed}/{all}</strong>\n                        <div className='description font-sm'>{data.place.name}</div>\n                    </Card.Body>\n                    <ProgressBar className=\"card-bottom-progress\" variant='success' now={installed * 100 / all}\n                                 style={{borderRadius: 0}}/>\n                </Card>\n            </Link>\n        </Col>\n    );\n};\n\nconst Placements = translate()(({t, campaign, doSelection, path}) => {\n    return (\n        <React.Fragment>\n            <h4 className='text-center m-0'>{t('i.vehicle.placements.title')}</h4>\n            <Row className=\"mt-3\">\n                {campaign.placements.map(placem => {\n                    return <PlacementItem doSelection={() => doSelection(placem)} key={placem._id} path={path} data={placem}/>;\n                })}\n            </Row>\n        </React.Fragment>\n    )\n});\n\nclass VehicleView extends Component {\n    // const {campaign, vehicle} = this.props.match.params;\n    state = {\n        selectedPlacement: {}\n    };\n\n    controller = new AbortController();\n\n    componentWillUnmount() {\n        this.controller.abort();\n    }\n\n    componentDidMount() {\n        if (!this.props.vehicle._id) this.props.doVehicleLoad();\n    }\n\n    handlePlacementLoad = (_id) => {\n        const placement = this.props.campaign.placements.find(placement => placement._id === _id);\n        if (placement) this.setState({selectedPlacement: placement});\n        else console.log(\"PLACEMENT DOES NOT EXIST\")\n    };\n    \n    handleSelection = (placement) => {\n        this.setState({selectedPlacement: placement});\n    };\n\n    render() {\n        const { t } = this.props;\n        return (\n            <React.Fragment>\n                <CampaignNav campaign={this.props.campaign}/>\n                {!this.props.vehicle._id && null}\n                {this.props.vehicle._id && (\n                    <Container style={{marginTop: 135}}>\n                        <Card className=\"mb-2 mt-2 shadow\" style={{border: 'none'}}>\n                            <Card.Body className=\"pb-3\">\n                                <h3 className='text-center mb-3 mt-0'>{t('i.vehicle.placement.title')}</h3>\n                                <Row className='text-center font-sm'>\n                                    <Col>\n                                        <Row>\n                                            <Col xs={5} className='m-auto' style={{padding: 0}}>\n                                                <img src={vehTypeObject(this.props.vehicle._id).img}\n                                                     alt={vehTypeObject(this.props.vehicle._id).name} height='60'/>\n                                            </Col>\n\n                                            <Col xs={7} style={{padding: 0}}>\n                                                <strong>{vehID((this.props.vehicle._id))}{!this.props.vehicle.listed && <Badge variant=\"warning\">{t('i.vehicle.unlisted')}</Badge>}</strong>\n                                                <div className='description'>{this.props.vehicle.operator.company}</div>\n                                            </Col>\n                                        </Row>\n                                    </Col>\n\n                                    <Col className='m-auto' style={{padding: 0}}>\n                                        <strong>{this.props.vehicle.totalAds}</strong>\n                                        <div className='description'>{t('i.vehicle.placements')}</div>\n                                    </Col>\n                                </Row>\n                            </Card.Body>\n                        </Card>\n                        {/*  */}\n                        <Card>\n                            <Card.Body>\n                                <Switch>\n                                    <Route\n                                        path=\"/install/c/:campaign/:vehicle/:placement\"\n                                        render={(props) => <PlacementView {...props}\n                                                                          doPlacementLoad={this.handlePlacementLoad}\n                                                                          doCampReload={this.props.doCampReload}\n                                                                          doVehicleReload={this.props.doVehicleLoad}\n                                                                          path={`/install/c/${props.match.params.campaign}/${props.match.params.vehicle}/${props.match.params.placement}`}\n                                                                          placement={this.state.selectedPlacement}\n                                                                          campaign={this.props.campaign}\n                                                                          vehicle={this.props.vehicle}\n                                        />}\n                                    />\n                                    <Route path=\"/install/c/:campaign/:vehicle/\"\n                                        render={(props) => <Placements doSelection={this.handleSelection}\n                                                                       path={`/install/c/${props.match.params.campaign}/${props.match.params.vehicle}`}\n                                                                       campaign={this.props.campaign}/>}/>\n                                    <Route render={() => <Redirect to={`/install/c/${this.state.campaign}`}/>} />\n                                </Switch>\n                            </Card.Body>\n                        </Card>\n                    </Container>)}\n            </React.Fragment>\n        );\n    }\n}\n\nexport default translate()(VehicleView);\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\n// import Title from \"../../dashboard/all/title\";\n\nimport VehicleList from \"./vehicleList\";\nimport VehicleView from \"./vehicleView\";\n\nclass ByCampaign extends Component {\n  // const { campaign } = this.props.match.params;\n\n  state = {\n    selectedCampaign: {},\n    selectedVehicle: {},\n    redirect: false,\n  };\n\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  componentDidMount() {\n    this.handleCampaignLoading(this.props.match.params.campaign)\n  }\n\n  handleCampaignLoading = async (_id) => {\n    const query = `query{campaign(_id:\"${_id}\"){ _id name startDate endDate } placementsForInstaller(_id:\"${_id}\") { _id count place { name } installs { count installed } } }`;\n    try {\n      const { campaign, placementsForInstaller } = await queryRequest(query, this.controller.signal);\n      campaign.placements = placementsForInstaller;\n\n      if (campaign) {\n        this.setState({selectedCampaign: campaign});\n      } else {\n        console.log('Campaign not found', campaign);\n        this.setState({redirect:true})\n      }\n    } catch (err) {\n      console.log(\"error\", err);\n    }\n  };\n\n  handleVehicleSelect = (vehicle) => {\n    this.setState({selectedVehicle: vehicle});\n  };\n\n  handleVehicleLoading = async (_id) => {\n    const query = `query{ vehicle(_id:\"${_id}\"){ _id operator{company} totalAds listed}}`;\n\n    try {\n      const { vehicle } = await queryRequest(query, this.controller.signal);\n      if (vehicle) {\n        this.setState({selectedVehicle: vehicle});\n      } else {\n        this.setState({redirect:true})\n      }\n    } catch (err) {\n      console.log('ERROR', err);\n      this.setState({redirect:true})\n    }\n  };\n\n  render() {\n    if (this.state.redirect) return <Redirect push to={\"/install\"}/>;\n    if (!this.state.selectedCampaign._id) return null;\n\n    return (\n          <Switch>\n            <Route\n              path=\"/install/c/:campaign/:vehicle\"\n              render= { (props) => {\n                return (<VehicleView {...props} campaign={this.state.selectedCampaign} doVehicleLoad={async () =>  { await this.handleVehicleLoading(props.match.params.vehicle)}} doCampReload={async () => { await this.handleCampaignLoading(props.match.params.campaign)}} vehicle={this.state.selectedVehicle}/>);\n              }}\n            />\n            <Route\n              path=\"/install/c/:campaign\"\n              render= { (props) => {\n                return (<VehicleList {...props} path={`/install/c/${props.match.params.campaign}`} doVehicleSelect={this.handleVehicleSelect} campaign={this.state.selectedCampaign}/>);\n              }}\n            />\n          </Switch>\n    );\n  }\n}\n\nexport default ByCampaign;\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\n\nimport { SearchAndTriggerNav } from '../components/navs';\nimport { VehicleByPlacement} from '../components/vehicleCards';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\n\nimport { translate } from 'react-i18next';\n\nclass FleetList extends Component {\n  constructor(props) {\n    super(props);\n\n    const { campaign } = this.props.match.params;\n\n    this.state = {\n      campaign,\n      search: \"\",\n      vehicles: [],\n    };\n  }\n\n  controller = new AbortController();\n\n  searchTimeout = 0;\n\n  componentWillUnmount() {\n    clearTimeout(this.searchTimeout);\n    this.controller.abort();\n  }\n\n  handleSearchChange = (e) => {\n    this.setState({ search: e.target.value });\n    clearTimeout(this.searchTimeout);\n    this.searchTimeout = setTimeout(this.loadVehicles, 400)\n  };\n  handleSearchSubmit = (e) => {\n    e.preventDefault();\n\n  };\n  componentDidMount() {\n    this.loadVehicles();\n  }\n\n  loadVehicles = async () => {\n    const query = `query{ activeVehicles(search:\"${this.state.search}\", skip:0){_id listed operator{company} installs{count}}}`;\n\n    try {\n      const {activeVehicles} = await queryRequest(query, this.controller.signal);\n      if (activeVehicles) {\n        this.setState({vehicles: activeVehicles});\n        console.log('Active vehicles loaded', activeVehicles)\n      }\n    } catch (err) {\n      if (err.name === 'SyntaxError') {\n        // No Connection\n      } else if (err.name === 'AbortError') {\n        // Aborted\n      } else {\n        // Bad request\n      }\n      console.log(\"error\", err);\n    }\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <SearchAndTriggerNav value={this.state.search} onChange={this.handleSearchChange} onSubmit={this.handleSearchSubmit}\n                placeholder=\"i.search.vehicle\"/>\n        <Container style={{marginTop:65}}>\n          <Row className='border-bottom' style={{display:'block'}}>\n            <h4 className=\"text-center text-white\">{this.props.t('i.vehicles.title')}</h4>\n          </Row>\n          {this.state.vehicles.map(vehicle => <VehicleByPlacement key={vehicle._id} data={vehicle}/>)}\n        </Container>\n      </React.Fragment>\n\n    );\n  }\n}\n\nexport default translate()(FleetList);\n","import React, { Component } from \"react\";\nimport queryRequest from \"../../../utils/queryRequest\";\nimport { Redirect} from \"react-router-dom\";\nimport { vehID, vehTypeObject } from \"../../../utils/vehicleProps\";\n\nimport Container from 'react-bootstrap/Container';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Badge from \"react-bootstrap/Badge\";\n\nimport {compressInstallsInVehicle, handleAdRemoving} from \"../utils\";\n\nimport { translate } from 'react-i18next';\n\nconst PlacementUninstallCard = translate()(({data, doRemoving, t}) => {\n  return (\n    <Row className=\"text-center p-2 pt-3 pb-3 shadow mt-2\">\n      <Col xs={8} className=\"m-auto\">\n        <strong>{data.count}x {data.placement.place.name}</strong>\n        <div className='description'>{data.campaign.name}</div>\n      </Col>\n      <Col xs={4} className=\"m-auto\" style={{ padding: 0 }}>\n        <Button onClick={doRemoving} variant=\"danger\" className=\"waves-effect\" style={{ fontSize: \"0.9rem\" }}>{t('i.remove.form.button.label')}</Button>\n      </Col>\n    </Row>\n  )\n});\n\nclass PlacementViewFleet extends Component {\n  // const { vehicle } = this.props.match.params;\n  state = {\n    installs: [],\n    vehicle: null,\n    redirect: false\n  };\n\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  componentDidMount() {\n    this.handleVehicleLoad().then(() => {\n      this.handlePlacementsLoad();\n    }).catch(() =>{\n      this.setState({redirect: true})\n    });\n  }\n\n  handleVehicleLoad = async () => {\n    const query = `query{ vehicle(_id:\"${this.props.match.params.vehicle}\"){ _id operator{company} listed}}`;\n\n    try {\n      const { vehicle } = await queryRequest(query, this.controller.signal);\n      if (vehicle) {\n        console.log('Vehicle loaded', vehicle);\n        this.setState({vehicle});\n      } else {\n        console.log('Vehicle not found', vehicle);\n        this.setState({redirect:true})\n      }\n    } catch (err) {\n      console.log('ERROR', err);\n      this.setState({redirect:true})\n    }\n  };\n\n  handlePlacementsLoad = async () => {\n    const query = `query{ vehicleInstalls(_id:\"${this.state.vehicle._id}\"){ id count campaign{ _id name } count placement{_id place{name}}}}`;\n\n    try {\n      const {vehicleInstalls} = await queryRequest(query, this.controller.signal);\n      if (vehicleInstalls) this.setState({ installs: compressInstallsInVehicle(vehicleInstalls) });\n    } catch (err) {\n      console.log(\"error\", err);\n    }\n  };\n\n  render() {\n    if (this.state.redirect) return <Redirect to=\"/install/f\"/>;\n    if (!this.state.vehicle) return null;\n    const { t } = this.props;\n\n    return (\n      <Container>\n        <Card className=\"mt-2 shadow\" style={{border: 'none'}}>\n          <Card.Body>\n            <Row className='text-center'>\n              <Col>\n                <Row>\n                  <Col xs={5} className='m-auto' style={{padding:0}}>\n                    <img src={vehTypeObject(this.state.vehicle._id).img} alt={vehTypeObject(this.state.vehicle._id).name} height='60'/>\n                  </Col>\n\n                  <Col xs={7} style={{padding:0}}>\n                    <strong>{vehID((this.state.vehicle._id))}{!this.state.vehicle.listed && <Badge variant=\"warning\">{t('i.vehicle.unlisted')}</Badge>}</strong>\n                    <div className='description'>{this.state.vehicle.operator.company}</div>\n                  </Col>\n                </Row>\n              </Col>\n\n              <Col className='m-auto p-0'>\n                <strong>{this.state.installs.length && this.state.installs.map(i=> i.count).reduce((a,b) => a+b,0)}</strong>\n                <div className='description'>{t('i.vehicle.placements')}</div>\n              </Col>\n            </Row>\n\n            <div className=\"border-top mt-4\" style={{marginLeft:10, marginRight:10}}>\n              {this.state.installs.map(i => <PlacementUninstallCard key={i.id} doRemoving={() => handleAdRemoving(this.state.vehicle._id, i.placement._id, t, this.handlePlacementsLoad)} data={i}/>)}\n            </div>\n\n          </Card.Body>\n        </Card>\n      </Container>\n    );\n  }\n}\n\nexport default translate()(PlacementViewFleet);\n","import React, { useState, useContext } from 'react';\nimport { Switch, Route, NavLink } from 'react-router-dom';\nimport Title from '../components/dashboard/all/title';\n\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Card from 'react-bootstrap/Card';\nimport { translate } from 'react-i18next';\nimport AuthContext from '../context/auth-context';\n\nimport CampaignsList from '../components/installation/views/campaignsList';\nimport History from '../components/installation/views/history';\n\nimport ByCampaign from '../components/installation/views/byCampaign';\nimport ByFleet from '../components/installation/views/byFleet';\nimport PlacementViewFleet from '../components/installation/views/placementViewFleet';\n\nimport queryRequest from '../utils/queryRequest';\nimport Button from 'react-bootstrap/Button';\n\nconst getInstallerId = async (setInstaller) => {\n  const query = `query{ installerMe{ _id }}`;\n  try {\n    const { installerMe } = await queryRequest(query);\n    if (installerMe) setInstaller(installerMe);\n    else setInstaller(null);\n  } catch (err) {\n    setInstaller(null);\n  }\n};\n\nexport default translate()(({ t }) => {\n  const [intaller, setInstaller] = useState('');\n\n  if (intaller === null) {\n    const context = useContext(AuthContext);\n    return (\n      <Container className=\"mt-5\">\n        <Card>\n          <Card.Body className=\"text-center\">\n            <h4 className=\"text-center\">{t('i.noTeam')}</h4>\n            <Button variant=\"primary\" onClick={context.logout}>\n              <i className=\"dripicons-exit\" /> {t('i.logout')}\n            </Button>\n          </Card.Body>\n        </Card>\n      </Container>\n    );\n  }\n  if (intaller === '') {\n    getInstallerId(setInstaller);\n    return null;\n  }\n\n  return (\n    <React.Fragment>\n      <div style={{ marginBottom: 80 }}>\n        {/*<Toolbar/>*/}\n\n        <Switch>\n          <Route\n            path=\"/install/f/:vehicle/\"\n            component={Title({\n              component: PlacementViewFleet,\n              title: t('i.navbar.vehicle'),\n            })}\n          />\n          <Route\n            path=\"/install/f\"\n            component={Title({\n              component: ByFleet,\n              title: t('i.navbar.vehicles'),\n            })}\n          />\n          <Route path=\"/install/c/:campaign\" component={ByCampaign} />\n          <Route\n            path=\"/install/h\"\n            component={Title({\n              component: History,\n              title: t('i.navbar.history'),\n            })}\n          />\n          <Route\n            path=\"/install\"\n            component={Title({\n              component: CampaignsList,\n              title: t('i.navbar.campaigns'),\n            })}\n          />\n        </Switch>\n      </div>\n\n      <Navbar fixed=\"bottom\" className=\"navbar-container bg-main\">\n        <Container>\n          <Row className=\"text-white text-center i-bot-nav\">\n            <Col xs={4}>\n              <NavLink to=\"/install\" exact>\n                <i className=\"fa fa-home\" />\n              </NavLink>\n            </Col>\n            <Col xs={4}>\n              <NavLink to=\"/install/f\">\n                <i className=\"fa fa-bus\" />\n              </NavLink>\n            </Col>\n            <Col xs={4}>\n              <NavLink to=\"/install/h\">\n                <i className=\"fa fa-history\" />\n              </NavLink>\n            </Col>\n          </Row>\n        </Container>\n      </Navbar>\n    </React.Fragment>\n  );\n});\n","import React from 'react';\n\nimport { translate } from 'react-i18next';\n\nimport FormControl from 'react-bootstrap/FormControl';\n\nexport default translate()(({ i18n }) => {\n  return (\n    <FormControl\n      defaultValue={i18n.language}\n      onChange={(e) => i18n.changeLanguage(e.target.value)}\n      as=\"select\"\n    >\n      {i18n.validLangs.map(({ short }) => (\n        <option key={short} value={short}>\n          {short.toUpperCase()}\n        </option>\n      ))}\n    </FormControl>\n  );\n});\n","import styled from 'styled-components';\n// import * as COLOR from \"../../constants/colors\";\n\nexport const HideIcon = styled.span`\n  padding: 5px;\n  margin-left: 10px;\n`;\n\nexport const LoginInput = styled.input`\n  border-width: 2px;\n  border-color: #a9a9a9ff;\n  border-radius: 4px;\n  padding: 5px;\n  width: 85%;\n`;\n\nexport const InputWrapper = styled.div`\n  align-items: center;\n  justify-content: center;\n`;\n","import { faEye, faEyeSlash } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport React, { Component } from 'react';\nimport Alert from 'react-bootstrap/Alert';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { translate } from 'react-i18next';\nimport { Link } from 'react-router-dom';\n\nimport AuthContext from '../../context/auth-context';\n\nimport logo from '../../images/logo.svg';\n\nimport LanguageSelector from '../../utils/languageSelector';\nimport queryRequest from '../../utils/queryRequest';\n\nimport './loginPage.styles';\nimport { HideIcon, InputWrapper, LoginInput } from './loginPage.styles';\n\nconst AlertDismiss = (props) => {\n  return (\n    <Alert\n      className=\"mt-2\"\n      variant={props.type}\n      onClose={() => props.hide()}\n      dismissible\n    >\n      {props.message}\n    </Alert>\n  );\n};\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n    remember: true,\n    logging: null,\n    expired: this.props.expired,\n    invalid: false,\n    connection: this.props.connection,\n    hidden: true,\n  };\n\n  controller = new AbortController();\n  static contextType = AuthContext;\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    if (!this.state.email || !this.state.password) return;\n    this.setState({ logging: true });\n    const query = `query{login(email:\"${this.state.email}\",password:\"${this.state.password}\")}`;\n\n    try {\n      const { login } = await queryRequest(query, this.controller.signal);\n      if (!login)\n        this.setState({ invalid: true, logging: false, expired: false });\n      else this.context.login(login, this.state.remember);\n    } catch (err) {\n      if (err.name === 'SyntaxError') {\n        this.setState({ connection: true, logging: false, expired: false });\n      } else {\n        this.setState({ invalid: true, logging: false, expired: false });\n      }\n    }\n  };\n\n  handlePasswordToggle = () => {\n    this.setState((prevState) => ({ hidden: !prevState.hidden }));\n  };\n\n  handleUserChange = (evt) => {\n    this.setState({\n      email: evt.target.value,\n    });\n  };\n\n  handlePassChange = (evt) => {\n    this.setState({\n      password: evt.target.value,\n    });\n  };\n\n  handleRemeber = (evt) => {\n    this.setState({\n      remember: evt.target.checked,\n    });\n  };\n\n  render() {\n    const { t } = this.props;\n    const hidden = this.state.hidden;\n    return (\n      <div className=\"wrapper-page\">\n        <Card>\n          <Card.Body>\n            <div className=\"p-2\">\n              <h3 className=\"text-center m-0\">\n                <a href=\"/\" className=\"logo logo-admin\">\n                  <img src={logo} height=\"100\" alt=\"logo\" />\n                </a>\n              </h3>\n\n              {this.state.expired && (\n                <AlertDismiss\n                  message={t('login.failed.session')}\n                  hide={() => this.setState({ expired: false })}\n                  type=\"warning\"\n                />\n              )}\n              {this.state.invalid && (\n                <AlertDismiss\n                  message={t('login.failed.invalid')}\n                  hide={() => this.setState({ invalid: false })}\n                  type=\"danger\"\n                />\n              )}\n              {this.state.connection && (\n                <AlertDismiss\n                  message={t('login.failed.connection')}\n                  hide={() => this.setState({ connection: false })}\n                  type=\"warning\"\n                />\n              )}\n\n              <Form onSubmit={this.handleSubmit}>\n                <InputWrapper>\n                  <Form.Group>\n                    <Row>\n                      <Form.Label>{t('login.email.label')}</Form.Label>\n                    </Row>\n                    <Row>\n                      <LoginInput\n                        type=\"email\"\n                        name=\"email\"\n                        autoComplete=\"username\"\n                        placeholder={t('login.email.placeholder')}\n                        value={this.state.username}\n                        onChange={this.handleUserChange}\n                        required\n                      />\n                    </Row>\n                  </Form.Group>\n                  <Form.Group>\n                    <Row>\n                      <Form.Label>{t('login.password.label')}</Form.Label>\n                    </Row>\n                    <Row>\n                      <LoginInput\n                        // pattern=\".{6,}\"\n                        minLength=\"6\"\n                        type={hidden === true ? 'password' : 'text'}\n                        name=\"password\"\n                        autoComplete=\"password\"\n                        placeholder={t('login.password.placeholder')}\n                        value={this.state.password}\n                        onChange={this.handlePassChange}\n                        required\n                      />\n\n                      <HideIcon onClick={this.handlePasswordToggle}>\n                        {hidden === true ? (\n                          <FontAwesomeIcon icon={faEyeSlash} />\n                        ) : (\n                          <FontAwesomeIcon icon={faEye} />\n                        )}\n                      </HideIcon>\n                    </Row>\n                  </Form.Group>\n                </InputWrapper>\n                <Row className=\"m-t-20\">\n                  <Col xs={6}>\n                    <div className=\"custom-control custom-checkbox\">\n                      <input\n                        type=\"checkbox\"\n                        className=\"custom-control-input\"\n                        id=\"customControlInline\"\n                        checked={this.state.remember}\n                        onChange={this.handleRemeber}\n                      />\n                      <label\n                        className=\"custom-control-label\"\n                        htmlFor=\"customControlInline\"\n                      >\n                        {t('login.remember.label')}\n                      </label>\n                    </div>\n                  </Col>\n                  <Col xs={6} className=\"text-right\">\n                    <Button\n                      variant=\"primary\"\n                      className=\"w-md waves-effect waves-light\"\n                      type=\"submit\"\n                    >\n                      {this.state.logging && (\n                        <Spinner\n                          animation=\"border\"\n                          size=\"sm\"\n                          className=\"mr-1\"\n                        />\n                      )}\n                      {t('login.button.submit.label')}\n                    </Button>\n                  </Col>\n                </Row>\n              </Form>\n              <Row>\n                <Col className=\"m-t-20 p-0 d-flex align-items-center\">\n                  <Link className=\"text-muted\" to=\"/reset_password\">\n                    <i className=\"mdi mdi-lock\" />\n                    {t('login.forget.label')}\n                  </Link>\n                </Col>\n                <Col xs={2} className=\"m-t-20 p-0\">\n                  <LanguageSelector />\n                </Col>\n              </Row>\n            </div>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\nexport default translate()(Login);\n","import jwt_decode from 'jwt-decode';\nimport React, { Component } from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { translate } from 'react-i18next';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport AuthContext from '../context/auth-context';\n\nimport Dashboard from '../pages/dashboard';\nimport Installation from '../pages/installation';\nimport Login from '../pages/login/login';\n\nimport queryRequest from '../utils/queryRequest';\n\nconst rolesToDashboard = [1, 3, 5];\n\nconst LoggingIn = translate()(({ t }) => (\n  <div className=\"wrapper-page\">\n    <Card>\n      <Card.Body>\n        <div className=\"p-2\">\n          <div className=\"text-center m-3\">\n            <Spinner\n              animation=\"border\"\n              variant=\"info\"\n              style={{ width: '4rem', height: '4rem' }}\n            />\n          </div>\n          <h4 className=\"mt-0 header-title text-center\">\n            {t('login.logging')}\n          </h4>\n        </div>\n      </Card.Body>\n    </Card>\n  </div>\n));\n\nclass Auth extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      validated: null,\n      expired: false,\n      connection: false,\n      token: null,\n      user: {\n        name: null,\n        role: null,\n      },\n      tokenExpiration: null,\n    };\n    if (sessionStorage.getItem('ACCESS_TOKEN')) {\n      sessionStorage.setItem('_t', sessionStorage.getItem('ACCESS_TOKEN'));\n      sessionStorage.removeItem('ACCESS_TOKEN');\n    }\n    if (localStorage.getItem('ACCESS_TOKEN')) {\n      localStorage.setItem('_t', localStorage.getItem('ACCESS_TOKEN'));\n      localStorage.removeItem('ACCESS_TOKEN');\n    }\n    if (sessionStorage.getItem('_t') || localStorage.getItem('_t')) {\n      this.state.token =\n        sessionStorage.getItem('_t') || localStorage.getItem('_t');\n      this.tokenValidate();\n    }\n  }\n  controller = new AbortController();\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  tokenValidate = async () => {\n    const query = 'query{tokenValidate}';\n    try {\n      const { tokenValidate } = await queryRequest(\n        query,\n        this.controller.signal\n      );\n      this.login(tokenValidate, true);\n    } catch (err) {\n      if (err.name === 'SyntaxError') {\n        this.setState({ validated: false, connection: true });\n      } else {\n        this.setState({ validated: false, expired: true });\n      }\n    }\n  };\n\n  login = (token, remember) => {\n    if (!token) return;\n    if (remember) {\n      localStorage.setItem('_t', token);\n      sessionStorage.removeItem('_t');\n    } else {\n      localStorage.removeItem('_t');\n      sessionStorage.setItem('_t', token);\n    }\n    const token_data = jwt_decode(token);\n    this.setState({\n      token,\n      user: {\n        _id: token_data.userId,\n        name: token_data.userName,\n        role: token_data.userRole,\n      },\n      tokenExpiration: token_data.exp,\n      validated: true,\n      connection: false,\n      expired: false,\n    });\n  };\n\n  logout = () => {\n    localStorage.removeItem('_t');\n    sessionStorage.removeItem('_t');\n    this.setState({\n      token: null,\n      user: { name: null, role: null },\n      tokenExpiration: null,\n      validated: null,\n    });\n  };\n\n  render() {\n    const {\n      validated,\n      token,\n      user,\n      expired,\n      connection,\n      tokenExpiration,\n    } = this.state;\n    if (validated === null && token !== null) return <LoggingIn />;\n\n    return (\n      <AuthContext.Provider\n        value={{\n          tokenExpiration: tokenExpiration,\n          token: token,\n          _id: user._id,\n          name: user.name,\n          role: user.role,\n          validated: validated,\n          login: this.login,\n          logout: this.logout,\n        }}\n      >\n        {!validated && <Login expired={expired} connection={connection} />}\n        {validated && (\n          <Switch>\n            <Route path=\"/install\" component={Installation} />\n            {rolesToDashboard.includes(user.role) && (\n              <Route path=\"/dashboard\" component={Dashboard} />\n            )}\n\n            <Route component={() => <RootRedirect role={user.role} />} />\n          </Switch>\n        )}\n      </AuthContext.Provider>\n    );\n  }\n}\n\nconst RootRedirect = ({ role }) => {\n  if (rolesToDashboard.includes(role)) return <Redirect to=\"/dashboard\" />;\n  return <Redirect to=\"/install\" />;\n};\n\nexport default Auth;\n","import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();\n","import React, { Component } from 'react';\nimport queryRequest from '../utils/queryRequest';\n\nimport { translate } from 'react-i18next';\n\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nconst RecoveryForm = translate()(({ t, doSubmit, value, doEmailChange }) => {\n  return (\n    <Form onSubmit={doSubmit}>\n      <h4 className=\"mt-0 header-title\">{t('forget.title')}</h4>\n      <p className=\"mb-10\">{t('forget.from.email.label')}</p>\n      <Form.Group>\n        <Form.Control\n          type=\"email\"\n          name=\"email\"\n          autoComplete=\"username\"\n          placeholder={t('forget.form.email.placeholder')}\n          value={value}\n          onChange={doEmailChange}\n          required\n        />\n      </Form.Group>\n      <Button\n        variant=\"primary\"\n        className=\"w-md waves-effect waves-light\"\n        type=\"submit\"\n      >\n        {t('forget.form.button.label')}\n      </Button>\n    </Form>\n  );\n});\n\nconst Information = translate()(({ t }) => {\n  return (\n    <React.Fragment>\n      <h4 className=\"mt-0 header-title\">{t('forget.submit.title')}</h4>\n      <p className=\"mb-10\">{t('forget.submit.description')}</p>\n    </React.Fragment>\n  );\n});\n\nclass PasswordRecovery extends Component {\n  state = {\n    email: '',\n    submit: false,\n  };\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    if (!this.state.email) return;\n    const query = `query{passwordRecovery(email:\"${this.state.email}\")}`;\n\n    try {\n      await queryRequest(query, this.controller.signal);\n      this.setState({ submit: true });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  handleEmailChange = (evt) => this.setState({ email: evt.target.value });\n\n  render() {\n    return (\n      <div className=\"wrapper-page\">\n        <Card>\n          <Card.Body>\n            <div className=\"p-2\">\n              {!this.state.submit && (\n                <RecoveryForm\n                  doEmailChange={this.handleEmailChange}\n                  doSubmit={this.handleSubmit}\n                  value={this.state.email}\n                />\n              )}\n              {this.state.submit && <Information />}\n            </div>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default PasswordRecovery;\n","import React, { Component } from 'react';\nimport queryRequest from '../utils/queryRequest';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\n\nimport { translate } from 'react-i18next';\n\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\nconst RecoveryForm = translate()(\n  ({ t, doSubmit, pass1, doPassword1Change, pass2, doPassword2Change }) => (\n    <Form onSubmit={doSubmit}>\n      <h4 className=\"mt-0 header-title\">{t('reset.title')}</h4>\n      <Form.Group>\n        <Form.Label>{t('reset.form.password1.label')}</Form.Label>\n        <Form.Control\n          type=\"password\"\n          pattern=\".{6,}\"\n          placeholder={t('reset.form.password1.placeholder')}\n          value={pass1}\n          onChange={doPassword1Change}\n          required\n        />\n      </Form.Group>\n      <Form.Group>\n        <Form.Label>{t('reset.form.password2.label')}</Form.Label>\n        <Form.Control\n          type=\"password\"\n          pattern=\".{6,}\"\n          placeholder={t('reset.form.password2.placeholder')}\n          value={pass2}\n          onChange={doPassword2Change}\n          required\n        />\n      </Form.Group>\n      <Button\n        variant=\"primary\"\n        className=\"w-md waves-effect waves-light\"\n        type=\"submit\"\n      >\n        {t('reset.form.button.submit')}\n      </Button>\n    </Form>\n  )\n);\n\nconst Information = translate()(({ t }) => (\n  <React.Fragment>\n    <h4 className=\"mt-0 header-title\">{t('reset.submit.title')}</h4>\n    <p className=\"mb-10\">{t('reset.submit.description')}</p>\n    <Link className=\"btn btn-primary w-md waves-effect waves-light\" to=\"/login\">\n      {t('reset.submit.button.redirect.login')}\n    </Link>\n  </React.Fragment>\n));\n\nconst InvalidToken = translate()(({ t }) => (\n  <React.Fragment>\n    <h4 className=\"mt-0 header-title\">{t('reset.invalid.title')}</h4>\n    <p className=\"mb-10\">{t('reset.invalid.description')}</p>\n    <Link\n      className=\"btn btn-primary w-md waves-effect waves-light\"\n      to=\"/reset_password\"\n    >\n      {t('reset.invalid.button.redirect.reset')}\n    </Link>\n  </React.Fragment>\n));\n\nclass NewPassword extends Component {\n  state = {\n    password1: '',\n    password2: '',\n    token: '',\n    tokenError: false,\n    success: false,\n  };\n\n  controller = new AbortController();\n  componentDidMount() {\n    this.validateToken(this.props.match.params.token);\n  }\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    if (!this.state.token) return;\n    if (!this.state.password1) return;\n    if (!this.state.password2) return;\n    if (this.state.password1 !== this.state.password2) return;\n\n    const query = `mutation{resetPassword(token:\"${this.state.token}\", password:\"${this.state.password1}\")}`;\n    try {\n      const { resetPassword } = await queryRequest(\n        query,\n        this.controller.signal\n      );\n      const { t } = this.props;\n      if (!resetPassword) {\n        Swal.fire({\n          icon: 'error',\n          title: t('reset.form.invalid.title'),\n          text: t('reset.form.invalid.text'),\n          showConfirmButton: false,\n          timer: 1500,\n        });\n      } else {\n        Swal.fire({\n          icon: 'success',\n          title: t('reset.form.success.title'),\n          showConfirmButton: false,\n          timer: 1500,\n        });\n        this.setState({ success: true });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  validateToken = async (token) => {\n    const query = `query{recoveryValidate(token:\"${token}\")}`;\n    try {\n      const { recoveryValidate } = await queryRequest(\n        query,\n        this.controller.signal\n      );\n      if (!recoveryValidate) this.setState({ tokenError: true });\n      else this.setState({ token: recoveryValidate });\n    } catch (err) {\n      this.setState({ tokenError: true });\n      console.log(err);\n    }\n  };\n\n  handlePassword1Change = (evt) =>\n    this.setState({ password1: evt.target.value });\n  handlePassword2Change = (evt) =>\n    this.setState({ password2: evt.target.value });\n\n  render() {\n    if (!this.state.token && !this.state.tokenError) return null;\n    return (\n      <div className=\"wrapper-page\">\n        <Card>\n          <Card.Body>\n            <div className=\"p-2\">\n              {this.state.tokenError && <InvalidToken />}\n              {!this.state.tokenError && !this.state.success && (\n                <RecoveryForm\n                  doPassword1Change={this.handlePassword1Change}\n                  doPassword2Change={this.handlePassword2Change}\n                  doSubmit={this.handleSubmit}\n                  pass1={this.state.password1}\n                  pass2={this.state.password2}\n                />\n              )}\n              {!this.state.tokenError && this.state.success && <Information />}\n            </div>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\nexport default translate()(NewPassword);\n","import React, { Component } from 'react';\nimport queryRequest from '../../utils/queryRequest';\nimport FleetDetails from '../dashboard/campaigns/fleetDetails';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport { translate } from 'react-i18next';\nimport Lightbox from 'react-image-lightbox';\n\nimport AuthContext from '../../context/auth-context';\nimport Badge from 'react-bootstrap/Badge';\nimport Swal from 'sweetalert2';\n\nimport {\n  TimeSpan,\n  SaleBy,\n  Cities,\n  Live,\n  InstallProgress,\n  ActivityTable,\n} from '../dashboard/campaignDetails/cards';\n\nclass Details extends Component {\n  state = {\n    campaign: {},\n    loaded: false,\n    selected: '',\n\n    progress: {},\n    index: 0,\n    lightbox: false,\n  };\n\n  controller = new AbortController();\n  static contextType = AuthContext;\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  async componentDidMount() {\n    const query = `query{campaign(_id:\"${this.props.match.params.id}\"){\n            _id name client{_id company}creator{_id name}budget startDate endDate created_at cities{name latitude longitude}\n            pictures { path thumbnail created_at }\n            placements{_id place{name} installs{installed vehicle{_id city{name}operator{company operatorId}}created_at count}\n      count isPublic}}}`;\n\n    try {\n      const { campaign } = await queryRequest(\n        query,\n        this.controller.signal,\n        this.props.token\n      );\n      if (campaign) this.setState({ campaign, loaded: true });\n      else this.setState({ loaded: true });\n    } catch (err) {\n      console.log('Ohnoo, ', err.toString());\n      this.setState({ loaded: true });\n    }\n  }\n\n  getMapData() {\n    const query = `query{campaignVehicles(_id: \"${this.state.campaign._id}\"){_id haveAds longitude latitude}}`;\n\n    return {\n      height: 530,\n      query: query,\n      latitude: this.state.campaign.cities[0].latitude,\n      longitude: this.state.campaign.cities[0].longitude,\n      zoom: 7,\n      getData: (data) => data.campaignVehicles,\n      smooth: true,\n      token: this.props.token,\n      details: false,\n    };\n  }\n\n  handleSelection = (selection) => {\n    if (this.state.selected !== selection)\n      this.setState({ selected: selection });\n    else this.setState({ selected: '' });\n  };\n\n  totalFleets() {\n    const countList = [];\n    for (const placement of this.state.campaign.placements)\n      for (const install of placement.installs)\n        countList.push(install.vehicle._id);\n\n    return new Set(countList).size;\n  }\n\n  timeLeftPercent() {\n    return (\n      ((new Date().getTime() - this.state.campaign.startDate) /\n        (this.state.campaign.endDate - this.state.campaign.startDate)) *\n      100\n    );\n  }\n\n  openLightBox = () => {\n    const { t } = this.props;\n    if (\n      this.state.campaign &&\n      this.state.campaign.pictures &&\n      this.state.campaign.pictures.length > 0\n    )\n      this.setState({ lightbox: true });\n    else {\n      Swal.fire({\n        icon: 'info',\n        title: t('db.campaign.images.info.empty.title'),\n        text: t('db.campaign.images.info.empty.text'),\n        showConfirmButton: false,\n        timer: 3000,\n      });\n    }\n  };\n\n  render() {\n    const { t } = this.props;\n    if (this.state.loaded && Object.keys(this.state.campaign).length === 0)\n      return (\n        <div className=\"container-fluid text-center\">\n          <h3 className=\"text-white\">{t('db.campaign.404')}</h3>\n        </div>\n      );\n    const { pictures } = this.state.campaign;\n    const { index } = this.state;\n\n    return (\n      <div className=\"container-fluid\">\n        {this.state.lightbox && (\n          <Lightbox\n            mainSrc={pictures[index].path}\n            nextSrc={pictures[(index + 1) % pictures.length].path}\n            prevSrc={\n              pictures[(index + pictures.length - 1) % pictures.length].path\n            }\n            onCloseRequest={() => this.setState({ lightbox: false })}\n            onMovePrevRequest={() =>\n              this.setState({\n                index: (index + pictures.length - 1) % pictures.length,\n              })\n            }\n            onMoveNextRequest={() =>\n              this.setState({ index: (index + 1) % pictures.length })\n            }\n          />\n        )}\n        <Row className=\"border-bottom mb-4\">\n          <Col xs={12}>\n            <h3 className=\"text-white\">\n              {!this.state.loaded && 'Loading...'}\n              {this.state.loaded &&\n                this.state.campaign.client.company +\n                  ': ' +\n                  this.state.campaign.name}\n              {this.state.loaded && (\n                <div\n                  className=\"float-right campview-images\"\n                  onClick={this.openLightBox}\n                >\n                  <i className=\"ion ion-images\" /> Images{' '}\n                  <Badge variant={pictures.length ? 'success' : 'danger'}>\n                    {pictures.length}\n                  </Badge>\n                </div>\n              )}\n            </h3>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col md={12} xl={4} className=\"mb-4\">\n            <TimeSpan\n              data={{\n                loaded: this.state.loaded,\n                startDate: this.state.loaded && this.state.campaign.startDate,\n                endDate: this.state.loaded && this.state.campaign.endDate,\n                now: this.state.loaded && this.timeLeftPercent(),\n              }}\n            />\n          </Col>\n          <Col md={6} xl={4}>\n            <Cities\n              data={{\n                loaded: this.state.loaded,\n                cities:\n                  this.state.loaded &&\n                  this.state.campaign.cities\n                    .map((city) => city.name)\n                    .join(', '),\n                vehicles: this.state.loaded && this.totalFleets(),\n              }}\n            />\n          </Col>\n\n          <Col md={6} xl={4}>\n            <SaleBy\n              data={{\n                loaded: this.state.loaded,\n                creator: this.state.loaded && this.state.campaign.creator,\n                date: this.state.loaded && this.state.campaign.created_at,\n              }}\n            />\n          </Col>\n        </Row>\n\n        <Row>\n          <Col xl={8}>\n            <Live\n              data={{\n                loaded: this.state.loaded,\n                mapData: this.state.loaded && this.getMapData(),\n                selected: this.state.selected,\n                handleSelection: this.handleSelection,\n              }}\n            />\n          </Col>\n\n          <Col xl={4}>\n            <InstallProgress\n              data={{\n                loaded: this.state.loaded,\n                placements: this.state.loaded && this.state.campaign.placements,\n              }}\n            />\n          </Col>\n        </Row>\n\n        <Row>\n          {this.state.loaded && (\n            <Col xl={8}>\n              <ActivityTable\n                data={{\n                  placements: this.state.campaign.placements,\n                  rowCallback: (el, data) =>\n                    (el.onclick = () => this.handleSelection(data._id)),\n                }}\n              />\n            </Col>\n          )}\n\n          {this.state.selected && (\n            <Col xl={4}>\n              <FleetDetails\n                data={this.state.selected}\n                token={this.props.token}\n              />\n            </Col>\n          )}\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default translate()(Details);\n","import React, { Component } from 'react';\nimport queryRequest from '../../utils/queryRequest';\n\nimport { translate } from 'react-i18next';\n\nimport CampaignDetails from './details';\n\nimport Alert from 'react-bootstrap/Alert';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Row from 'react-bootstrap/Row';\nimport LanguageSelector from '../../utils/languageSelector';\n\nimport logo from '../../images/logo.svg';\n\nconst View = translate()(({ t, token, match }) => (\n  <div id=\"wrapper\">\n    <div className=\"content-page\" style={{ marginLeft: 0 }}>\n      <div className=\"content\">\n        <div className=\"page-content-wrapper\" style={{ paddingTop: 0 }}>\n          <CampaignDetails token={token} match={match} client={true} />\n        </div>\n      </div>\n      <footer className=\"footer\">© {t('company.name')}</footer>\n    </div>\n  </div>\n));\n\nconst AlertDismiss = ({ type, hide, message }) => (\n  <Alert className=\"mt-2\" variant={type} onClose={() => hide()} dismissible>\n    {message}\n  </Alert>\n);\n\nclass ClientLogin extends Component {\n  state = {\n    password: '',\n    logging: null,\n    invalid: false,\n    connection: false,\n    token: '',\n  };\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    if (!this.state.password) return;\n    this.setState({ logging: true });\n    const query = `query{campaignLogin(_id:\"${this.props.match.params.id}\",password:\"${this.state.password}\")}`;\n    try {\n      const { campaignLogin } = await queryRequest(\n        query,\n        this.controller.signal\n      );\n      if (campaignLogin) this.setState({ token: campaignLogin });\n      else this.setState({ invalid: true, logging: false });\n    } catch (err) {\n      if (err.name === 'SyntaxError') {\n        this.setState({ connection: true, logging: false });\n      } else {\n        this.setState({ invalid: true, logging: false });\n      }\n    }\n  };\n\n  handlePassChange = (evt) => this.setState({ password: evt.target.value });\n\n  render() {\n    if (this.state.token) {\n      return <View token={this.state.token} match={this.props.match} />;\n    }\n\n    const { t } = this.props;\n    return (\n      <div className=\"wrapper-page\">\n        <Card>\n          <Card.Body>\n            <div className=\"p-2\">\n              <h3 className=\"text-center m-0\">\n                <a href=\"/\" className=\"logo logo-admin\">\n                  <img src={logo} height=\"100\" alt=\"logo\" />\n                </a>\n              </h3>\n\n              {this.state.invalid && (\n                <AlertDismiss\n                  message={t('login.failed.invalid')}\n                  hide={() => this.setState({ invalid: false })}\n                  type=\"danger\"\n                />\n              )}\n              {this.state.connection && (\n                <AlertDismiss\n                  message={t('login.failed.connection')}\n                  hide={() => this.setState({ connection: false })}\n                  type=\"warning\"\n                />\n              )}\n\n              <Form onSubmit={this.handleSubmit}>\n                <Form.Group>\n                  <Form.Label>{t('login.password.label')}</Form.Label>\n                  <Form.Control\n                    pattern=\".{6,}\"\n                    type=\"password\"\n                    placeholder={t('login.password.placeholder')}\n                    value={this.state.password}\n                    onChange={this.handlePassChange}\n                    required\n                  />\n                </Form.Group>\n                <Form.Group className=\"m-t-20\">\n                  <Col xs={12} className=\"text-right\">\n                    <Button\n                      variant=\"primary\"\n                      className=\"w-md waves-effect waves-light\"\n                      type=\"submit\"\n                    >\n                      {this.state.logging && (\n                        <Spinner\n                          animation=\"border\"\n                          size=\"sm\"\n                          className=\"mr-1\"\n                        />\n                      )}\n                      {t('login.button.submit.label')}\n                    </Button>\n                  </Col>\n                </Form.Group>\n              </Form>\n\n              <Row>\n                <Col className=\"m-t-20 p-0\"></Col>\n                <Col xs={2} className=\"m-t-20 p-0\">\n                  <LanguageSelector />\n                </Col>\n              </Row>\n            </div>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default translate()(ClientLogin);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/custom.css';\nimport './css/style.css';\nimport 'leaflet/dist/leaflet.css';\nimport './css/icons/css/materialdesignicons.css';\nimport './css/icons/css/fontawesome.css';\nimport './css/icons/css/ionicons.css';\nimport './css/icons/css/dripicons.css';\n\nimport './i18n';\nimport Auth from './utils/withAuth';\nimport { Router, Switch, Route } from 'react-router-dom';\nimport history from './history';\n\nimport PasswordRecovery from './pages/passwordRecovery';\nimport NewPassword from './pages/newPassword';\nimport ClientLogin from './components/client/login';\n\nconst MainRouting = () => {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route path=\"/reset_password\" component={PasswordRecovery} />\n        <Route path=\"/new_password/:token\" component={NewPassword} />\n        <Route path=\"/campaign/:id\" component={ClientLogin} />\n        <Route component={Auth} />\n      </Switch>\n    </Router>\n  );\n};\n\nReactDOM.render(<MainRouting />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.7d82b0fb.svg\";"],"sourceRoot":""}