{"version":3,"sources":["pages/passwordRecovery.jsx"],"names":["RecoveryForm","translate","t","doSubmit","value","doEmailChange","onSubmit","className","Group","Control","type","name","autoComplete","placeholder","onChange","required","variant","Information","Fragment","PasswordRecovery","state","email","submit","controller","AbortController","handleSubmit","evt","a","preventDefault","query","queryRequest","signal","setState","console","log","handleEmailChange","target","this","abort","Body","Component"],"mappings":"2NASMA,EAAeC,eAAY,YAA4C,IAAzCC,EAAwC,EAAxCA,EAAGC,EAAqC,EAArCA,SAAUC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cACtD,OACE,kBAAC,IAAD,CAAMC,SAAUH,GACd,wBAAII,UAAU,qBAAqBL,EAAE,iBACrC,uBAAGK,UAAU,SAASL,EAAE,4BACxB,kBAAC,IAAKM,MAAN,KACE,kBAAC,IAAKC,QAAN,CACEC,KAAK,QACLC,KAAK,QACLC,aAAa,WACbC,YAAaX,EAAE,iCACfE,MAAOA,EACPU,SAAUT,EACVU,UAAQ,KAGZ,kBAAC,IAAD,CACEC,QAAQ,UACRT,UAAU,gCACVG,KAAK,UAEJR,EAAE,iCAMLe,EAAchB,eAAY,YAAY,IAATC,EAAQ,EAARA,EACjC,OACE,kBAAC,IAAMgB,SAAP,KACE,wBAAIX,UAAU,qBAAqBL,EAAE,wBACrC,uBAAGK,UAAU,SAASL,EAAE,kCAKxBiB,E,4MACJC,MAAQ,CACNC,MAAO,GACPC,QAAQ,G,EAEVC,WAAa,IAAIC,gB,EAMjBC,a,uCAAe,WAAOC,GAAP,eAAAC,EAAA,yDACbD,EAAIE,iBACC,EAAKR,MAAMC,MAFH,wDAGPQ,EAHO,wCAGkC,EAAKT,MAAMC,MAH7C,yBAMLS,YAAaD,EAAO,EAAKN,WAAWQ,QAN/B,OAOX,EAAKC,SAAS,CAAEV,QAAQ,IAPb,kDASXW,QAAQC,IAAR,MATW,0D,wDAafC,kBAAoB,SAACT,GAAD,OAAS,EAAKM,SAAS,CAAEX,MAAOK,EAAIU,OAAOhC,S,qEAhB7DiC,KAAKd,WAAWe,U,+BAmBhB,OACE,yBAAK/B,UAAU,gBACb,kBAAC,IAAD,KACE,kBAAC,IAAKgC,KAAN,KACE,yBAAKhC,UAAU,QACX8B,KAAKjB,MAAME,QACX,kBAACtB,EAAD,CACEK,cAAegC,KAAKF,kBACpBhC,SAAUkC,KAAKZ,aACfrB,MAAOiC,KAAKjB,MAAMC,QAGrBgB,KAAKjB,MAAME,QAAU,kBAACL,EAAD,c,GAvCLuB,aAgDhBrB","file":"static/js/5.19ad2958.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport queryRequest from '../utils/queryRequest';\n\nimport { translate } from 'react-i18next';\n\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n\nconst RecoveryForm = translate()(({ t, doSubmit, value, doEmailChange }) => {\n  return (\n    <Form onSubmit={doSubmit}>\n      <h4 className=\"mt-0 header-title\">{t('forget.title')}</h4>\n      <p className=\"mb-10\">{t('forget.from.email.label')}</p>\n      <Form.Group>\n        <Form.Control\n          type=\"email\"\n          name=\"email\"\n          autoComplete=\"username\"\n          placeholder={t('forget.form.email.placeholder')}\n          value={value}\n          onChange={doEmailChange}\n          required\n        />\n      </Form.Group>\n      <Button\n        variant=\"primary\"\n        className=\"w-md waves-effect waves-light\"\n        type=\"submit\"\n      >\n        {t('forget.form.button.label')}\n      </Button>\n    </Form>\n  );\n});\n\nconst Information = translate()(({ t }) => {\n  return (\n    <React.Fragment>\n      <h4 className=\"mt-0 header-title\">{t('forget.submit.title')}</h4>\n      <p className=\"mb-10\">{t('forget.submit.description')}</p>\n    </React.Fragment>\n  );\n});\n\nclass PasswordRecovery extends Component {\n  state = {\n    email: '',\n    submit: false,\n  };\n  controller = new AbortController();\n\n  componentWillUnmount() {\n    this.controller.abort();\n  }\n\n  handleSubmit = async (evt) => {\n    evt.preventDefault();\n    if (!this.state.email) return;\n    const query = `query{passwordRecovery(email:\"${this.state.email}\")}`;\n\n    try {\n      await queryRequest(query, this.controller.signal);\n      this.setState({ submit: true });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  handleEmailChange = (evt) => this.setState({ email: evt.target.value });\n\n  render() {\n    return (\n      <div className=\"wrapper-page\">\n        <Card>\n          <Card.Body>\n            <div className=\"p-2\">\n              {!this.state.submit && (\n                <RecoveryForm\n                  doEmailChange={this.handleEmailChange}\n                  doSubmit={this.handleSubmit}\n                  value={this.state.email}\n                />\n              )}\n              {this.state.submit && <Information />}\n            </div>\n          </Card.Body>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default PasswordRecovery;\n"],"sourceRoot":""}